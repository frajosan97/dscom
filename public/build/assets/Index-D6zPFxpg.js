import{v as I,r as u,j as e,m as g,$ as w}from"./app-B06hfKGj.js";import{p as L,w as B,x as N}from"./index-Djc-f2S-.js";import{E as y}from"./ErpLayout-B3oWaJaT.js";import{R as f,y as v}from"./Footer-DDeWqo-b.js";import{x as G}from"./axios-y2uZTyoQ.js";import{F as a,C as s}from"./Form-BAgPDe-D.js";import{B as T}from"./ButtonGroup-Ii35VLGf.js";import{B as C}from"./Image-CGBT7qjj.js";import{T as S}from"./Tabs-Boba3xQV.js";import{T as b}from"./Tab-BEO_8HHj.js";import{C as x}from"./Card-DRqWWn-y.js";import{T as k}from"./Table-BvYtOJoC.js";import"./iconBase-DVvsfse2.js";/* empty css                      */import"./CloseButton-rn___kEl.js";function E(){const{data:n,setData:t}=I({name:"",email:"",phone:"",username:"",password:"",confirmPassword:"",gender:"Male",age:"",qualification:"",designation:"",salaryType:"",salary:"",bloodGroup:"",role:"",endingDate:"16/08/2026",openingBalance:"0",address:"",description:"",status:"Enable",profileImage:null,idCard:null,document:null}),r=c=>{const{name:h,value:d,type:o,files:j}=c.target;t(h,o==="file"?j[0]:d)},[l,i]=u.useState(!1),m=async c=>{var h,d;c.preventDefault(),i(!0);try{const o=await G.post(route("employee.store"),n);o.data.success&&(i(!1),v.success(o.data.message),g.visit(route("employee.index")))}catch(o){i(!1),v.error(((d=(h=o.response)==null?void 0:h.data)==null?void 0:d.message)||"An error occurred while updating the order")}};return e.jsx(a,{id:"userForm",onSubmit:m,encType:"multipart/form-data",children:e.jsxs(f,{children:[e.jsxs(s,{md:12,className:"mb-2 d-flex justify-content-between align-items-center",children:[e.jsx("h6",{className:"mb-0 fw-semibold",children:"Create User"}),e.jsxs(T,{className:"float-end gap-2",children:[e.jsx(C,{variant:"warning",size:"sm",className:"rounded-0",onClick:()=>g.visit(route("employee.index")),children:"Cancel"}),e.jsx(C,{variant:"success",size:"sm",className:"rounded-0",type:"submit",disabled:l,children:l?"Processing...":"Save"})]})]}),e.jsx(s,{md:12,children:e.jsx("hr",{className:"m-0 mb-2"})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"name",children:[e.jsx(a.Label,{children:"Name*"}),e.jsx(a.Control,{type:"text",name:"name",value:n.name,onChange:r,required:!0})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"email",children:[e.jsx(a.Label,{children:"Email"}),e.jsx(a.Control,{type:"email",name:"email",value:n.email,onChange:r})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"phone",children:[e.jsx(a.Label,{children:"Phone*"}),e.jsx(a.Control,{type:"tel",name:"phone",value:n.phone,onChange:r,required:!0})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"username",children:[e.jsx(a.Label,{children:"Username"}),e.jsx(a.Control,{type:"text",name:"username",value:n.username,onChange:r,placeholder:"demoadmin"})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"gender",children:[e.jsx(a.Label,{children:"Gender"}),e.jsxs(a.Select,{name:"gender",value:n.gender,onChange:r,children:[e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"age",children:[e.jsx(a.Label,{children:"Age"}),e.jsx(a.Control,{type:"number",name:"age",value:n.age,onChange:r,placeholder:"Age"})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"qualification",children:[e.jsx(a.Label,{children:"Qualification"}),e.jsx(a.Control,{type:"text",name:"qualification",value:n.qualification,onChange:r,placeholder:"Text"})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"designation",children:[e.jsx(a.Label,{children:"Designation"}),e.jsx(a.Control,{type:"text",name:"designation",value:n.designation,onChange:r,placeholder:"Text"})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"salaryType",children:[e.jsx(a.Label,{children:"Salary Type"}),e.jsxs(a.Select,{name:"salaryType",value:n.salaryType,onChange:r,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Weekly",children:"Weekly"}),e.jsx("option",{value:"Daily",children:"Daily"})]})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"salary",children:[e.jsx(a.Label,{children:"Salary"}),e.jsx(a.Control,{type:"text",name:"salary",value:n.salary,onChange:r,placeholder:"Text"})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"bloodGroup",children:[e.jsx(a.Label,{children:"Blood Group"}),e.jsxs(a.Select,{name:"bloodGroup",value:n.bloodGroup,onChange:r,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"})]})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"role",children:[e.jsx(a.Label,{children:"Role*"}),e.jsxs(a.Select,{name:"role",value:n.role,onChange:r,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"admin",children:"admin"}),e.jsx("option",{value:"manager",children:"manager"}),e.jsx("option",{value:"technician",children:"technician"}),e.jsx("option",{value:"receptionist",children:"receptionist"}),e.jsx("option",{value:"supervisor",children:"supervisor"}),e.jsx("option",{value:"sales",children:"sales"})]})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"endingDate",children:[e.jsx(a.Label,{children:"Ending Date"}),e.jsx(a.Control,{type:"text",name:"endingDate",value:n.endingDate,onChange:r,readOnly:!0})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"openingBalance",children:[e.jsx(a.Label,{children:"Opening Balance"}),e.jsx(a.Control,{type:"text",name:"openingBalance",value:n.openingBalance,onChange:r})]})}),e.jsx(s,{md:4,className:"mb-2",children:e.jsxs(a.Group,{controlId:"address",children:[e.jsx(a.Label,{children:"Address"}),e.jsx(a.Control,{as:"textarea",rows:1,name:"address",value:n.address,onChange:r,placeholder:"Content"})]})}),e.jsx(s,{md:4,className:"mb-2",children:e.jsxs(a.Group,{controlId:"description",children:[e.jsx(a.Label,{children:"Description"}),e.jsx(a.Control,{as:"textarea",rows:1,name:"description",value:n.description,onChange:r,placeholder:"Content"})]})}),e.jsxs(s,{md:3,className:"mb-2",children:[e.jsx(a.Label,{children:"Status"}),e.jsxs("div",{children:[e.jsx(a.Check,{inline:!0,type:"radio",label:"Enable",name:"status",id:"enable",value:"Enable",checked:n.status==="Enable",onChange:r}),e.jsx(a.Check,{inline:!0,type:"radio",label:"Disable",name:"status",id:"disable",value:"Disable",checked:n.status==="Disable",onChange:r})]})]}),e.jsx(s,{md:3,className:"mb-2",children:e.jsxs(a.Group,{controlId:"profileImage",children:[e.jsx(a.Label,{children:"Profile Image"}),e.jsx(a.Control,{type:"file",name:"profileImage",onChange:r}),e.jsx(a.Text,{className:"text-muted",children:"No file chosen"})]})}),e.jsx(s,{md:3,className:"mb-2",children:e.jsxs(a.Group,{controlId:"idCard",children:[e.jsx(a.Label,{children:"Id Card"}),e.jsx(a.Control,{type:"file",name:"idCard",onChange:r}),e.jsx(a.Text,{className:"text-muted",children:"No file chosen"})]})}),e.jsx(s,{md:3,className:"mb-2",children:e.jsxs(a.Group,{controlId:"document",children:[e.jsx(a.Label,{children:"Document"}),e.jsx(a.Control,{type:"file",name:"document",onChange:r}),e.jsx(a.Text,{className:"text-muted",children:"No file chosen"})]})})]})})}function A(){return e.jsx(f,{children:e.jsx(s,{md:12,className:"text-center py-5",children:"No reviews available at the moment"})})}function F({employee:n}){const{data:t,setData:r,errors:l}=I({name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",username:(n==null?void 0:n.username)||"",password:"",confirmPassword:"",gender:(n==null?void 0:n.gender)||"Male",age:(n==null?void 0:n.age)||"",qualification:(n==null?void 0:n.qualification)||"",designation:(n==null?void 0:n.designation)||"",salaryType:(n==null?void 0:n.salaryType)||"",salary:(n==null?void 0:n.salary)||"",bloodGroup:(n==null?void 0:n.bloodGroup)||"",role:(n==null?void 0:n.role)||"",endingDate:(n==null?void 0:n.endingDate)||"16/08/2026",openingBalance:(n==null?void 0:n.openingBalance)||"0",address:(n==null?void 0:n.address)||"",description:(n==null?void 0:n.description)||"",status:(n==null?void 0:n.status)||"Enable",profileImage:null,idCard:null,document:null,_method:"PUT"});u.useEffect(()=>{n&&r({...t,...n})},[n]);const i=d=>{const{name:o,value:j,type:p,files:D}=d.target;r(o,p==="file"?D[0]:j)},[m,c]=u.useState(!1),h=async d=>{var o,j;d.preventDefault(),c(!0);try{const p=await G.post(route("employee.update",n.id),t,{headers:{"Content-Type":"multipart/form-data"}});p.data.success&&(c(!1),v.success(p.data.message),g.visit(route("employee.index")))}catch(p){c(!1),v.error(((j=(o=p.response)==null?void 0:o.data)==null?void 0:j.message)||"An error occurred while updating the employee")}};return e.jsx(a,{id:"userForm",onSubmit:h,encType:"multipart/form-data",children:e.jsxs(f,{children:[e.jsxs(s,{md:12,className:"mb-2 d-flex justify-content-between align-items-center",children:[e.jsx("h6",{className:"mb-0 fw-semibold",children:"Edit User"}),e.jsxs(T,{className:"float-end gap-2",children:[e.jsx(C,{variant:"warning",size:"sm",className:"rounded-0",onClick:()=>g.visit(route("employee.index")),children:"Cancel"}),e.jsx(C,{variant:"success",size:"sm",className:"rounded-0",type:"submit",disabled:m,children:m?"Processing...":"Update"})]})]}),e.jsx(s,{md:12,children:e.jsx("hr",{className:"m-0 mb-2"})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"name",children:[e.jsx(a.Label,{children:"Name*"}),e.jsx(a.Control,{type:"text",name:"name",value:t.name,onChange:i,required:!0,isInvalid:!!l.name}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.name})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"email",children:[e.jsx(a.Label,{children:"Email"}),e.jsx(a.Control,{type:"email",name:"email",value:t.email,onChange:i,isInvalid:!!l.email}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.email})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"phone",children:[e.jsx(a.Label,{children:"Phone*"}),e.jsx(a.Control,{type:"tel",name:"phone",value:t.phone,onChange:i,required:!0,isInvalid:!!l.phone}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.phone})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"username",children:[e.jsx(a.Label,{children:"Username"}),e.jsx(a.Control,{type:"text",name:"username",value:t.username,onChange:i,isInvalid:!!l.username}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.username})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"gender",children:[e.jsx(a.Label,{children:"Gender"}),e.jsxs(a.Select,{name:"gender",value:t.gender,onChange:i,children:[e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"})]})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"age",children:[e.jsx(a.Label,{children:"Age"}),e.jsx(a.Control,{type:"number",name:"age",value:t.age,onChange:i,isInvalid:!!l.age}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.age})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"qualification",children:[e.jsx(a.Label,{children:"Qualification"}),e.jsx(a.Control,{type:"text",name:"qualification",value:t.qualification,onChange:i,isInvalid:!!l.qualification}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.qualification})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"designation",children:[e.jsx(a.Label,{children:"Designation"}),e.jsx(a.Control,{type:"text",name:"designation",value:t.designation,onChange:i,isInvalid:!!l.designation}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.designation})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"salaryType",children:[e.jsx(a.Label,{children:"Salary Type"}),e.jsxs(a.Select,{name:"salaryType",value:t.salaryType,onChange:i,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Weekly",children:"Weekly"}),e.jsx("option",{value:"Daily",children:"Daily"})]})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"salary",children:[e.jsx(a.Label,{children:"Salary"}),e.jsx(a.Control,{type:"text",name:"salary",value:t.salary,onChange:i,isInvalid:!!l.salary}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.salary})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"bloodGroup",children:[e.jsx(a.Label,{children:"Blood Group"}),e.jsxs(a.Select,{name:"bloodGroup",value:t.bloodGroup,onChange:i,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"})]})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"role",children:[e.jsx(a.Label,{children:"Role*"}),e.jsxs(a.Select,{name:"role",value:t.role,onChange:i,isInvalid:!!l.role,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"admin",children:"admin"}),e.jsx("option",{value:"manager",children:"manager"}),e.jsx("option",{value:"technician",children:"technician"}),e.jsx("option",{value:"receptionist",children:"receptionist"}),e.jsx("option",{value:"supervisor",children:"supervisor"}),e.jsx("option",{value:"sales",children:"sales"})]}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.role})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"endingDate",children:[e.jsx(a.Label,{children:"Ending Date"}),e.jsx(a.Control,{type:"date",name:"endingDate",value:t.endingDate,onChange:i})]})}),e.jsx(s,{md:2,className:"mb-2",children:e.jsxs(a.Group,{controlId:"openingBalance",children:[e.jsx(a.Label,{children:"Opening Balance"}),e.jsx(a.Control,{type:"text",name:"openingBalance",value:t.openingBalance,onChange:i,isInvalid:!!l.openingBalance}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.openingBalance})]})}),e.jsx(s,{md:4,className:"mb-2",children:e.jsxs(a.Group,{controlId:"address",children:[e.jsx(a.Label,{children:"Address"}),e.jsx(a.Control,{as:"textarea",rows:1,name:"address",value:t.address,onChange:i,isInvalid:!!l.address}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.address})]})}),e.jsx(s,{md:4,className:"mb-2",children:e.jsxs(a.Group,{controlId:"description",children:[e.jsx(a.Label,{children:"Description"}),e.jsx(a.Control,{as:"textarea",rows:1,name:"description",value:t.description,onChange:i,isInvalid:!!l.description}),e.jsx(a.Control.Feedback,{type:"invalid",children:l.description})]})}),e.jsxs(s,{md:3,className:"mb-2",children:[e.jsx(a.Label,{children:"Status"}),e.jsxs("div",{children:[e.jsx(a.Check,{inline:!0,type:"radio",label:"Enable",name:"status",id:"enable",value:"Enable",checked:t.status==="Enable",onChange:i}),e.jsx(a.Check,{inline:!0,type:"radio",label:"Disable",name:"status",id:"disable",value:"Disable",checked:t.status==="Disable",onChange:i})]})]}),e.jsx(s,{md:3,className:"mb-2",children:e.jsxs(a.Group,{controlId:"profileImage",children:[e.jsx(a.Label,{children:"Profile Image"}),e.jsx(a.Control,{type:"file",name:"profileImage",onChange:i,accept:"image/*"}),(n==null?void 0:n.profile_image)&&e.jsxs(a.Text,{className:"text-muted",children:["Current: ",n.profile_image]})]})}),e.jsx(s,{md:3,className:"mb-2",children:e.jsxs(a.Group,{controlId:"idCard",children:[e.jsx(a.Label,{children:"ID Card"}),e.jsx(a.Control,{type:"file",name:"idCard",onChange:i,accept:"image/*,application/pdf"}),(n==null?void 0:n.id_card)&&e.jsxs(a.Text,{className:"text-muted",children:["Current: ",n.id_card]})]})}),e.jsx(s,{md:3,className:"mb-2",children:e.jsxs(a.Group,{controlId:"document",children:[e.jsx(a.Label,{children:"Document"}),e.jsx(a.Control,{type:"file",name:"document",onChange:i,accept:"image/*,application/pdf"}),(n==null?void 0:n.document)&&e.jsxs(a.Text,{className:"text-muted",children:["Current: ",n.document]})]})})]})})}function Y(){const[n,t]=u.useState("users"),[r,l]=u.useState(null),[i,m]=u.useState(!1),c=u.useCallback(()=>{$.fn.DataTable.isDataTable("#employeeTable")&&$("#employeeTable").DataTable().destroy(),$("#employeeTable").DataTable({processing:!0,serverSide:!0,ajax:{url:route("employee.index"),type:"GET"},columns:[{data:"DT_RowIndex",name:"DT_RowIndex",title:"No",className:"text-center",width:"1%",orderable:!1,searchable:!1},{data:"photo",title:"Photo",className:"text-center",width:"5%"},{data:"name",title:"Name",className:"text-start",width:"15%"},{data:"phone",title:"Phone",className:"text-start",width:"15%"},{data:"role",title:"Role",className:"text-start",width:"15%"},{data:"ending_date",title:"Ending Date",className:"text-start",width:"15%"},{data:"download_assets",title:"Download Assets",className:"text-start",width:"15%"},{data:"status",title:"Status",className:"text-center",width:"10%"},{data:"action",title:"Actions",className:"text-center",width:"10%",orderable:!1,searchable:!1}],drawCallback:function(){$(".edit-btn").off("click").on("click",function(){const d=$(this).data("employee");l(d),m(!0),t("user-update")}),$(".delete-btn").off("click").on("click",function(){const d=$(this).data("id");h(d)})}})},[]),h=d=>{confirm("Are you sure you want to delete this employee?")&&console.log("Deleting employee with ID:",d)};return u.useEffect(()=>(c(),()=>{$.fn.DataTable.isDataTable("#employeeTable")&&$("#employeeTable").DataTable().destroy()}),[c]),e.jsxs(y,{children:[e.jsx(w,{title:"User Management"}),e.jsxs(S,{activeKey:n,onSelect:d=>{t(d),d!=="user-update"&&(m(!1),l(null))},className:"users-tabs mb-3",id:"user-management-tabs",children:[e.jsx(b,{eventKey:"users",title:e.jsxs(e.Fragment,{children:[e.jsx(L,{size:16,className:"me-1"})," Users"]}),children:e.jsx(x,{className:"border-0 rounded-0 shadow-sm",children:e.jsx(x.Body,{className:"p-0",children:e.jsx(k,{size:"sm",bordered:!0,hover:!0,responsive:!0,id:"employeeTable",className:"w-100 mb-0"})})})}),e.jsx(b,{eventKey:"new-user",title:e.jsxs(e.Fragment,{children:[e.jsx(B,{size:16,className:"me-1"})," New User"]}),children:e.jsx(x,{className:"border-0 rounded-0 shadow-sm",children:e.jsx(x.Body,{children:e.jsx(E,{})})})}),e.jsx(b,{eventKey:"user-update",title:e.jsxs(e.Fragment,{children:[e.jsx(N,{size:16,className:"me-1"})," User Update"]}),disabled:!i,children:e.jsx(x,{className:"border-0 rounded-0 shadow-sm",children:e.jsx(x.Body,{children:r?e.jsx(F,{employee:r}):e.jsx("div",{className:"text-center py-4",children:e.jsx("p",{children:"Please select a user to edit"})})})})}),e.jsx(b,{eventKey:"staff-review",title:e.jsxs(e.Fragment,{children:[e.jsx(N,{size:16,className:"me-1"})," Staff Review"]}),disabled:!0,children:e.jsx(x,{className:"border-0 rounded-0 shadow-sm",children:e.jsx(x.Body,{children:e.jsx(A,{})})})})]})]})}export{Y as default};
