import{r as n,j as a,$ as c,Y as m}from"./app-CXGUi3Ii.js";import{y as u}from"./Footer-C1n_XnQr.js";import{e as f,f as p}from"./index-CfP6yR8z.js";import{E as b}from"./ErpLayout-C_Yzu-j7.js";import{a as x}from"./helpers-Cf3DU3QU.js";import{p as T}from"./PrintReceipt-D3Ak1krb.js";import{C as r}from"./Card-CfBFK9Wm.js";import{B as N}from"./ButtonGroup-BX4ADmeu.js";import{B as d}from"./Image-5TVfYuAD.js";import{T as h}from"./Table-BqJjxIz3.js";import"./CloseButton-BG--uyn6.js";import"./Form-XjuXZqOk.js";import"./iconBase-CiS6Yifu.js";/* empty css                      */function I(){const s=n.useCallback(()=>($.fn.DataTable.isDataTable("#salesTable")&&$("#salesTable").DataTable().destroy(),$("#salesTable").DataTable({processing:!0,serverSide:!0,ajax:{url:route("sales.index"),type:"GET",error:e=>{var t;u.error(((t=e.responseJSON)==null?void 0:t.message)||"Failed to load sales")}},columns:[{data:"id",title:"No",render:function(e,t,i,l){return l.row+l.settings._iDisplayStart+1}},{data:"created_at",title:"Date",render:function(e){return new Date(e).toLocaleDateString()}},{data:"invoice_number",title:"Invoice No"},{data:"order_number",title:"Order No"},{data:"customer",title:"Customer",className:"text-capitalize"},{data:"items_count",title:"No of Items",render:function(e,t,i){return e||0}},{data:"total",title:"Total",className:"text-end fw-semibold",render:function(e){return x(e)}},{data:"user.full_name",title:"Cashier",defaultContent:"N/A"},{data:"action",title:"Actions",orderable:!1,searchable:!1}],order:[[3,"desc"]],drawCallback:function(){$(".print-btn").off("click").on("click",function(){const e=$(this).data("data");T(e)})},createdRow:function(e,t,i){$(e).find("td:not(:last-child)").css("cursor","pointer")}})),[]);return n.useEffect(()=>{const o=s();return()=>{$.fn.DataTable.isDataTable("#salesTable")&&o.destroy()}},[s]),a.jsxs(b,{children:[a.jsx(c,{title:"Sales Management"}),a.jsxs(r,{className:"border-0 rounded-0 shadow-sm",children:[a.jsxs(r.Header,{className:"d-flex justify-content-between align-items-center bg-transparent",children:[a.jsx("h6",{className:"mb-0 fw-semibold",children:"Sales Management"}),a.jsxs(N,{className:"gap-1",children:[a.jsxs(d,{variant:"primary",size:"sm",className:"rounded-0",children:[a.jsx(f,{size:16,className:"me-1"}),"Export Excel"]}),a.jsxs(d,{variant:"success",size:"sm",className:"rounded-0",as:m,href:route("sales.create"),children:[a.jsx(p,{size:16,className:"me-1"}),"New Sale"]})]})]}),a.jsx(r.Body,{className:"px-0",children:a.jsx(h,{bordered:!0,striped:!0,hover:!0,responsive:!0,id:"salesTable"})})]})]})}export{I as default};
