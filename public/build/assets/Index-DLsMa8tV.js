import{r as l,m as b,j as t,$ as h,Y as x}from"./app-B6bJk2Gh.js";import{y as i}from"./Footer-BPljjA9E.js";import{E as g}from"./ErpLayout-S_Bw1Fr5.js";import{u as y}from"./useData-BUBjg0GA.js";import{C as c}from"./Card-BMU9SnLN.js";import{B as j}from"./ButtonGroup-DpsXod-K.js";import{B as d}from"./Image-CDh2egit.js";import{T}from"./Table-Dd8Z3mE4.js";import"./CloseButton-BElCAkq0.js";import"./Form-Clbnm1Ud.js";/* empty css                      */function F(){const{categories:m,brands:p,branches:f}=y(),[n,_]=l.useState({branch_id:"",catalogue_id:"",brand_id:"",is_verified:"",is_low_stock:"",is_active:""});f.map(e=>({value:e.id,label:e.name})),m.map(e=>({value:e.id,label:e.name})),p.map(e=>({value:e.id,label:e.name}));const u=l.useCallback(()=>{$.fn.DataTable.isDataTable("#itemsTable")&&$("#itemsTable").DataTable().destroy();const e=$("#itemsTable").DataTable({processing:!0,serverSide:!0,ajax:{url:route("product.index"),type:"GET",data:function(s){return{...s,...n}},error:s=>{var a;i.error(((a=s.responseJSON)==null?void 0:a.message)||"Failed to load products")}},columns:[{data:"product_image",title:"Image"},{data:"product_name",title:"Item Name"},{data:"category.name",title:"Category"},{data:"quantity",title:"Quantity"},{data:"price_list",title:"Unit Purchase Cost"},{data:"price_list",title:"Unit Selling Price"},{data:"action",title:"Actions"}],order:[[1,"asc"]],drawCallback:function(){$(".edit-btn").off("click").on("click",function(){const s=$(this).data("id");b.get(route("product.edit",s))}),$(".delete-btn").off("click").on("click",function(){const s=$(this).data("id");confirm("Are you sure you want to delete this product?")&&axios.delete(route("product.destroy",s)).then(a=>{e.ajax.reload(),i.success(a.data.message)}).catch(a=>{var r,o;i.error(((o=(r=a.response)==null?void 0:r.data)==null?void 0:o.message)||"Failed to delete product")})}),$(".feature-btn").off("click").on("click",function(){const s=$(this).data("id");axios.post(route("product.toggle-featured",s)).then(a=>{e.ajax.reload(),i.success(a.data.message)}).catch(a=>{var r,o;i.error(((o=(r=a.response)==null?void 0:r.data)==null?void 0:o.message)||"Failed to update featured status")})})}});return e},[n]);return l.useEffect(()=>{const e=u();return()=>{$.fn.DataTable.isDataTable("#itemsTable")&&e.destroy()}},[u]),t.jsxs(g,{children:[t.jsx(h,{title:"Store Items Register"}),t.jsxs(c,{className:"border-0 rounded-0 shadow-sm",children:[t.jsxs(c.Header,{className:"d-flex justify-content-between align-items-center bg-transparent",children:[t.jsx("h6",{className:"mb-0 fw-semibold",children:"Store Items Register"}),t.jsxs(j,{className:"gap-1",children:[t.jsx(d,{variant:"primary",className:"rounded-0",children:"Import"}),t.jsx(d,{variant:"info",className:"rounded-0",children:"Export Excel"}),t.jsx(d,{variant:"success",className:"rounded-0",as:x,href:route("product.create"),children:"New Item"})]})]}),t.jsx(c.Body,{className:"px-0",children:t.jsx(T,{bordered:!0,striped:!0,hover:!0,responsive:!0,id:"itemsTable",className:"w-100"})})]})]})}export{F as default};
