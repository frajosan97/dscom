import{j as e,r as m,$ as J}from"./app-OHbyyb7G.js";import{E as H}from"./ErpLayout-Co_V5vyW.js";import{a as U,q as Q,h as _,r as Z,s as A,t as w,B as E,c as k,d as ee,e as se,f as ae,u as le}from"./index-Ch0Q8FK_.js";import{S as ne}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{R as u,N as I,y as te}from"./Footer-CdCYi3s-.js";import{u as re,c as ie,b,d as ce}from"./index.esm-BKPl4Yfy.js";import{x as de}from"./axios-CwqzNN1P.js";import{u as oe}from"./useErrorToast-Bg59DOAD.js";import{u as me}from"./useData-CAhzdaPP.js";import{C as t,F as a}from"./Form-DD85BSXi.js";import{C as n}from"./Card-CTI6bRV3.js";import{I as q,B,C as he}from"./Image-DjGCkx_G.js";import{B as R}from"./Badge-k9Tre4-h.js";import{T as g}from"./Tab-BO3G5HkU.js";import{S as ue}from"./Spinner-RIqUqMyg.js";/* empty css                      */import"./iconBase-Bz_lrQRY.js";import"./CloseButton-DySoQWw3.js";import"./hoist-non-react-statics.cjs-C-Qo8PK8.js";const xe=({formik:s,photoPreview:d,handlePhotoChange:o})=>e.jsxs(e.Fragment,{children:[e.jsxs(u,{className:"g-4",children:[e.jsx(t,{md:4,lg:3,children:e.jsx(n,{className:"border-0 bg-light",children:e.jsxs(n.Body,{className:"text-center p-4",children:[e.jsx("div",{className:"mb-3",children:d?e.jsx(q,{src:d,roundedCircle:!0,fluid:!0,className:"border shadow-sm",style:{width:140,height:140,objectFit:"cover"}}):e.jsx("div",{className:"border rounded-circle d-flex justify-content-center align-items-center bg-white mx-auto",style:{width:140,height:140},children:e.jsx(U,{size:50,className:"text-muted"})})}),e.jsxs(a.Group,{children:[e.jsxs(a.Label,{className:"btn btn-outline-primary btn-sm w-100 cursor-pointer mb-0",htmlFor:"profileImage",children:[e.jsx(U,{className:"me-2"}),d?"Change Photo":"Upload Photo"]}),e.jsx(a.Control,{type:"file",id:"profileImage",name:"profileImage",accept:"image/*",onChange:o,className:"d-none"})]}),e.jsx("div",{className:"small text-muted mt-2",children:"JPG, PNG or GIF. Max 2MB."})]})})}),e.jsx(t,{md:8,lg:9,children:e.jsxs(u,{className:"g-3",children:[e.jsx(t,{md:6,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"First Name *"}),e.jsx(a.Control,{name:"first_name",value:s.values.first_name,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:s.touched.first_name&&!!s.errors.first_name,placeholder:"Enter first name",className:"py-2"}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.errors.first_name})]})}),e.jsx(t,{md:6,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Last Name *"}),e.jsx(a.Control,{name:"last_name",value:s.values.last_name,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:s.touched.last_name&&!!s.errors.last_name,placeholder:"Enter last name",className:"py-2"}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.errors.last_name})]})}),e.jsx(t,{md:6,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Email Address"}),e.jsx(a.Control,{type:"email",name:"email",value:s.values.email,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:s.touched.email&&!!s.errors.email,placeholder:"employee@example.com",className:"py-2"}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.errors.email})]})}),e.jsx(t,{md:6,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Phone Number *"}),e.jsx(a.Control,{name:"phone",value:s.values.phone,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:s.touched.phone&&!!s.errors.phone,placeholder:"+254 XXX XXX XXX",className:"py-2"}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.errors.phone})]})}),e.jsx(t,{md:6,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Gender"}),e.jsxs(a.Select,{name:"gender",value:s.values.gender,onChange:s.handleChange,className:"py-2",children:[e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})}),e.jsx(t,{md:6,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Date of Birth"}),e.jsx(a.Control,{type:"date",name:"date_of_birth",value:s.values.date_of_birth?new Date(s.values.date_of_birth).toISOString().slice(0,10):"",onChange:s.handleChange,onBlur:s.handleBlur,className:"py-2"})]})}),e.jsx(t,{md:6,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Blood Group"}),e.jsxs(a.Select,{name:"blood_group",value:s.values.blood_group,onChange:s.handleChange,className:"py-2",children:[e.jsx("option",{value:"",children:"Select Blood Group"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"})]})]})})]})})]}),e.jsx(u,{className:"mt-4",children:e.jsx(t,{md:12,children:e.jsx(n,{className:"border-0 bg-light",children:e.jsxs(n.Body,{className:"p-4",children:[e.jsxs("h6",{className:"fw-bold mb-3 d-flex align-items-center",children:[e.jsx(Q,{className:"me-2"}),"Login Credentials"]}),e.jsxs(u,{className:"g-3",children:[e.jsx(t,{md:4,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Username"}),e.jsx(a.Control,{name:"username",value:s.values.username,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"username",className:"py-2"})]})}),e.jsx(t,{md:4,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Password"}),e.jsx(a.Control,{type:"password",name:"password",value:s.values.password,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:s.touched.password&&!!s.errors.password,placeholder:"••••••",className:"py-2"}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.errors.password})]})}),e.jsx(t,{md:4,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Confirm Password"}),e.jsx(a.Control,{type:"password",name:"confirm_password",value:s.values.confirm_password,onChange:s.handleChange,onBlur:s.handleBlur,isInvalid:s.touched.confirm_password&&!!s.errors.confirm_password,placeholder:"••••••",className:"py-2"}),e.jsx(a.Control.Feedback,{type:"invalid",children:s.errors.confirm_password})]})})]})]})})})})]}),je=({formik:s,roles:d})=>e.jsxs(u,{className:"g-4",children:[e.jsx(t,{md:6,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Role *"}),e.jsxs(a.Select,{name:"role",value:s.values.role,onChange:s.handleChange,onBlur:s.handleBlur,className:"py-2",children:[e.jsx("option",{value:"",children:"Select Role"}),d==null?void 0:d.map(o=>e.jsx("option",{value:o.name,children:o.name},o.name))]})]})}),e.jsx(t,{md:6,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Designation"}),e.jsx(a.Control,{name:"designation",value:s.values.designation,onChange:s.handleChange,placeholder:"e.g., Software Engineer",className:"py-2"})]})}),e.jsx(t,{md:6,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Qualification"}),e.jsx(a.Control,{name:"qualification",value:s.values.qualification,onChange:s.handleChange,placeholder:"e.g., Bachelor's Degree",className:"py-2"})]})}),e.jsx(t,{md:6,children:e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Contract End Date"}),e.jsx(a.Control,{type:"date",name:"ending_date",value:s.values.ending_date?new Date(s.values.ending_date).toISOString().slice(0,10):"",onChange:s.handleChange,className:"py-2"})]})}),e.jsx(t,{md:12,children:e.jsx(n,{className:"border-0 bg-light mt-2",children:e.jsxs(n.Body,{className:"p-4",children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Address Information"}),e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Address"}),e.jsx(a.Control,{as:"textarea",rows:3,name:"address",value:s.values.address,onChange:s.handleChange,placeholder:"Enter complete address",className:"py-2"})]})]})})})]}),pe=({formik:s})=>e.jsxs(u,{className:"g-4",children:[e.jsx(t,{lg:8,children:e.jsxs(u,{className:"g-4",children:[e.jsx(t,{md:6,children:e.jsx(n,{className:"border-0 bg-light h-100",children:e.jsxs(n.Body,{className:"p-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"48px",height:"48px",backgroundColor:"#dc2626",color:"white"},children:e.jsx(_,{size:20})}),e.jsxs("div",{children:[e.jsx("h6",{className:"fw-bold mb-0",children:"Opening Balance"}),e.jsx("small",{className:"text-muted",children:"Initial account balance"})]})]}),e.jsx(a.Group,{children:e.jsx(a.Control,{type:"number",name:"opening_balance",value:s.values.opening_balance,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"0.00",className:"py-2 border-0 bg-white shadow-sm",step:"0.01"})})]})})}),e.jsx(t,{md:6,children:e.jsx(n,{className:"border-0 bg-light h-100",children:e.jsxs(n.Body,{className:"p-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"48px",height:"48px",backgroundColor:"#059669",color:"white"},children:e.jsx(_,{size:20})}),e.jsxs("div",{children:[e.jsx("h6",{className:"fw-bold mb-0",children:"Salary Type"}),e.jsx("small",{className:"text-muted",children:"Payment frequency"})]})]}),e.jsx(a.Group,{children:e.jsxs(a.Select,{name:"salary_type",value:s.values.salary_type,onChange:s.handleChange,className:"py-2 border-0 bg-white shadow-sm",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"daily",children:"Daily"})]})})]})})})]})}),e.jsx(t,{lg:4,children:e.jsx(n,{className:"border-0 bg-warning bg-opacity-10 h-100",children:e.jsxs(n.Body,{className:"p-4",children:[e.jsxs("h6",{className:"fw-bold text-warning mb-3",children:[e.jsx(_,{className:"me-2"}),"Financial Information"]}),e.jsx("p",{className:"small text-muted mb-0",children:"Set the salary type and opening balance for this employee. These values will be used for payroll and accounting purposes."})]})})}),e.jsx(t,{md:12,children:e.jsx(n,{className:"border-0 bg-light mt-4",children:e.jsxs(n.Body,{className:"p-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:"48px",height:"48px",backgroundColor:"#7c3aed",color:"white"},children:e.jsx(Z,{size:20})}),e.jsxs("div",{children:[e.jsx("h6",{className:"fw-bold mb-0",children:"Monthly Salary"}),e.jsx("small",{className:"text-muted",children:"Gross salary amount"})]})]}),e.jsx(a.Group,{children:e.jsx(a.Control,{type:"number",name:"salary",value:s.values.salary,onChange:s.handleChange,onBlur:s.handleBlur,placeholder:"0.00",className:"py-2 border-0 bg-white shadow-sm",step:"0.01"})})]})})})]}),be=({formik:s,idCardPreview:d,documentPreview:o,handleFileChange:r,setIdCardPreview:i,setDocumentPreview:v})=>e.jsx(u,{className:"g-4",children:e.jsx(t,{md:12,children:e.jsx(n,{className:"border-0 bg-light",children:e.jsxs(n.Body,{className:"p-4",children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Employee Documents"}),e.jsxs(u,{className:"g-4",children:[e.jsx(t,{md:4,children:e.jsx(n,{className:"border-0 bg-white shadow-sm h-100",children:e.jsxs(n.Body,{className:"text-center p-4",children:[e.jsx("div",{className:"mb-3",children:d?e.jsx("div",{className:"position-relative",children:e.jsx(q,{src:d,fluid:!0,className:"border rounded",style:{width:"100%",height:120,objectFit:"cover"}})}):e.jsx("div",{className:"rounded-circle d-flex justify-content-center align-items-center bg-light mx-auto",style:{width:80,height:80},children:e.jsx(A,{size:40,className:"text-primary"})})}),e.jsx("h6",{className:"fw-bold",children:"ID Card"}),e.jsx("p",{className:"small text-muted mb-3",children:"Upload employee's identification card"}),e.jsxs(a.Group,{children:[e.jsxs(a.Label,{className:"btn btn-outline-primary btn-sm w-100 cursor-pointer mb-0",htmlFor:"idCard",children:[e.jsx(A,{className:"me-2"}),d?"Change ID Card":"Upload ID Card"]}),e.jsx(a.Control,{type:"file",id:"idCard",name:"idCard",accept:"image/*,.pdf,.doc,.docx",onChange:r("idCard",i),className:"d-none"})]}),e.jsx("div",{className:"small text-muted mt-2",children:"PDF, Images, Docs. Max 10MB"})]})})}),e.jsx(t,{md:4,children:e.jsx(n,{className:"border-0 bg-white shadow-sm h-100",children:e.jsxs(n.Body,{className:"text-center p-4",children:[e.jsx("div",{className:"mb-3",children:o?e.jsx("div",{className:"position-relative",children:e.jsxs("div",{className:"border rounded d-flex justify-content-center align-items-center bg-light",style:{width:"100%",height:120},children:[e.jsx(w,{size:40,className:"text-success"}),e.jsx("span",{className:"ms-2",children:"Document Uploaded"})]})}):e.jsx("div",{className:"rounded-circle d-flex justify-content-center align-items-center bg-light mx-auto",style:{width:80,height:80},children:e.jsx(w,{size:40,className:"text-success"})})}),e.jsx("h6",{className:"fw-bold",children:"Other Documents"}),e.jsx("p",{className:"small text-muted mb-3",children:"Upload certificates, contracts, etc."}),e.jsxs(a.Group,{children:[e.jsxs(a.Label,{className:"btn btn-outline-success btn-sm w-100 cursor-pointer mb-0",htmlFor:"document",children:[e.jsx(w,{className:"me-2"}),o?"Change Documents":"Upload Documents"]}),e.jsx(a.Control,{type:"file",id:"document",name:"document",accept:".pdf,.doc,.docx,.xls,.xlsx",onChange:r("document",v),className:"d-none"})]}),e.jsx("div",{className:"small text-muted mt-2",children:"PDF, Word, Excel. Max 10MB"})]})})}),e.jsx(t,{md:4,children:e.jsx(n,{className:"border-0 bg-info bg-opacity-10 h-100",children:e.jsxs(n.Body,{className:"p-4",children:[e.jsxs("h6",{className:"fw-bold text-info mb-3",children:[e.jsx(w,{className:"me-2"}),"Document Information"]}),e.jsx("p",{className:"small text-muted mb-0",children:"Upload important documents for record keeping. ID cards, certificates, contracts, and other relevant documents should be uploaded here for compliance and reference."})]})})})]})]})})})}),ge=({formik:s,isEdit:d,employee:o})=>{const r=()=>s.values.status==="active"?e.jsxs(R,{bg:"success",className:"fs-6 px-3 py-2",children:[e.jsx(E,{className:"me-1"}),"Active"]}):e.jsx(R,{bg:"secondary",className:"fs-6 px-3 py-2",children:"Inactive"});return e.jsxs(u,{className:"g-4",children:[e.jsxs(t,{lg:8,children:[e.jsx(n,{className:"border-0 bg-light",children:e.jsxs(n.Body,{className:"p-4",children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Employee Status"}),e.jsxs("div",{className:"d-flex align-items-center justify-content-between p-3 bg-white rounded-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"fw-semibold",children:"Account Status"}),e.jsx("small",{className:"text-muted",children:s.values.status==="active"?"This employee is active and can access the system":"This employee is inactive and cannot access the system"})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(B,{variant:s.values.status==="active"?"success":"outline-success",size:"sm",onClick:()=>s.setFieldValue("status","active"),className:"px-3",children:"Active"}),e.jsx(B,{variant:s.values.status==="inactive"?"secondary":"outline-secondary",size:"sm",onClick:()=>s.setFieldValue("status","inactive"),className:"px-3",children:"Inactive"})]})]})]})}),e.jsx(n,{className:"border-0 bg-light mt-4",children:e.jsxs(n.Body,{className:"p-4",children:[e.jsx("h6",{className:"fw-bold mb-3",children:"Additional Notes"}),e.jsxs(a.Group,{children:[e.jsx(a.Label,{className:"fw-semibold",children:"Description / Notes"}),e.jsx(a.Control,{as:"textarea",rows:4,name:"description",value:s.values.description,onChange:s.handleChange,placeholder:"Enter any additional notes or description about this employee...",className:"py-2"}),e.jsx(a.Text,{className:"text-muted",children:"Add any important information that might be useful for HR or management."})]})]})})]}),e.jsx(t,{lg:4,children:e.jsx(n,{className:"border-0 bg-primary bg-opacity-10",children:e.jsxs(n.Body,{className:"p-4",children:[e.jsxs("h6",{className:"fw-bold text-primary mb-3",children:[e.jsx(E,{className:"me-2"}),"Status Overview"]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"small text-muted mb-1",children:"Current Status"}),r()]}),e.jsx("p",{className:"small text-muted mb-0",children:"Active employees can access the system and perform their duties. Inactive employees will be blocked from system access but their data is preserved for record keeping."})]})})})]})},h=[{key:"personal",label:"Personal Details",icon:e.jsx(ae,{}),color:"#4f46e5"},{key:"professional",label:"Professional",icon:e.jsx(le,{}),color:"#059669"},{key:"financial",label:"Financial",icon:e.jsx(_,{}),color:"#dc2626"},{key:"documents",label:"Documents",icon:e.jsx(w,{}),color:"#7c3aed"},{key:"status",label:"Status & Notes",icon:e.jsx(E,{}),color:"#f59e0b"}],O={first_name:"",last_name:"",email:"",phone:"",username:"",password:"",confirm_password:"",gender:"male",date_of_birth:"",qualification:"",designation:"",salary_type:"",salary:"",blood_group:"",role:"",ending_date:"",opening_balance:"0",address:"",description:"",status:"active",profileImage:null,idCard:null,document:null},Ne=ie({first_name:b().required("First name is required").min(2,"First name must be at least 2 characters"),last_name:b().required("Last name is required").min(2,"Last name must be at least 2 characters"),email:b().email("Invalid email format").nullable(),phone:b().required("Phone number is required").matches(/^[0-9+\-\s()]{10,}$/,"Invalid phone number format"),status:b().oneOf(["active","inactive"],"Status must be either active or inactive").required("Status is required"),password:b().min(6,"Password must be at least 6 characters").nullable(),confirm_password:b().oneOf([ce("password"),null],"Passwords must match").nullable()});function qe({employee:s=null}){const{showErrorToast:d}=oe(),{roles:o}=me(),r=!!s,[i,v]=m.useState("personal"),[S,D]=m.useState(!1),[f,P]=m.useState(null),[y,G]=m.useState(null),[C,T]=m.useState(null),z=m.useRef(null),[M,L]=m.useState(!1),p=re({initialValues:r?{...O,first_name:s.first_name||(s.name?s.name.split(" ")[0]:""),last_name:s.last_name||(s.name?s.name.split(" ").slice(1).join(" "):""),email:s.email||"",phone:s.phone||"",username:s.username||"",gender:s.gender||"male",date_of_birth:s.date_of_birth||"",qualification:s.qualification||"",designation:s.designation||"",salary_type:s.salary_type||"",salary:s.salary||"",blood_group:s.blood_group||"",role:s.role||"",ending_date:s.ending_date||"",opening_balance:s.opening_balance||"0",address:s.address||"",description:s.description||"",status:s.status==="Enable"?"active":s.status==="Disable"?"inactive":s.status||"active"}:O,validationSchema:Ne,enableReinitialize:!0,onSubmit:async l=>{if(!M)try{if(L(!0),!(await ne.fire({title:r?"Update Employee?":"Create Employee?",text:r?"This will update the existing employee record.":"You won't be able to revert this action!",icon:"question",showCancelButton:!0,confirmButtonColor:"#4f46e5",cancelButtonColor:"#6b7280",confirmButtonText:r?"Yes, update it!":"Yes, create it!",cancelButtonText:"Cancel",reverseButtons:!0})).isConfirmed){L(!1);return}D(!0);const j=new FormData;for(const N in l)if(l[N]!==null&&l[N]!==void 0){if(N==="profileImage"&&typeof l[N]=="string")continue;j.append(N,l[N])}const x=r?route("employee.update",s.id):route("employee.store"),F="post";r&&j.append("_method","PUT");const ve=await de[F](x,j,{headers:{"Content-Type":"multipart/form-data"}});te.success(r?"Employee updated successfully!":"Employee created successfully!"),setTimeout(()=>{window.location.href=route("employee.index")},1500)}catch(c){d(c),L(!1)}finally{D(!1)}}});m.useEffect(()=>{r&&s&&(s.profile_image_url&&P(s.profile_image_url),s.id_card_url&&G(s.id_card_url),s.document_url&&T(s.document_url))},[s,r]),m.useEffect(()=>()=>{f&&f.startsWith("blob:")&&URL.revokeObjectURL(f),y&&y.startsWith("blob:")&&URL.revokeObjectURL(y),C&&C.startsWith("blob:")&&URL.revokeObjectURL(C)},[f,y,C]);const X=l=>{const c=l.currentTarget.files[0];if(c){p.setFieldValue("profileImage",c);const j=URL.createObjectURL(c);P(j)}},K=(l,c)=>j=>{const x=j.currentTarget.files[0];if(x&&(p.setFieldValue(l,x),c)){const F=URL.createObjectURL(x);c(F)}},$=i===h[0].key,W=i===h[h.length-1].key,V=m.useCallback(()=>{const l=h.findIndex(c=>c.key===i);l<h.length-1&&v(h[l+1].key)},[i]),Y=m.useCallback(()=>{const l=h.findIndex(c=>c.key===i);l>0&&v(h[l-1].key)},[i]);return e.jsxs(H,{children:[e.jsx(J,{title:r?"Edit Employee":"Create Employee"}),e.jsx(he,{fluid:!0,children:e.jsx(a,{ref:z,onSubmit:p.handleSubmit,encType:"multipart/form-data",children:e.jsx(g.Container,{activeKey:i,onSelect:l=>v(l),children:e.jsxs(u,{className:"g-4",children:[e.jsx(t,{lg:3,children:e.jsx(n,{className:"shadow-sm border-0 h-100",children:e.jsx(n.Body,{children:e.jsx(I,{variant:"pills",className:"flex-column gap-2",children:h.map(({key:l,label:c,icon:j,color:x})=>e.jsx(I.Item,{children:e.jsxs(I.Link,{eventKey:l,className:"d-flex align-items-center py-3 px-3 rounded-3",style:{backgroundColor:i===l?`${x}15`:"transparent",color:i===l?x:"#6b7280",fontWeight:i===l?600:400,borderLeft:i===l?`4px solid ${x}`:"4px solid transparent"},children:[e.jsx("div",{className:"rounded-circle d-flex align-items-center justify-content-center me-3",style:{width:40,height:40,backgroundColor:i===l?x:"#f3f4f6",color:i===l?"#fff":"#9ca3af"},children:j}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-semibold",children:c}),e.jsxs("small",{className:"text-muted",children:[l==="personal"&&"Personal information",l==="professional"&&"Job & qualifications",l==="financial"&&"Salary & compensation",l==="documents"&&"Files & documents",l==="status"&&"Status & notes"]})]})]})},l))})})})}),e.jsx(t,{lg:9,children:e.jsxs(n,{className:"shadow-sm border-0",children:[e.jsx(n.Body,{children:e.jsxs(g.Content,{children:[e.jsx(g.Pane,{eventKey:"personal",children:e.jsx(xe,{formik:p,photoPreview:f,handlePhotoChange:X})}),e.jsx(g.Pane,{eventKey:"professional",children:e.jsx(je,{formik:p,roles:o})}),e.jsx(g.Pane,{eventKey:"financial",children:e.jsx(pe,{formik:p})}),e.jsx(g.Pane,{eventKey:"documents",children:e.jsx(be,{formik:p,idCardPreview:y,documentPreview:C,handleFileChange:K,setIdCardPreview:G,setDocumentPreview:T})}),e.jsx(g.Pane,{eventKey:"status",children:e.jsx(ge,{formik:p,isEdit:r,employee:s})})]})}),e.jsx(n.Footer,{className:"bg-light border-0 py-4",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs(B,{type:"button",variant:"outline-secondary",disabled:$||S,onClick:Y,className:"d-flex align-items-center px-4",children:[e.jsx(k,{className:"me-2"}),"Previous"]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsxs("span",{className:"text-muted me-3 small",children:["Step"," ",h.findIndex(l=>l.key===i)+1," ","of ",h.length]}),W?e.jsx(B,{type:"submit",variant:"primary",disabled:S,className:"d-flex align-items-center px-4",children:S?e.jsxs(e.Fragment,{children:[e.jsx(ue,{size:"sm",className:"me-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"me-2"}),r?"Update Employee":"Create Employee"]})}):e.jsxs(B,{type:"button",variant:"primary",onClick:V,className:"d-flex align-items-center px-4",children:["Next",e.jsx(se,{className:"ms-2"})]})]})]})})]})})]})})})})]})}export{qe as default};
