import{q as d,j as l}from"./app-Bt_zyVoS.js";import{a as y,L as M,T as H,F as C}from"./Footer-BE8-uFgA.js";/* empty css                      */import{C as I}from"./Image-DTP6OkpU.js";const T=()=>{const{auth:o}=d().props;return{hasRole:e=>{var i,n;return(n=(i=o==null?void 0:o.user)==null?void 0:i.roles)==null?void 0:n.some(r=>r.name===e)},hasPermission:e=>{var i,n,r,a;return((n=(i=o==null?void 0:o.user)==null?void 0:i.permissions)==null?void 0:n.some(c=>c.name===e))||((a=(r=o==null?void 0:o.user)==null?void 0:r.roles)==null?void 0:a.some(c=>{var p;return(p=c.permissions)==null?void 0:p.some(w=>w.name===e)}))}}};function j(){const{auth:o}=d().props,{hasRole:t,hasPermission:b}=T(),e={isDirector:t("director"),isAdmin:t("admin"),isHR:t("hr"),isFinance:t("finance"),isSales:t("sales"),isReceptionist:t("receptionist"),isTechnician:t("technician"),isCustomer:t("customer"),isSupplier:t("supplier")},i=e.isDirector||e.isAdmin,n={canViewServices:i||e.isTechnician||b("view services"),canViewStore:i||e.isSales||e.isReceptionist||e.isSupplier||b("view store"),canViewAccounts:i||e.isFinance||b("view accounts"),canViewHR:i||e.isHR||b("view hr"),canViewReports:i||b("view reports"),canViewSettings:i},r=e.isHR&&!i,a=e.isFinance&&!i,c=e.isTechnician&&!i,p=e.isSupplier&&!i,w=e.isSales||e.isReceptionist||e.isCustomer,h=[{path:route("dashboard"),icon:"bi bi-speedometer2",label:"Dashboard",show:!0}],m=[{path:route("customers.index"),icon:"bi bi-people",label:"Customer",show:!e.isCustomer&&!e.isSupplier},{path:route("customers.create"),icon:"bi bi-person-plus",label:"New Customer",show:!e.isCustomer&&!e.isSupplier},{path:route("promotion.index"),icon:"bi bi-bullseye",label:"Promotions",show:!e.isSupplier},{path:route("feedback.index"),icon:"bi bi-chat-dots",label:"Feedback",show:!e.isSupplier},{path:route("ticket.index"),icon:"bi bi-headset",label:"Support Tickets",show:!e.isSupplier}].filter(s=>s.show),f=[{path:route("employee.index"),icon:"bi bi-person-gear",label:"Employee Mgnt",show:!0},{path:route("employee.create"),icon:"bi bi-person-plus",label:"New Employee",show:i||e.isHR},{path:route("attendance.index"),icon:"bi bi-clock-history",label:"Attendance Mgnt",show:!0},{path:route("salary.index"),icon:"bi bi-cash-coin",label:"Salaries Mgnt",show:i||e.isHR||e.isFinance}].filter(s=>s.show),S=[{path:route("device-type.index"),icon:"bi bi-hdd-stack",label:"Device Types",show:e.isTechnician||i},{path:route("repair-service.index"),icon:"bi bi-wrench-adjustable",label:"Repair Services",show:e.isTechnician||i},{path:route("repair-orders.create"),icon:"bi bi-clipboard-plus",label:"Service Job Entry",show:e.isReceptionist||e.isTechnician||i},{path:route("repair-orders.index"),icon:"bi bi-clipboard-data",label:"Jobs List & Status",show:!0},{path:route("repair-orders.assign-technician"),icon:"bi bi-person-badge",label:"Assign Technician",show:i||e.isReceptionist}].filter(s=>s.show),x=[{path:route("finance.reports"),icon:"bi bi-graph-up",label:"Financial Reports",show:!0},{path:route("finance.chart-of-accounts"),icon:"bi bi-journal-text",label:"Chart of Accounts",show:e.isFinance||i},{path:route("finance.transactions"),icon:"bi bi-arrow-left-right",label:"Transactions",show:!0},{path:route("finance.invoices"),icon:"bi bi-receipt-cutoff",label:"Invoices",show:!0},{path:route("finance.payments"),icon:"bi bi-currency-dollar",label:"Payments",show:!0},{path:route("finance.bank-reconciliation"),icon:"bi bi-bank",label:"Bank Reconciliation",show:e.isFinance||i}].filter(s=>s.show),R=[{path:route("product.index"),icon:"bi bi-boxes",label:"Items List",show:!0},{path:route("product.create"),icon:"bi bi-plus-square",label:"New Item",show:!e.isSales&&!e.isReceptionist},{path:route("sales.index"),icon:"bi bi-receipt",label:"Sales List",show:!0},{path:route("sales.create"),icon:"bi bi-cart-plus",label:"New Sale",show:e.isSales||e.isReceptionist||i}].filter(s=>s.show),g=[{label:"Store",icon:"bi bi-cart3",show:(n.canViewStore||i)&&!p&&!r&&!a,children:R},{label:"Services",icon:"bi bi-tools",show:(n.canViewServices||i)&&!c,children:S},{label:"CRM",icon:"bi bi-people-fill",show:!w,children:m},{label:"HRM",icon:"bi bi-people-fill",show:i&&!r,children:f},{label:"Accounts",icon:"bi bi-journal-arrow-down",show:(n.canViewAccounts||i)&&!a,children:x},{label:"Settings",icon:"bi bi-gear-fill",show:n.canViewSettings||i,children:[{path:route("slider.index"),icon:"bi bi-images",label:"Slides Management",show:!0},{path:route("branch.index"),icon:"bi bi-building",label:"Branches",show:!0},{path:route("warehouse.index"),icon:"bi bi-house-gear",label:"Ware Houses",show:!0},{path:route("payment-method.index"),icon:"bi bi-credit-card",label:"Payment Methods",show:!0},{path:route("category.index"),icon:"bi bi-tags",label:"Catalogues List",show:!0},{path:route("brand.index"),icon:"bi bi-tag",label:"Brands List",show:!0}].filter(s=>s.show)}];let u=[...h,...g.filter(s=>s.show&&s.children.length>0)];r&&!i&&(u=[...h]),a&&!i&&(u=[...h]),c&&!i&&(u=[...h]),p&&!i&&(u=[...h]);const v=r?f:a?x:c?S:p?R:w?m:[];return l.jsx(y,{variant:"erp",NavItems:u,horizontalItems:v})}function L({children:o}){const{auth:t}=d().props;return l.jsxs("div",{className:"erp-layout",children:[l.jsx(M,{position:"top-center",autoClose:2e3,hideProgressBar:!1}),l.jsx(H,{}),l.jsx(j,{}),l.jsx(I,{fluid:!0,className:"erp-main py-3",children:o}),l.jsx(C,{})]})}export{L as E};
