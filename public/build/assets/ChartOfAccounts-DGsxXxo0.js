import{r as x,R as B,q as U,j as e,$ as W}from"./app-rlNx4Iiu.js";import{E as _}from"./ErpLayout-C6UZf7Lx.js";import{n as V,o as J}from"./index-Cs8bzZAu.js";import{A as Q}from"./Alert-CQmkJ-mq.js";import{P as f,R as L,I}from"./Footer-UqFNTOz4.js";import{C as d,F as n}from"./Form-lYHRddvs.js";import{B as b}from"./Image-BuCKbu51.js";import{P as X}from"./plus-circle-j9Uce8Dz.js";import{C as m}from"./Card-Xz6cOBHW.js";import{S as Y}from"./search-CuIszRt-.js";import{T as Z}from"./Tabs-DpdwlD7r.js";import{T as N}from"./Tab-C6XqvB9Q.js";import{T as ee}from"./Table-DemdZvHG.js";import{C as te}from"./calculator-CwYggVPG.js";import{B as se}from"./Badge-JDmlgAPC.js";import{P as ae}from"./pencil-qkcr0OYg.js";import{T as ie}from"./trash-nw6iGlQe.js";import{M as u}from"./Modal-BkW5MwN6.js";/* empty css                      */import"./iconBase-CNLCoK3g.js";import"./CloseButton-BnZ8vsiJ.js";var re=["color","size","title","className"];function k(){return k=Object.assign?Object.assign.bind():function(s){for(var c=1;c<arguments.length;c++){var a=arguments[c];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},k.apply(null,arguments)}function ne(s,c){if(s==null)return{};var a,r,o=ce(s,c);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(r=0;r<l.length;r++)a=l[r],c.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(o[a]=s[a])}return o}function ce(s,c){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(c.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var q=x.forwardRef(function(s,c){var a=s.color,r=a===void 0?"currentColor":a,o=s.size,l=o===void 0?"1em":o,C=s.title,v=C===void 0?null:C,w=s.className,h=w===void 0?"":w,E=ne(s,re);return B.createElement("svg",k({ref:c,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:r,className:["bi","bi-wallet2",h].filter(Boolean).join(" ")},E),v?B.createElement("title",null,v):null,B.createElement("path",{d:"M12.136.326A1.5 1.5 0 0 1 14 1.78V3h.5A1.5 1.5 0 0 1 16 4.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 13.5v-9a1.5 1.5 0 0 1 1.432-1.499zM5.562 3H13V1.78a.5.5 0 0 0-.621-.484zM1.5 4a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5z"}))});q.propTypes={color:f.string,size:f.oneOfType([f.string,f.number]),title:f.string,className:f.string};const Oe=()=>{var P;const{flash:s}=U().props,[c,a]=x.useState(!1),[r,o]=x.useState(!1),[l,C]=x.useState(""),[v,w]=x.useState("all"),[h,E]=x.useState(null),[S,T]=x.useState(null),[g,O]=x.useState([{id:1,code:"1001",name:"Cash on Hand",type:"Asset",category:"Current Assets",balance:12450,isActive:!0},{id:2,code:"1002",name:"Bank Account",type:"Asset",category:"Current Assets",balance:85420,isActive:!0},{id:3,code:"1101",name:"Accounts Receivable",type:"Asset",category:"Current Assets",balance:23400,isActive:!0},{id:4,code:"1201",name:"Inventory",type:"Asset",category:"Current Assets",balance:156800,isActive:!0},{id:5,code:"1501",name:"Computer Equipment",type:"Asset",category:"Fixed Assets",balance:25e3,isActive:!0},{id:6,code:"2001",name:"Accounts Payable",type:"Liability",category:"Current Liabilities",balance:35600,isActive:!0},{id:7,code:"2002",name:"Credit Card Payable",type:"Liability",category:"Current Liabilities",balance:12500,isActive:!0},{id:8,code:"2501",name:"Bank Loan",type:"Liability",category:"Long-term Liabilities",balance:5e4,isActive:!0},{id:9,code:"3001",name:"Owner's Capital",type:"Equity",category:"Equity",balance:1e5,isActive:!0},{id:10,code:"3002",name:"Retained Earnings",type:"Equity",category:"Equity",balance:45270,isActive:!0},{id:11,code:"4001",name:"Online Sales",type:"Income",category:"Operating Revenue",balance:245e3,isActive:!0},{id:12,code:"4002",name:"Shipping Revenue",type:"Income",category:"Operating Revenue",balance:12500,isActive:!0},{id:13,code:"4003",name:"Sales Returns",type:"Income",category:"Contra Revenue",balance:-3200,isActive:!0},{id:14,code:"5001",name:"Cost of Goods Sold",type:"Expense",category:"Cost of Sales",balance:156e3,isActive:!0},{id:15,code:"5002",name:"Shipping Costs",type:"Expense",category:"Operating Expenses",balance:9800,isActive:!0},{id:16,code:"5003",name:"Payment Processing Fees",type:"Expense",category:"Operating Expenses",balance:7350,isActive:!0},{id:17,code:"5004",name:"Digital Marketing",type:"Expense",category:"Marketing",balance:12500,isActive:!0},{id:18,code:"5005",name:"Salaries & Wages",type:"Expense",category:"Operating Expenses",balance:45e3,isActive:!0},{id:19,code:"5006",name:"Software Subscriptions",type:"Expense",category:"Operating Expenses",balance:2400,isActive:!0}]),[i,p]=x.useState({name:"",code:"",type:"Asset",category:"",isActive:!0}),R={Asset:["Current Assets","Fixed Assets","Other Assets"],Liability:["Current Liabilities","Long-term Liabilities"],Equity:["Equity"],Income:["Operating Revenue","Other Revenue","Contra Revenue"],Expense:["Cost of Sales","Operating Expenses","Marketing","Administrative","Other Expenses"]},z=x.useMemo(()=>g.filter(t=>{const y=t.name.toLowerCase().includes(l.toLowerCase())||t.code.includes(l)||t.category.toLowerCase().includes(l.toLowerCase()),j=v==="all"||t.type===v;return y&&j&&t.isActive}),[g,l,v]),M=()=>{if(!i.name||!i.code||!i.category){alert("Please fill all required fields");return}if(g.find(t=>t.code===i.code)){alert("Account code already exists");return}O([...g,{...i,id:Date.now(),balance:0}]),a(!1),p({name:"",code:"",type:"Asset",category:"",isActive:!0})},$=t=>{T(t),p({name:t.name,code:t.code,type:t.type,category:t.category,isActive:t.isActive}),a(!0)},D=()=>{if(!i.name||!i.code||!i.category){alert("Please fill all required fields");return}O(g.map(t=>t.id===S.id?{...t,...i}:t)),a(!1),T(null),p({name:"",code:"",type:"Asset",category:"",isActive:!0})},F=t=>{E(t),o(!0)},G=()=>{O(g.map(t=>t.id===h.id?{...t,isActive:!1}:t)),o(!1),E(null)},K=t=>{switch(t){case"Asset":return"success";case"Liability":return"warning";case"Income":return"info";case"Expense":return"danger";case"Equity":return"secondary";default:return"light"}},H=(t,y)=>{const j=Math.abs(t).toLocaleString();return e.jsxs("span",{className:`fw-semibold ${t<0?"text-danger":"text-dark"}`,children:[t<0&&"-","$",j,y==="Income"&&t>0&&e.jsx(V,{className:"ms-1 text-success",size:12}),y==="Expense"&&t>0&&e.jsx(J,{className:"ms-1 text-danger",size:12})]})},A=g.reduce((y,j)=>(j.isActive&&(y[j.type]=(y[j.type]||0)+j.balance),y),{});return e.jsxs(_,{children:[e.jsx(W,{title:"Chart of Accounts"}),s.success&&e.jsx(Q,{variant:"success",className:"mb-3",children:s.success}),e.jsxs(L,{className:"mb-4",children:[e.jsx(d,{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(q,{className:"me-3 text-primary",size:32}),e.jsxs("div",{children:[e.jsx("h4",{className:"fw-semibold mb-1",children:"Chart of Accounts"}),e.jsx("p",{className:"text-muted mb-0",children:"Manage your financial accounts and track balances"})]})]})}),e.jsx(d,{className:"text-end",children:e.jsxs(b,{variant:"primary",className:"rounded-pill px-4",onClick:()=>{T(null),p({name:"",code:"",type:"Asset",category:"",isActive:!0}),a(!0)},children:[e.jsx(X,{className:"me-2"})," Add Account"]})})]}),e.jsxs(L,{className:"mb-4",children:[e.jsx(d,{md:3,children:e.jsx(m,{className:"text-center border-0 shadow-sm",children:e.jsxs(m.Body,{children:[e.jsx("div",{className:"text-muted small",children:"Total Assets"}),e.jsxs("div",{className:"h5 fw-bold text-success",children:["$",(A.Asset||0).toLocaleString()]})]})})}),e.jsx(d,{md:3,children:e.jsx(m,{className:"text-center border-0 shadow-sm",children:e.jsxs(m.Body,{children:[e.jsx("div",{className:"text-muted small",children:"Total Liabilities"}),e.jsxs("div",{className:"h5 fw-bold text-warning",children:["$",(A.Liability||0).toLocaleString()]})]})})}),e.jsx(d,{md:3,children:e.jsx(m,{className:"text-center border-0 shadow-sm",children:e.jsxs(m.Body,{children:[e.jsx("div",{className:"text-muted small",children:"Total Equity"}),e.jsxs("div",{className:"h5 fw-bold text-secondary",children:["$",(A.Equity||0).toLocaleString()]})]})})}),e.jsx(d,{md:3,children:e.jsx(m,{className:"text-center border-0 shadow-sm",children:e.jsxs(m.Body,{children:[e.jsx("div",{className:"text-muted small",children:"Net Income"}),e.jsxs("div",{className:`h5 fw-bold ${(A.Income||0)+(A.Expense||0)>=0?"text-success":"text-danger"}`,children:["$",((A.Income||0)+(A.Expense||0)).toLocaleString()]})]})})})]}),e.jsx(m,{className:"shadow-sm border-0",children:e.jsxs(m.Body,{children:[e.jsxs(L,{className:"mb-3",children:[e.jsx(d,{md:6,children:e.jsxs(I,{children:[e.jsx(I.Text,{children:e.jsx(Y,{})}),e.jsx(n.Control,{placeholder:"Search by name, code, or category...",value:l,onChange:t=>C(t.target.value)})]})}),e.jsx(d,{md:6,children:e.jsxs(Z,{activeKey:v,onSelect:t=>w(t),className:"mb-0",children:[e.jsx(N,{eventKey:"all",title:"All Accounts"}),e.jsx(N,{eventKey:"Asset",title:"Assets"}),e.jsx(N,{eventKey:"Liability",title:"Liabilities"}),e.jsx(N,{eventKey:"Equity",title:"Equity"}),e.jsx(N,{eventKey:"Income",title:"Income"}),e.jsx(N,{eventKey:"Expense",title:"Expenses"})]})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs(ee,{bordered:!0,hover:!0,className:"align-middle",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{width:"100",children:"Code"}),e.jsx("th",{children:"Account Name"}),e.jsx("th",{width:"150",children:"Category"}),e.jsx("th",{width:"120",children:"Type"}),e.jsx("th",{width:"150",className:"text-end",children:"Balance"}),e.jsx("th",{width:"100",className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:z.length>0?z.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"fw-semibold text-muted",children:t.code}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(te,{className:"me-2 text-muted",size:16}),t.name]})}),e.jsx("td",{children:e.jsx("small",{className:"text-muted",children:t.category})}),e.jsx("td",{children:e.jsx(se,{bg:K(t.type),children:t.type})}),e.jsx("td",{className:"text-end",children:H(t.balance,t.type)}),e.jsxs("td",{className:"text-center",children:[e.jsx(b,{variant:"outline-primary",size:"sm",className:"me-1",onClick:()=>$(t),children:e.jsx(ae,{size:12})}),e.jsx(b,{variant:"outline-danger",size:"sm",onClick:()=>F(t),children:e.jsx(ie,{size:12})})]})]},t.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"6",className:"text-center text-muted py-4",children:[e.jsx(q,{size:48,className:"mb-2"}),e.jsx("div",{children:"No accounts found"}),e.jsx("small",{children:"Try adjusting your search or filters"})]})})})]})})]})}),e.jsxs(u,{show:c,onHide:()=>a(!1),centered:!0,size:"lg",children:[e.jsx(u.Header,{closeButton:!0,children:e.jsx(u.Title,{children:S?"Edit Account":"Add New Account"})}),e.jsx(u.Body,{children:e.jsxs(n,{children:[e.jsxs(L,{children:[e.jsx(d,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{children:"Account Code *"}),e.jsx(n.Control,{type:"text",value:i.code,onChange:t=>p({...i,code:t.target.value}),placeholder:"e.g. 1001"}),e.jsx(n.Text,{className:"text-muted",children:"Unique identifier for the account"})]})}),e.jsx(d,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{children:"Account Type *"}),e.jsxs(n.Select,{value:i.type,onChange:t=>p({...i,type:t.target.value,category:""}),children:[e.jsx("option",{value:"Asset",children:"Asset"}),e.jsx("option",{value:"Liability",children:"Liability"}),e.jsx("option",{value:"Equity",children:"Equity"}),e.jsx("option",{value:"Income",children:"Income"}),e.jsx("option",{value:"Expense",children:"Expense"})]})]})})]}),e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{children:"Account Name *"}),e.jsx(n.Control,{type:"text",value:i.name,onChange:t=>p({...i,name:t.target.value}),placeholder:"e.g. Cash in Bank, Online Sales, etc."})]}),e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{children:"Category *"}),e.jsxs(n.Select,{value:i.category,onChange:t=>p({...i,category:t.target.value}),children:[e.jsx("option",{value:"",children:"Select a category"}),(P=R[i.type])==null?void 0:P.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsx(n.Group,{children:e.jsx(n.Check,{type:"switch",label:"Active Account",checked:i.isActive,onChange:t=>p({...i,isActive:t.target.checked})})})]})}),e.jsxs(u.Footer,{children:[e.jsx(b,{variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),e.jsx(b,{variant:"primary",onClick:S?D:M,children:S?"Update Account":"Save Account"})]})]}),e.jsxs(u,{show:r,onHide:()=>o(!1),centered:!0,children:[e.jsx(u.Header,{closeButton:!0,children:e.jsx(u.Title,{children:"Confirm Deactivation"})}),e.jsxs(u.Body,{children:["Are you sure you want to deactivate account"," ",h==null?void 0:h.code," - ",h==null?void 0:h.name,"?",e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:"The account will be marked as inactive and hidden from views."})]}),e.jsxs(u.Footer,{children:[e.jsx(b,{variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),e.jsx(b,{variant:"danger",onClick:G,children:"Deactivate Account"})]})]})]})};export{Oe as default};
