import{r as v,R as h,q as oe,j as e,$ as de}from"./app-rlNx4Iiu.js";import{E as me}from"./ErpLayout-C6UZf7Lx.js";import{A as ue}from"./Alert-CQmkJ-mq.js";import{P as d,R as S,I as X,D as P}from"./Footer-UqFNTOz4.js";import{C as j,F as i}from"./Form-lYHRddvs.js";import{B as _}from"./Image-BuCKbu51.js";import{P as he}from"./plus-circle-j9Uce8Dz.js";import{C as b}from"./Card-Xz6cOBHW.js";import{C as q}from"./clock-YQsAzzX4.js";import{S as pe}from"./search-CuIszRt-.js";import{T as xe}from"./Tabs-DpdwlD7r.js";import{T as $}from"./Tab-C6XqvB9Q.js";import{T as je}from"./Table-DemdZvHG.js";import{E as fe}from"./eye-BJPJ7Ivw.js";import{P as ve}from"./pencil-qkcr0OYg.js";import{D as ge}from"./download-yvYlXW3S.js";import{T as ye}from"./trash-nw6iGlQe.js";import{M as w}from"./Modal-BkW5MwN6.js";import{B as N}from"./Badge-JDmlgAPC.js";import{X as be,C as Ne}from"./x-circle-D1duwfKj.js";import{B as Q}from"./bank-BaIUguZM.js";import{R as we}from"./receipt-DRgSGhGt.js";/* empty css                      */import"./CloseButton-BnZ8vsiJ.js";var Pe=["color","size","title","className"];function A(){return A=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},A.apply(null,arguments)}function Ce(s,n){if(s==null)return{};var a,r,c=Oe(s,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(c[a]=s[a])}return c}function Oe(s,n){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(n.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var k=v.forwardRef(function(s,n){var a=s.color,r=a===void 0?"currentColor":a,c=s.size,l=c===void 0?"1em":c,p=s.title,m=p===void 0?null:p,x=s.className,f=x===void 0?"":x,y=Ce(s,Pe);return h.createElement("svg",A({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:r,className:["bi","bi-arrow-down-circle",f].filter(Boolean).join(" ")},y),m?h.createElement("title",null,m):null,h.createElement("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"}))});k.propTypes={color:d.string,size:d.oneOfType([d.string,d.number]),title:d.string,className:d.string};var Se=["color","size","title","className"];function I(){return I=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},I.apply(null,arguments)}function ze(s,n){if(s==null)return{};var a,r,c=Te(s,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(c[a]=s[a])}return c}function Te(s,n){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(n.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var R=v.forwardRef(function(s,n){var a=s.color,r=a===void 0?"currentColor":a,c=s.size,l=c===void 0?"1em":c,p=s.title,m=p===void 0?null:p,x=s.className,f=x===void 0?"":x,y=ze(s,Se);return h.createElement("svg",I({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:r,className:["bi","bi-arrow-up-circle",f].filter(Boolean).join(" ")},y),m?h.createElement("title",null,m):null,h.createElement("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707z"}))});R.propTypes={color:d.string,size:d.oneOfType([d.string,d.number]),title:d.string,className:d.string};var _e=["color","size","title","className"];function D(){return D=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},D.apply(null,arguments)}function $e(s,n){if(s==null)return{};var a,r,c=Ee(s,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(c[a]=s[a])}return c}function Ee(s,n){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(n.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var V=v.forwardRef(function(s,n){var a=s.color,r=a===void 0?"currentColor":a,c=s.size,l=c===void 0?"1em":c,p=s.title,m=p===void 0?null:p,x=s.className,f=x===void 0?"":x,y=$e(s,_e);return h.createElement("svg",D({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:r,className:["bi","bi-cash",f].filter(Boolean).join(" ")},y),m?h.createElement("title",null,m):null,h.createElement("path",{d:"M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4"}),h.createElement("path",{d:"M0 4a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V6a2 2 0 0 1-2-2z"}))});V.propTypes={color:d.string,size:d.oneOfType([d.string,d.number]),title:d.string,className:d.string};var Be=["color","size","title","className"];function G(){return G=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},G.apply(null,arguments)}function Le(s,n){if(s==null)return{};var a,r,c=Me(s,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(c[a]=s[a])}return c}function Me(s,n){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(n.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var H=v.forwardRef(function(s,n){var a=s.color,r=a===void 0?"currentColor":a,c=s.size,l=c===void 0?"1em":c,p=s.title,m=p===void 0?null:p,x=s.className,f=x===void 0?"":x,y=Le(s,Be);return h.createElement("svg",G({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:r,className:["bi","bi-credit-card",f].filter(Boolean).join(" ")},y),m?h.createElement("title",null,m):null,h.createElement("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v1h14V4a1 1 0 0 0-1-1zm13 4H1v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1z"}),h.createElement("path",{d:"M2 10a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"}))});H.propTypes={color:d.string,size:d.oneOfType([d.string,d.number]),title:d.string,className:d.string};var Ae=["color","size","title","className"];function F(){return F=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},F.apply(null,arguments)}function ke(s,n){if(s==null)return{};var a,r,c=Ie(s,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);for(r=0;r<l.length;r++)a=l[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(c[a]=s[a])}return c}function Ie(s,n){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(n.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var z=v.forwardRef(function(s,n){var a=s.color,r=a===void 0?"currentColor":a,c=s.size,l=c===void 0?"1em":c,p=s.title,m=p===void 0?null:p,x=s.className,f=x===void 0?"":x,y=ke(s,Ae);return h.createElement("svg",F({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:l,height:l,fill:r,className:["bi","bi-currency-dollar",f].filter(Boolean).join(" ")},y),m?h.createElement("title",null,m):null,h.createElement("path",{d:"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z"}))});z.propTypes={color:d.string,size:d.oneOfType([d.string,d.number]),title:d.string,className:d.string};function dt(){const{flash:s}=oe().props,[n,a]=v.useState(!1),[r,c]=v.useState(!1),[l,p]=v.useState(""),[m,x]=v.useState("all"),[f,y]=v.useState(null),[T,E]=v.useState(null),W=[{id:1,name:"Acme Corporation",type:"customer",email:"acme@example.com"},{id:2,name:"Global Tech Solutions",type:"customer",email:"tech@example.com"},{id:3,name:"Paper Supplies Ltd",type:"vendor",email:"paper@example.com"},{id:4,name:"Office Equipment Co",type:"vendor",email:"office@example.com"}],U=[{id:"INV-2025-001",party:"Acme Corporation",amount:1320,due_date:"2025-10-15",type:"sales"},{id:"INV-2025-003",party:"Global Tech Solutions",amount:3025,due_date:"2025-10-25",type:"sales"},{id:"INV-2025-002",party:"Paper Supplies Ltd",amount:495,due_date:"2025-10-20",type:"purchase"}],[C,B]=v.useState([{id:"PAY-2025-001",date:"2025-10-02",party:"Acme Corporation",partyEmail:"acme@example.com",method:"card",amount:1320,type:"receipt",reference:"CHQ-45892",status:"completed",invoice:"INV-2025-001",notes:"Payment for website development",bank_account:"Main Business Account",transaction_id:"TXN-789456"},{id:"PAY-2025-002",date:"2025-10-06",party:"Paper Supplies Ltd",partyEmail:"paper@example.com",method:"bank_transfer",amount:495,type:"payment",reference:"BT-784512",status:"completed",invoice:"INV-2025-002",notes:"Monthly office supplies payment",bank_account:"Vendor Account",transaction_id:"BT-784512"},{id:"PAY-2025-003",date:"2025-10-08",party:"Global Tech Solutions",partyEmail:"tech@example.com",method:"mpesa",amount:1500,type:"receipt",reference:"MP-458793",status:"pending",invoice:"INV-2025-003",notes:"Partial payment for e-commerce platform",bank_account:"M-Pesa Business",transaction_id:"MP4587932025"},{id:"PAY-2025-004",date:"2025-10-10",party:"Office Equipment Co",partyEmail:"office@example.com",method:"cash",amount:850,type:"payment",reference:"CSH-001",status:"completed",invoice:null,notes:"Office chair purchase",bank_account:"Cash",transaction_id:null},{id:"PAY-2025-005",date:"2025-10-12",party:"Acme Corporation",partyEmail:"acme@example.com",method:"card",amount:2e3,type:"receipt",reference:"CHQ-45901",status:"failed",invoice:null,notes:"Card payment declined",bank_account:"Main Business Account",transaction_id:"TXN-DECLINED"}]),[o,g]=v.useState({date:new Date().toISOString().split("T")[0],party:"",partyEmail:"",method:"cash",amount:"",type:"receipt",reference:"",status:"pending",invoice:"",notes:"",bank_account:"Main Business Account",transaction_id:""}),Y=v.useMemo(()=>C.filter(t=>{var K;const u=t.id.toLowerCase().includes(l.toLowerCase())||t.party.toLowerCase().includes(l.toLowerCase())||t.reference.toLowerCase().includes(l.toLowerCase())||((K=t.transaction_id)==null?void 0:K.toLowerCase().includes(l.toLowerCase())),M=m==="all"||m==="receipts"&&t.type==="receipt"||m==="payments"&&t.type==="payment"||m===t.status;return u&&M}),[C,l,m]),J=()=>{const t=`PAY-${new Date().getFullYear()}-${String(C.length+1).padStart(3,"0")}`,u={...o,id:t,amount:parseFloat(o.amount)||0};B([u,...C]),a(!1),L()},Z=()=>{const t={...T,...o,amount:parseFloat(o.amount)||0};B(C.map(u=>u.id===T.id?t:u)),a(!1),E(null),L()},ee=t=>{E(t),g({...t,amount:t.amount.toString()}),a(!0)},te=t=>{y(t),c(!0)},se=()=>{B(C.filter(t=>t.id!==f.id)),c(!1),y(null)},L=()=>{g({date:new Date().toISOString().split("T")[0],party:"",partyEmail:"",method:"cash",amount:"",type:"receipt",reference:"",status:"pending",invoice:"",notes:"",bank_account:"Main Business Account",transaction_id:""})},ae=t=>{const u=W.find(M=>M.name===t);g({...o,party:t,partyEmail:(u==null?void 0:u.email)||"",type:(u==null?void 0:u.type)==="customer"?"receipt":"payment"})},re=t=>{switch(t){case"completed":return e.jsxs(N,{bg:"success",children:[e.jsx(Ne,{className:"me-1",size:12})," Completed"]});case"pending":return e.jsxs(N,{bg:"warning",text:"dark",children:[e.jsx(q,{className:"me-1",size:12})," Pending"]});case"failed":return e.jsxs(N,{bg:"danger",children:[e.jsx(be,{className:"me-1",size:12})," Failed"]});case"cancelled":return e.jsx(N,{bg:"secondary",children:"Cancelled"});default:return e.jsx(N,{bg:"secondary",children:t})}},ne=t=>{switch(t){case"card":return e.jsxs(N,{bg:"primary",children:[e.jsx(H,{className:"me-1",size:12})," Card"]});case"bank_transfer":return e.jsxs(N,{bg:"info",children:[e.jsx(Q,{className:"me-1",size:12})," Bank Transfer"]});case"cash":return e.jsxs(N,{bg:"success",children:[e.jsx(V,{className:"me-1",size:12})," Cash"]});case"mpesa":return e.jsx(N,{bg:"success",style:{backgroundColor:"#0cb74b"},children:"M-Pesa"});case"paypal":return e.jsx(N,{bg:"primary",children:"PayPal"});default:return e.jsx(N,{bg:"secondary",children:t})}},le=t=>t==="receipt"?e.jsx(k,{className:"text-success",size:16}):e.jsx(R,{className:"text-danger",size:16}),O=C.reduce((t,u)=>(u.status==="completed"?u.type==="receipt"?t.totalReceipts+=u.amount:t.totalPayments+=u.amount:u.status==="pending"&&(t.totalPending+=u.amount),t),{totalReceipts:0,totalPayments:0,totalPending:0}),ie=[{value:"cash",label:"Cash",icon:e.jsx(V,{className:"me-2"})},{value:"card",label:"Credit/Debit Card",icon:e.jsx(H,{className:"me-2"})},{value:"bank_transfer",label:"Bank Transfer",icon:e.jsx(Q,{className:"me-2"})},{value:"mpesa",label:"M-Pesa",icon:e.jsx(z,{className:"me-2"})},{value:"paypal",label:"PayPal",icon:e.jsx(z,{className:"me-2"})},{value:"check",label:"Check",icon:e.jsx(we,{className:"me-2"})}],ce=["Main Business Account","Vendor Account","M-Pesa Business","PayPal Business","Cash"];return e.jsxs(me,{children:[e.jsx(de,{title:"Payments Management"}),s.success&&e.jsx(ue,{variant:"success",className:"mb-3",children:s.success}),e.jsxs(S,{className:"mb-4",children:[e.jsx(j,{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(z,{className:"me-3 text-primary",size:32}),e.jsxs("div",{children:[e.jsx("h4",{className:"fw-semibold mb-1",children:"Payments Management"}),e.jsx("p",{className:"text-muted mb-0",children:"Track customer receipts and vendor payments with complete audit trail"})]})]})}),e.jsx(j,{className:"text-end",children:e.jsxs(_,{variant:"primary",className:"px-4",onClick:()=>{E(null),L(),a(!0)},children:[e.jsx(he,{className:"me-2"})," New Payment"]})})]}),e.jsxs(S,{className:"mb-4",children:[e.jsx(j,{md:3,children:e.jsx(b,{className:"border-0 bg-success bg-opacity-10",children:e.jsx(b.Body,{className:"py-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(k,{className:"text-success me-3",size:24}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Total Receipts"}),e.jsxs("div",{className:"h5 fw-bold text-success mb-0",children:["$",O.totalReceipts.toLocaleString()]})]})]})})})}),e.jsx(j,{md:3,children:e.jsx(b,{className:"border-0 bg-danger bg-opacity-10",children:e.jsx(b.Body,{className:"py-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(R,{className:"text-danger me-3",size:24}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Total Payments"}),e.jsxs("div",{className:"h5 fw-bold text-danger mb-0",children:["$",O.totalPayments.toLocaleString()]})]})]})})})}),e.jsx(j,{md:3,children:e.jsx(b,{className:"border-0 bg-warning bg-opacity-10",children:e.jsx(b.Body,{className:"py-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(q,{className:"text-warning me-3",size:24}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Pending"}),e.jsxs("div",{className:"h5 fw-bold text-warning mb-0",children:["$",O.totalPending.toLocaleString()]})]})]})})})}),e.jsx(j,{md:3,children:e.jsx(b,{className:"border-0 bg-primary bg-opacity-10",children:e.jsx(b.Body,{className:"py-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(z,{className:"text-primary me-3",size:24}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Net Cash Flow"}),e.jsxs("div",{className:`h5 fw-bold ${O.totalReceipts-O.totalPayments>=0?"text-success":"text-danger"} mb-0`,children:["$",(O.totalReceipts-O.totalPayments).toLocaleString()]})]})]})})})})]}),e.jsx(b,{className:"shadow-sm border-0 mb-4",children:e.jsx(b.Body,{children:e.jsxs(S,{children:[e.jsx(j,{md:6,children:e.jsxs(X,{children:[e.jsx(X.Text,{children:e.jsx(pe,{})}),e.jsx(i.Control,{placeholder:"Search by payment ID, party, reference...",value:l,onChange:t=>p(t.target.value)})]})}),e.jsx(j,{md:6,children:e.jsxs(xe,{activeKey:m,onSelect:t=>x(t),className:"mb-0",children:[e.jsx($,{eventKey:"all",title:"All Payments"}),e.jsx($,{eventKey:"receipts",title:"Receipts"}),e.jsx($,{eventKey:"payments",title:"Payments"}),e.jsx($,{eventKey:"pending",title:"Pending"}),e.jsx($,{eventKey:"completed",title:"Completed"})]})})]})})}),e.jsx(b,{className:"shadow-sm border-0",children:e.jsx(b.Body,{children:e.jsx("div",{className:"table-responsive",children:e.jsxs(je,{hover:!0,className:"align-middle",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Payment ID"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Party"}),e.jsx("th",{children:"Method"}),e.jsx("th",{className:"text-end",children:"Amount"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Reference"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:Y.length>0?Y.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[le(t.type),e.jsxs("div",{className:"ms-2",children:[e.jsx("div",{className:"fw-semibold",children:t.id}),e.jsx("small",{className:"text-muted text-capitalize",children:t.type})]})]})}),e.jsx("td",{className:"fw-semibold",children:t.date}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{children:t.party}),e.jsx("small",{className:"text-muted",children:t.partyEmail})]})}),e.jsx("td",{children:ne(t.method)}),e.jsxs("td",{className:"text-end",children:[e.jsxs("div",{className:`fw-semibold ${t.type==="receipt"?"text-success":"text-danger"}`,children:[t.type==="receipt"?"+":"-","$",t.amount.toLocaleString()]}),e.jsx("small",{className:"text-muted",children:t.bank_account})]}),e.jsx("td",{children:re(t.status)}),e.jsxs("td",{children:[e.jsx("div",{children:t.reference}),t.transaction_id&&e.jsx("small",{className:"text-muted",children:t.transaction_id})]}),e.jsx("td",{className:"text-center",children:e.jsxs(P,{children:[e.jsx(P.Toggle,{variant:"outline-primary",size:"sm",id:"dropdown-basic",children:"Actions"}),e.jsxs(P.Menu,{children:[e.jsxs(P.Item,{children:[e.jsx(fe,{className:"me-2",size:14}),"View Details"]}),e.jsxs(P.Item,{onClick:()=>ee(t),children:[e.jsx(ve,{className:"me-2",size:14}),"Edit"]}),e.jsxs(P.Item,{children:[e.jsx(ge,{className:"me-2",size:14}),"Receipt"]}),e.jsx(P.Divider,{}),e.jsxs(P.Item,{className:"text-danger",onClick:()=>te(t),children:[e.jsx(ye,{className:"me-2",size:14}),"Delete"]})]})]})})]},t.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"8",className:"text-center text-muted py-4",children:[e.jsx(z,{size:48,className:"mb-2"}),e.jsx("div",{children:"No payments found"}),e.jsx("small",{children:"Try adjusting your search or create a new payment"})]})})})]})})})}),e.jsxs(w,{show:n,onHide:()=>a(!1),centered:!0,size:"lg",children:[e.jsx(w.Header,{closeButton:!0,children:e.jsx(w.Title,{children:T?"Edit Payment":"Record New Payment"})}),e.jsx(w.Body,{style:{maxHeight:"70vh",overflowY:"auto"},children:e.jsxs(i,{children:[e.jsxs(S,{children:[e.jsx(j,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Payment Type *"}),e.jsxs(i.Select,{value:o.type,onChange:t=>g({...o,type:t.target.value}),children:[e.jsx("option",{value:"receipt",children:"Customer Receipt (Money In)"}),e.jsx("option",{value:"payment",children:"Vendor Payment (Money Out)"})]})]})}),e.jsx(j,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Status *"}),e.jsxs(i.Select,{value:o.status,onChange:t=>g({...o,status:t.target.value}),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"failed",children:"Failed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})})]}),e.jsxs(S,{children:[e.jsx(j,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsxs(i.Label,{children:[o.type==="receipt"?"Customer":"Vendor"," ","*"]}),e.jsxs(i.Select,{value:o.party,onChange:t=>ae(t.target.value),children:[e.jsxs("option",{value:"",children:["Select"," ",o.type==="receipt"?"Customer":"Vendor"]}),W.filter(t=>t.type===(o.type==="receipt"?"customer":"vendor")).map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))]})]})}),e.jsx(j,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Payment Date *"}),e.jsx(i.Control,{type:"date",value:o.date,onChange:t=>g({...o,date:t.target.value})})]})})]}),e.jsxs(S,{children:[e.jsx(j,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Payment Method *"}),e.jsx(i.Select,{value:o.method,onChange:t=>g({...o,method:t.target.value}),children:ie.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})}),e.jsx(j,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Bank Account *"}),e.jsx(i.Select,{value:o.bank_account,onChange:t=>g({...o,bank_account:t.target.value}),children:ce.map(t=>e.jsx("option",{value:t,children:t},t))})]})})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Amount *"}),e.jsx(i.Control,{type:"number",step:"0.01",value:o.amount,onChange:t=>g({...o,amount:t.target.value}),placeholder:"0.00"})]}),e.jsxs(S,{children:[e.jsx(j,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Reference Number"}),e.jsx(i.Control,{value:o.reference,onChange:t=>g({...o,reference:t.target.value}),placeholder:"e.g., CHQ-001, BT-458792"})]})}),e.jsx(j,{md:6,children:e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Transaction ID"}),e.jsx(i.Control,{value:o.transaction_id,onChange:t=>g({...o,transaction_id:t.target.value}),placeholder:"Bank/M-Pesa transaction ID"})]})})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Related Invoice"}),e.jsxs(i.Select,{value:o.invoice,onChange:t=>g({...o,invoice:t.target.value}),children:[e.jsx("option",{value:"",children:"Select Invoice (Optional)"}),U.filter(t=>o.type==="receipt"&&t.type==="sales"||o.type==="payment"&&t.type==="purchase").map(t=>e.jsxs("option",{value:t.id,children:[t.id," - ",t.party," ($",t.amount,")"]},t.id))]})]}),e.jsxs(i.Group,{children:[e.jsx(i.Label,{children:"Notes"}),e.jsx(i.Control,{as:"textarea",rows:3,value:o.notes,onChange:t=>g({...o,notes:t.target.value}),placeholder:"Payment notes or description..."})]})]})}),e.jsxs(w.Footer,{children:[e.jsx(_,{variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),e.jsx(_,{variant:"primary",onClick:T?Z:J,children:T?"Update Payment":"Record Payment"})]})]}),e.jsxs(w,{show:r,onHide:()=>c(!1),centered:!0,children:[e.jsx(w.Header,{closeButton:!0,children:e.jsx(w.Title,{children:"Confirm Delete"})}),e.jsxs(w.Body,{children:["Are you sure you want to delete payment"," ",e.jsx("strong",{children:f==null?void 0:f.id}),"?",e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:"This action cannot be undone and will remove the payment record permanently."})]}),e.jsxs(w.Footer,{children:[e.jsx(_,{variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),e.jsx(_,{variant:"danger",onClick:se,children:"Delete Payment"})]})]})]})}export{dt as default};
