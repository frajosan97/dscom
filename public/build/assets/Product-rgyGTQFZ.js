import{r as c,j as e,$ as Z,Y as m}from"./app-CG0rYmwP.js";import{a6 as N,S as ee,a7 as se,a8 as ae,Y as te,u as ie,$ as le,a9 as re,A as ne,a5 as ce,a4 as oe,aa as de,ab as me,ac as he,a0 as xe,ad as je,ae as pe}from"./index-CkxFe3AD.js";import{A as fe}from"./AppLayout-Csp-lHad.js";import{A as be}from"./AddToCartBtn-VMlOANrF.js";import{S as H}from"./SlickSlider-D56CFiKP.js";import{a as v}from"./helpers-D52D6J_C.js";import{C as ue,I as M,B as n}from"./Image-DOSiFVRD.js";import{B as h}from"./Breadcrumb-DYK4C6sA.js";import{A as Ne}from"./Alert-Bz1djl1I.js";import{R as w,I as ve}from"./Footer-CVrb9yvl.js";import{C as i,F as x}from"./Form-DBT1bdVP.js";import{C as l}from"./Card-CewoDW1c.js";import{B as g}from"./Badge-CiUfgQlb.js";import{B as we}from"./ButtonGroup-C8dF5zH6.js";import{T as ge}from"./Tabs-BOtz-nHt.js";import{T as y}from"./Tab-M-Rso0-C.js";import{M as j}from"./Modal-DaZAfTy_.js";import"./iconBase-JZvYHVIv.js";import"./useData-7VE-1-99.js";import"./ListGroup-ChY6jymS.js";import"./CloseButton-BDXCjQ_i.js";import"./index-gu1DF8MQ.js";/* empty css                      */function De({product:s}){var B,R,I,P,q,z;const[o,p]=c.useState(1),[r,O]=c.useState(s.default_image||((B=s.images)==null?void 0:B[0])),[W,E]=c.useState("description"),[d,K]=c.useState(!1),[L,S]=c.useState(!1),[G,Y]=c.useState(!1),k=s.images||[],f=s.track_quantity?s.total_quantity>0?{status:"available",text:`In Stock (${s.total_quantity} available)`,variant:"success"}:s.allow_backorders?{status:"backorder",text:"Available on Backorder",variant:"warning"}:{status:"out_of_stock",text:"Out of Stock",variant:"danger"}:{status:"available",text:"In Stock",variant:"success"},_=a=>{a==="increment"?p(t=>t+1):a==="decrement"&&o>1&&p(t=>t-1)},b=!s.reviews||s.reviews.length===0?0:s.reviews.reduce((t,u)=>t+u.rating,0)/s.reviews.length,C=Math.floor(b),$=b%1>=.5,Q=5-C-($?1:0),D=()=>{let a=[];for(let t=0;t<C;t++)a.push(e.jsx(xe,{className:"text-warning"},`full-${t}`));$&&a.push(e.jsx(je,{className:"text-warning"},"half"));for(let t=0;t<Q;t++)a.push(e.jsx(pe,{className:"text-warning"},`empty-${t}`));return a},U=()=>{S(!0)},V={facebook:`https://www.facebook.com/sharer/sharer.php?u=${window.location.href}`,twitter:`https://twitter.com/intent/tweet?url=${window.location.href}&text=Check out this product: ${s.name}`,pinterest:`https://pinterest.com/pin/create/button/?url=${window.location.href}&media=${r==null?void 0:r.image_path}&description=${s.name}`,whatsapp:`https://wa.me/?text=Check out this product: ${s.name} ${window.location.href}`,email:`mailto:?subject=${s.name}&body=Check out this product: ${window.location.href}`},F=s.variations||[],A=((R=s.metadata)==null?void 0:R.specifications)||{},T=s.compare_price&&s.compare_price>s.base_price?Math.round((s.compare_price-s.base_price)/s.compare_price*100):0,J={slidesToShow:4,autoplay:!0,autoplaySpeed:4e3,speed:600,customSettings:{infinite:!0,arrows:!0,dots:!1,responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2,arrows:!1}},{breakpoint:576,settings:{slidesToShow:1,arrows:!1,dots:!0}}]}};return e.jsxs(fe,{children:[e.jsx(Z,{title:s.name}),e.jsxs(ue,{fluid:!0,className:"py-4",children:[e.jsxs(h,{className:"mb-3",children:[e.jsx(h.Item,{linkAs:m,linkProps:{href:"/"},children:"Home"}),s.category&&e.jsx(h.Item,{linkAs:m,linkProps:{href:`/categories/${s.category.slug}`},children:s.category.name}),e.jsx(h.Item,{active:!0,children:s.name})]}),G&&e.jsxs(Ne,{variant:"success",className:"mb-3 d-flex align-items-center",dismissible:!0,onClose:()=>Y(!1),children:[e.jsx(N,{className:"me-2"}),"Product added to cart successfully!"]}),e.jsxs(w,{children:[e.jsx(i,{lg:6,children:e.jsx(l,{className:"border-0 shadow-sm mb-3",children:e.jsxs(l.Body,{className:"p-3",children:[e.jsx("div",{className:"product-main-image mb-3",children:e.jsx(M,{src:r?`/storage/${r.image_path}`:"/images/default-product.png",alt:s.name,fluid:!0,className:"w-100 rounded-3",style:{maxHeight:"400px",objectFit:"contain",backgroundColor:"#f8f9fa"}})}),k.length>1&&e.jsx("div",{className:"product-thumbnails",children:e.jsx(H,{slidesToShow:4,arrows:!0,dots:!1,children:k.map(a=>e.jsx("div",{className:"px-1",children:e.jsx("div",{className:`thumbnail rounded-2 border ${(r==null?void 0:r.id)===a.id?"border-primary":"border-light"}`,onClick:()=>O(a),style:{cursor:"pointer",height:"80px",overflow:"hidden"},children:e.jsx(M,{src:`/storage/${a.image_path}`,alt:`${s.name} - ${a.alt_text||"Image"}`,className:"h-100 w-100 object-fit-cover"})})},a.id))})})]})})}),e.jsx(i,{lg:6,children:e.jsx(l,{className:"border-0 shadow-sm mb-3",children:e.jsxs(l.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"h3 fw-bold mb-2 text-capitalize",children:s.name}),e.jsxs("div",{className:"d-flex align-items-center gap-3 mb-2",children:[s.brand&&e.jsx(m,{href:`/brands/${s.brand.slug}`,className:"text-decoration-none",children:e.jsx(g,{bg:"light",text:"dark",className:"fw-normal",children:s.brand.name})}),s.sku&&e.jsxs("small",{className:"text-muted",children:["SKU: ",s.sku]})]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(n,{variant:d?"danger":"outline-danger",size:"sm",onClick:()=>K(!d),title:d?"Remove from wishlist":"Add to wishlist",className:"rounded-circle",children:d?e.jsx(ee,{}):e.jsx(se,{})}),e.jsx(n,{variant:"outline-secondary",size:"sm",onClick:U,title:"Share this product",className:"rounded-circle",children:e.jsx(ae,{})})]})]}),e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:"me-2",children:D()}),e.jsxs("span",{className:"text-muted small me-3",children:[b.toFixed(1)," (",((I=s.reviews)==null?void 0:I.length)||0," reviews)"]}),e.jsx(m,{href:"#reviews",className:"small text-decoration-none",children:"Write a review"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("span",{className:"h3 fw-bold text-primary me-3",children:v(s.base_price)}),T>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-muted text-decoration-line-through me-2",children:v(s.compare_price)}),e.jsxs(g,{bg:"danger",className:"fs-6",children:["-",T,"%"]})]})]}),s.cost_per_item&&e.jsxs("small",{className:"text-muted",children:["Cost per item:"," ",v(s.cost_per_item)]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(g,{bg:f.variant,className:"fs-6 py-2 px-3 mb-2",children:f.text}),s.low_stock_alert&&s.total_quantity<=s.low_stock_alert&&e.jsxs("div",{className:"text-warning small mt-1",children:[e.jsx(N,{className:"me-1"}),"Low stock alert: Only"," ",s.total_quantity," left!"]})]}),s.short_description&&e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-muted",children:s.short_description})}),F.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"fw-semibold mb-3",children:"Available Options:"}),e.jsx("div",{className:"d-flex flex-wrap gap-2",children:F.map((a,t)=>e.jsx(n,{variant:"outline-primary",size:"sm",className:"rounded-pill",children:a},t))})]}),((P=s.colors)==null?void 0:P.length)>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"fw-semibold mb-2",children:"Colors:"}),e.jsx("div",{className:"d-flex flex-wrap gap-2",children:s.colors.map((a,t)=>e.jsx("div",{className:"rounded-circle border",style:{width:"32px",height:"32px",backgroundColor:a,cursor:"pointer",border:"2px solid #dee2e6"},title:a},t))})]}),((q=s.sizes)==null?void 0:q.length)>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"fw-semibold mb-2",children:"Sizes:"}),e.jsx("div",{className:"d-flex flex-wrap gap-2",children:s.sizes.map((a,t)=>e.jsx(n,{variant:"outline-secondary",size:"sm",className:"rounded-1",children:a},t))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("h6",{className:"fw-semibold mb-0 me-3",style:{minWidth:"100px"},children:"Quantity:"}),e.jsxs(we,{className:"rounded-3",children:[e.jsx(n,{variant:"outline-secondary",onClick:()=>_("decrement"),disabled:o<=1,className:"border-end-0",children:e.jsx(te,{})}),e.jsx(x.Control,{type:"number",min:"1",max:s.track_quantity?s.total_quantity:999,value:o,onChange:a=>p(Math.max(1,parseInt(a.target.value)||1)),className:"text-center border-0",style:{width:"60px"}}),e.jsx(n,{variant:"outline-secondary",onClick:()=>_("increment"),className:"border-start-0",disabled:s.track_quantity&&o>=s.total_quantity,children:e.jsx(ie,{})})]})]}),e.jsx("div",{className:"d-flex gap-3",children:e.jsx(be,{product:s,quantity:o,disabled:f.status==="out_of_stock",className:"flex-grow-1 py-3"})})]}),e.jsx("div",{className:"border-top pt-4",children:e.jsxs(w,{children:[e.jsx(i,{xs:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(le,{className:"text-primary me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"fw-semibold",children:"Free Shipping"}),e.jsx("div",{className:"text-muted small",children:"On orders over $50"})]})]})}),e.jsx(i,{xs:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(re,{className:"text-primary me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"fw-semibold",children:"2-Year Warranty"}),e.jsx("div",{className:"text-muted small",children:"Guaranteed quality"})]})]})}),e.jsx(i,{xs:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(ne,{className:"text-primary me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"fw-semibold",children:"30-Day Returns"}),e.jsx("div",{className:"text-muted small",children:"Easy returns"})]})]})}),e.jsx(i,{xs:6,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(N,{className:"text-primary me-2"}),e.jsxs("div",{children:[e.jsx("small",{className:"fw-semibold",children:"Secure Payment"}),e.jsx("div",{className:"text-muted small",children:"100% secure"})]})]})})]})})]})})}),e.jsx(i,{md:12,children:e.jsx(l,{className:"border-0 shadow-sm mb-4",children:e.jsx(l.Body,{className:"p-0",children:e.jsxs(ge,{activeKey:W,onSelect:a=>E(a),className:"px-3 pt-3 border-bottom-0",fill:!0,children:[e.jsx(y,{eventKey:"description",title:"Description",children:e.jsx("div",{className:"p-4",children:s.description?e.jsx("div",{dangerouslySetInnerHTML:{__html:s.description}}):e.jsx("p",{className:"text-muted text-center py-4",children:"No description available."})})}),e.jsx(y,{eventKey:"specifications",title:"Specifications",children:e.jsx("div",{className:"p-4",children:Object.keys(A).length>0?e.jsx(w,{children:Object.entries(A).map(([a,t])=>e.jsx(i,{md:6,className:"mb-3",children:e.jsxs("div",{className:"d-flex border-bottom pb-2",children:[e.jsxs("span",{className:"fw-semibold text-muted me-2",style:{minWidth:"150px"},children:[a,":"]}),e.jsx("span",{children:t})]})},a))}):e.jsx("p",{className:"text-muted text-center py-4",children:"No specifications available."})})}),e.jsx(y,{eventKey:"reviews",title:`Reviews (${((z=s.reviews)==null?void 0:z.length)||0})`,children:e.jsx("div",{className:"p-4",id:"reviews",children:e.jsx("p",{className:"text-center text-muted py-4",children:"Reviews functionality would be implemented here"})})})]})})})}),s.related_products&&s.related_products.length>0&&e.jsx(i,{md:12,children:e.jsxs(l,{className:"border-0 shadow-sm mb-4",children:[e.jsx(l.Header,{className:"bg-transparent border-0 py-3",children:e.jsx("h4",{className:"mb-0 fw-semibold",children:"Related Products"})}),e.jsx(l.Body,{className:"pt-0",children:e.jsx(H,{...J,children:s.related_products.map(a=>e.jsx("div",{className:"px-2",children:e.jsx(ProductCard,{product:a})},a.id))})})]})})]})]}),e.jsxs(j,{show:L,onHide:()=>S(!1),centered:!0,size:"lg",children:[e.jsx(j.Header,{closeButton:!0,className:"border-0 pb-0",children:e.jsx(j.Title,{className:"h5",children:"Share this product"})}),e.jsxs(j.Body,{children:[e.jsx("div",{className:"d-flex justify-content-around mb-4",children:Object.entries({facebook:{icon:he,color:"primary",label:"Facebook"},twitter:{icon:me,color:"info",label:"Twitter"},pinterest:{icon:de,color:"danger",label:"Pinterest"},whatsapp:{icon:oe,color:"success",label:"WhatsApp"},email:{icon:ce,color:"secondary",label:"Email"}}).map(([a,{icon:t,color:u,label:X}])=>e.jsxs("a",{href:V[a],target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none text-center",children:[e.jsx(n,{variant:`outline-${u}`,className:"rounded-circle p-3 d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px"},children:e.jsx(t,{size:24})}),e.jsx("div",{className:"text-center mt-2 small",children:X})]},a))}),e.jsxs(x.Group,{children:[e.jsx(x.Label,{className:"fw-semibold",children:"Or copy link"}),e.jsxs(ve,{children:[e.jsx(x.Control,{type:"text",value:typeof window<"u"?window.location.href:"",readOnly:!0,className:"border-end-0"}),e.jsx(n,{variant:"outline-secondary",onClick:()=>{typeof navigator<"u"&&navigator.clipboard&&navigator.clipboard.writeText(window.location.href)},className:"border-start-0",children:"Copy"})]})]})]})]})]})}export{De as default};
