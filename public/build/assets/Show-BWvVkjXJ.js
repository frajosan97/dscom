import{j as s,r as o,$}from"./app-CcdzEu0R.js";import{d as u}from"./helpers-B9XmgPRl.js";import{R as P,N as b}from"./Footer-4Livvlxt.js";import{C as c}from"./Form-CLPTCCgE.js";import{C as e}from"./Card-CSAU_t4j.js";import{B as D}from"./Badge-CBjpO1io.js";import{I as B,B as I}from"./Image-D_GvnDn_.js";import{E as S}from"./ErpLayout-u_y7Ersr.js";import{T as f}from"./Tab-B5PsefMC.js";import"./CloseButton-Bv_xupVB.js";/* empty css                      */const E=({order:n})=>{var a,x,t,j,d,m,p,l,h,g,N,y,_,A,w,k,C,v,r;return console.log(n),s.jsxs(P,{className:"g-2",children:[s.jsx(c,{md:3,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Job Brief"}),s.jsxs(e.Body,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Job No:"})," ",n==null?void 0:n.order_number]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Entry Date:"})," ",u(n==null?void 0:n.created_at)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Re-entry Job No:"})," ",n==null?void 0:n.id]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Entering Staff:"})," ",((a=n==null?void 0:n.creator)==null?void 0:a.full_name)||((x=n==null?void 0:n.creator)==null?void 0:x.name)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Due Date:"})," ",u(n==null?void 0:n.completion_date)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Entry Warranty:"})," ",s.jsx(D,{bg:((t=n==null?void 0:n.custom_fields)==null?void 0:t.warranty_status)==="on"?"success":"danger",children:((j=n==null?void 0:n.custom_fields)==null?void 0:j.warranty_status)||"off"})]})]})]})}),s.jsx(c,{md:3,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Customer Details"}),s.jsxs(e.Body,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",((d=n==null?void 0:n.customer)==null?void 0:d.full_name)||((m=n==null?void 0:n.customer)==null?void 0:m.name)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone Number:"})," ",((p=n==null?void 0:n.customer)==null?void 0:p.phone)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Place:"})," ",((l=n==null?void 0:n.customer)==null?void 0:l.country)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",((h=n==null?void 0:n.customer)==null?void 0:h.address)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Account Id:"})," ",((g=n==null?void 0:n.customer)==null?void 0:g.id)||"N/A"]})]})]})}),s.jsx(c,{md:3,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Device Information"}),s.jsxs(e.Body,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Company:"})," ",(n==null?void 0:n.device_brand)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Model:"})," ",(n==null?void 0:n.device_model)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Color:"})," ",((N=n==null?void 0:n.custom_fields)==null?void 0:N.color)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"IMEI/Serial:"})," ",(n==null?void 0:n.device_serial)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Password:"})," ",((y=n==null?void 0:n.custom_fields)==null?void 0:y.device_password)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Detailed Notes:"})," ",(n==null?void 0:n.device_notes)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Device Photo:"})," ",n!=null&&n.device_images?s.jsx(B,{src:JSON.parse(n.device_images)[0],alt:"Device",width:50,height:50}):"N/A"]})]})]})}),s.jsx(c,{md:3,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Technician Details"}),s.jsxs(e.Body,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Technician:"})," ",((_=n==null?void 0:n.technician)==null?void 0:_.full_name)||((A=n==null?void 0:n.technician)==null?void 0:A.name)||"Not Assigned"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone Number:"})," ",((w=n==null?void 0:n.technician)==null?void 0:w.phone)||"Not Assigned"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",((k=n==null?void 0:n.technician)==null?void 0:k.address)||"Not Assigned"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Photo:"})," ",(C=n==null?void 0:n.technician)!=null&&C.profile_image?s.jsx(B,{src:n.technician.profile_image,alt:"Technician",width:50,height:50}):"Not Assigned"]})]})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Complaint Details"}),s.jsxs(e.Body,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Complaints:"})," ",((v=n==null?void 0:n.complaint)==null?void 0:v.complaint)||"No complaints recorded"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Other Remarks:"})," ",((r=n==null?void 0:n.complaint)==null?void 0:r.remarks)||"No remarks"]})]})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Initial Checks Information"}),s.jsx(e.Body,{children:n!=null&&n.initialChecks?s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Power On:"})," ",n.initialChecks.power_on?"Yes":"No"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Visible Damage:"})," ",n.initialChecks.visible_damage||"None"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Buttons Working:"})," ",n.initialChecks.buttons_working?"Yes":"No"]})]}):s.jsx("p",{children:"No Data"})})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Physical Conditions"}),s.jsx(e.Body,{children:n!=null&&n.physicalConditions?s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Screen Condition:"})," ",n.physicalConditions.screen_condition||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Body Condition:"})," ",n.physicalConditions.body_condition||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Accessories Included:"})," ",n.physicalConditions.accessories_included||"None"]})]}):s.jsx("p",{children:"No Data"})})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Risk Agreed By Customer"}),s.jsx(e.Body,{children:n!=null&&n.riskAgreements?s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Data Loss:"})," ",n.riskAgreements.data_loss_accepted?"Accepted":"Not Accepted"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Further Damage:"})," ",n.riskAgreements.further_damage_accepted?"Accepted":"Not Accepted"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Signed Date:"})," ",u(n.riskAgreements.signed_at)]})]}):s.jsx("p",{children:"No Data"})})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Accessories"}),s.jsx(e.Body,{children:n!=null&&n.accessories&&n.accessories.length>0?n.accessories.map(i=>s.jsxs("p",{children:[s.jsxs("strong",{children:[i.name,":"]})," ",i.quantity," ",i.condition&&`(${i.condition})`]},i.id)):s.jsx("p",{children:"No Data"})})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Payment Info"}),s.jsxs(e.Body,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Estimated Cost:"})," ",n!=null&&n.estimated_cost?`$${n.estimated_cost}`:"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Final Cost:"})," ",n!=null&&n.final_cost?`$${n.final_cost}`:"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Amount Paid:"})," ",n!=null&&n.amount_paid?`$${n.amount_paid}`:"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Balance Due:"})," ",n!=null&&n.balance_due?`$${n.balance_due}`:"N/A"]})]})]})}),s.jsx(c,{md:12,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Transaction Details"}),s.jsx(e.Body,{children:n!=null&&n.payments&&n.payments.length>0?s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Amount"}),s.jsx("th",{children:"Method"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Status"})]})}),s.jsx("tbody",{children:n.payments.map(i=>s.jsxs("tr",{children:[s.jsx("td",{children:u(i.payment_date)}),s.jsxs("td",{children:["$",i.amount]}),s.jsx("td",{children:i.payment_method}),s.jsx("td",{children:i.payment_type}),s.jsx("td",{children:s.jsx(D,{bg:i.status==="completed"?"success":i.status==="pending"?"warning":i.status==="failed"?"danger":"secondary",children:i.status})})]},i.id))})]}):s.jsx("p",{children:"No payment records found"})})]})})]})},q=({order:n=null})=>{const[a,x]=o.useState("job-entry-info"),t=o.useMemo(()=>[{key:"job-entry-info",label:"Job Entry Info",icon:"bi-person"},{key:"service-info",label:"Service Info",icon:"bi-gear"},{key:"delivery-info",label:"Delivery Info",icon:"bi-truck"},{key:"ret-outside-service",label:"Ret Outside Service",icon:"bi-arrow-left-right"},{key:"call-info",label:"Call Info",icon:"bi-telephone"},{key:"refund-loss",label:"Refund & Loss",icon:"bi-currency-dollar"},{key:"feedback",label:"Feedback",icon:"bi-chat"}],[]),j=o.useCallback(()=>{const l=t.findIndex(h=>h.key===a);l<t.length-1&&x(t[l+1].key)},[a,t]),d=o.useCallback(()=>{const l=t.findIndex(h=>h.key===a);l>0&&x(t[l-1].key)},[a,t]),m=a===t[0].key,p=a===t[t.length-1].key;return s.jsxs(S,{children:[s.jsx($,{title:"Service Job Details"}),s.jsx(f.Container,{activeKey:a,onSelect:x,children:s.jsxs(P,{children:[s.jsx(c,{sm:3,md:2,className:"border-end bg-light",children:s.jsx(b,{variant:"pills",className:"flex-column",children:t.map(({key:l,label:h,icon:g})=>s.jsx(b.Item,{className:"mb-2",children:s.jsxs(b.Link,{eventKey:l,className:"d-flex align-items-center",children:[s.jsx("i",{className:`${g} me-2`}),s.jsx("span",{className:"d-none d-md-inline",children:h})]})},l))})}),s.jsxs(c,{sm:9,md:10,children:[s.jsx(f.Content,{children:s.jsx(f.Pane,{eventKey:"job-entry-info",children:s.jsx(E,{order:n})})}),s.jsxs("div",{className:"d-flex justify-content-between mt-4",children:[s.jsx(I,{variant:"outline-primary",onClick:d,disabled:m,children:"Previous"}),s.jsx(I,{variant:"primary",onClick:j,disabled:p,children:"Next"})]})]})]})})]})};export{q as default};
