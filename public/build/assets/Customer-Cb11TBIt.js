import{r as s,j as e,$ as u,Y as b}from"./app-rlNx4Iiu.js";import{E as f}from"./ErpLayout-C6UZf7Lx.js";import{C as x,B as p}from"./Image-BuCKbu51.js";import{R as h}from"./Footer-UqFNTOz4.js";import{C as o}from"./Form-lYHRddvs.js";import{B as T}from"./ButtonGroup-B7EHA9Va.js";import{C as c}from"./Card-Xz6cOBHW.js";import{T as j}from"./Table-DemdZvHG.js";/* empty css                      */import"./CloseButton-BnZ8vsiJ.js";function S(){const[l,N]=s.useState(""),r=s.useRef(!1),i=s.useRef(null),n=s.useCallback(()=>{if(r.current)return;$.fn.DataTable.isDataTable("#customerTable")&&$("#customerTable").DataTable().destroy();const a=$("#customerTable").DataTable({processing:!0,serverSide:!0,ajax:{url:route("customers.index"),type:"GET",data:function(t){t.search=l}},columns:[{data:"DT_RowIndex",title:"#",className:"text-center",width:"1%",orderable:!1,searchable:!1},{data:"name",title:"Name",className:"text-start"},{data:"email",title:"Email",className:"text-start"},{data:"phone",title:"Phone",className:"text-start"},{data:"role",title:"Type",className:"text-start",width:"10%"},{data:"status",title:"Status",className:"text-center",render:t=>`<span class="badge ${t==="active"?"bg-success":t==="pending"?"bg-warning text-dark":"bg-secondary"}">${t}</span>`},{data:"balance",title:"Balance",className:"text-end"},{data:"action",title:"Actions",className:"text-center",orderable:!1,searchable:!1}],drawCallback:function(){$(".edit-btn").off("click").on("click",function(){const t=$(this).data("id");m(t)}),$(".delete-btn").off("click").on("click",function(){const t=$(this).data("id");d(t)})},initComplete:function(){r.current=!0}});return i.current=a,a},[l]);s.useEffect(()=>(n(),()=>{$.fn.DataTable.isDataTable("#customerTable")&&($("#customerTable").DataTable().destroy(),r.current=!1)}),[n]);const m=a=>{console.log("Edit customer:",a)},d=a=>{console.log("Delete customer:",a)};return e.jsxs(f,{children:[e.jsx(u,{title:"Customer Management"}),e.jsxs(x,{fluid:!0,className:"py-4",children:[e.jsxs(h,{className:"mb-4",children:[e.jsxs(o,{children:[e.jsx("h3",{className:"fw-bold text-primary",children:"Customer Management"}),e.jsx("p",{className:"text-muted mb-0",children:"View, manage, and maintain all customer accounts."})]}),e.jsx(o,{className:"text-end",children:e.jsx(T,{children:e.jsxs(p,{variant:"outline-primary",as:b,href:route("customers.create"),children:[e.jsx("i",{className:"bi bi-person-plus me-1"})," Add Customer"]})})})]}),e.jsx(c,{children:e.jsx(c.Body,{children:e.jsx(j,{bordered:!0,hover:!0,responsive:!0,id:"customerTable",className:"align-middle mb-0"})})})]})]})}export{S as default};
