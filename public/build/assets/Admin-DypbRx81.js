import{q as F,j as s,$ as K}from"./app-B27A4gAu.js";import{E as A}from"./ErpLayout-DNMhQ0u8.js";import{h as T,i as z,j as I,k as _,l as E,m as G}from"./index-BdGnjsTB.js";import{C as q,B as H}from"./Image-BsV_zh1h.js";import{R as r}from"./Footer-CYHpKGKu.js";import{C as t}from"./Form-DnVOYCGi.js";import{C as a}from"./Card-dwbIjSrg.js";import{B as n}from"./Badge-DHcK7zZ_.js";import{R as d,B as V,C as b,X as u,Y as g,T as c,L as v,a as y,P as N,b as f,c as w,d as W,e as B}from"./PieChart-BeFNxbnl.js";import{P as o}from"./ProgressBar-CWeSYNXo.js";/* empty css                      */import"./iconBase-Dr2Sovul.js";import"./CloseButton-BcTf898R.js";const h=["#0088FE","#00C49F","#FFBB28","#FF8042"];function ns({dashboardData:$}){const{auth:M}=F().props,{summaryMetrics:i,salesData:C,revenueSources:x,repairData:R,inventoryData:m,topProducts:S,recentOrders:L,repairStatus:k,customerAcquisition:O}=$,D=[{title:"Total Sales",value:`$${i.totalSales.toLocaleString()}`,description:`${i.salesGrowth>=0?"+":""}${i.salesGrowth}% vs last month`,icon:s.jsx(T,{size:24,className:"text-primary"}),bg:"bg-primary bg-opacity-10",trend:i.salesGrowth>=0?"up":"down"},{title:"Total Orders",value:i.totalOrders,description:`<span class="text-success">${i.onlineOrders} online</span> • <span class="text-info">${i.retailOrders} in-store</span>`,icon:s.jsx(z,{size:24,className:"text-success"}),bg:"bg-success bg-opacity-10",isHtml:!0},{title:"Inventory Value",value:`$${i.inventoryValue.toLocaleString()}`,description:`${i.lowStockItems} low stock items`,icon:s.jsx(I,{size:24,className:"text-warning"}),bg:"bg-warning bg-opacity-10",trend:"down"},{title:"Repair Revenue",value:`$${i.repairRevenue.toLocaleString()}`,description:`${i.completedRepairs} completed • ${i.repairOrders-i.completedRepairs} in progress`,icon:s.jsx(_,{size:24,className:"text-info"}),bg:"bg-info bg-opacity-10"}],j={completed:"success",processing:"primary",pending:"warning",shipped:"info",in_progress:"primary",diagnosis:"info",awaiting_parts:"warning"};return s.jsxs(A,{children:[s.jsx(K,{title:"Dashboard"}),s.jsxs(q,{fluid:!0,children:[s.jsx(r,{className:"mb-4",children:D.map((e,l)=>s.jsx(t,{md:3,sm:6,children:s.jsx(a,{className:"shadow-sm border-0 h-100",children:s.jsx(a.Body,{children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxs("div",{children:[s.jsx("h6",{className:"text-muted mb-2",children:e.title}),s.jsx("h3",{className:"mb-0",children:e.value}),e.isHtml?s.jsx("div",{dangerouslySetInnerHTML:{__html:e.description}}):s.jsx("p",{className:"mb-0",children:e.description})]}),s.jsx("div",{className:`${e.bg} p-3 rounded`,children:e.icon})]})})})},l))}),s.jsxs(r,{className:"mb-4",children:[s.jsx(t,{lg:8,children:s.jsx(a,{className:"shadow-sm border-0 h-100",children:s.jsxs(a.Body,{children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsx("h5",{className:"mb-0",children:"Sales Performance"}),s.jsxs("div",{children:[s.jsx(n,{bg:"light",text:"dark",className:"me-2",children:"Online"}),s.jsx(n,{bg:"light",text:"dark",children:"Retail"})]})]}),s.jsx("div",{style:{height:"300px"},children:s.jsx(d,{width:"100%",height:"100%",children:s.jsxs(V,{data:C,children:[s.jsx(b,{strokeDasharray:"3 3",vertical:!1}),s.jsx(u,{dataKey:"name"}),s.jsx(g,{}),s.jsx(c,{}),s.jsx(v,{}),s.jsx(y,{dataKey:"online",fill:"#4e73df",radius:[4,4,0,0]}),s.jsx(y,{dataKey:"retail",fill:"#1cc88a",radius:[4,4,0,0]})]})})})]})})}),s.jsx(t,{lg:4,children:s.jsx(a,{className:"shadow-sm border-0 h-100",children:s.jsxs(a.Body,{children:[s.jsx("h5",{className:"mb-3",children:"Revenue Sources"}),s.jsx("div",{style:{height:"300px"},children:s.jsx(d,{width:"100%",height:"100%",children:s.jsxs(N,{children:[s.jsx(f,{data:x,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,percent:l})=>`${e}: ${(l*100).toFixed(0)}%`,children:x.map((e,l)=>s.jsx(w,{fill:h[l%h.length]},`cell-${l}`))}),s.jsx(c,{})]})})})]})})})]}),s.jsxs(r,{className:"mb-4",children:[s.jsx(t,{lg:6,children:s.jsx(a,{className:"shadow-sm border-0 h-100",children:s.jsxs(a.Body,{children:[s.jsx("h5",{className:"mb-3",children:"Inventory Distribution"}),s.jsx("div",{style:{height:"250px"},children:s.jsx(d,{width:"100%",height:"100%",children:s.jsxs(N,{children:[s.jsx(f,{data:m,cx:"50%",cy:"50%",labelLine:!1,outerRadius:70,fill:"#8884d8",dataKey:"value",label:({name:e,percent:l})=>`${e}: ${(l*100).toFixed(0)}%`,children:m.map((e,l)=>s.jsx(w,{fill:h[l%h.length]},`cell-${l}`))}),s.jsx(c,{formatter:e=>[`${e} units`,"Inventory"]})]})})})]})})}),s.jsx(t,{lg:6,children:s.jsx(a,{className:"shadow-sm border-0 h-100",children:s.jsxs(a.Body,{children:[s.jsx("h5",{className:"mb-3",children:"Repair Service Trends"}),s.jsx("div",{style:{height:"250px"},children:s.jsx(d,{width:"100%",height:"100%",children:s.jsxs(W,{data:R,children:[s.jsx(b,{strokeDasharray:"3 3",vertical:!1}),s.jsx(u,{dataKey:"name"}),s.jsx(g,{}),s.jsx(c,{}),s.jsx(v,{}),s.jsx(B,{type:"monotone",dataKey:"completed",stroke:"#36b9cc",strokeWidth:2,dot:{r:4}}),s.jsx(B,{type:"monotone",dataKey:"pending",stroke:"#f6c23e",strokeWidth:2,dot:{r:4}})]})})})]})})})]}),s.jsxs(r,{className:"mb-4",children:[s.jsx(t,{lg:6,children:s.jsx(a,{className:"shadow-sm border-0 h-100",children:s.jsxs(a.Body,{children:[s.jsx("h5",{className:"mb-3",children:"Top Selling Products"}),s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover mb-0",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Product"}),s.jsx("th",{className:"text-end",children:"Sales"}),s.jsx("th",{className:"text-end",children:"Revenue"})]})}),s.jsx("tbody",{children:S.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"bg-light rounded p-1 me-2",children:s.jsx(E,{size:16})}),s.jsx("span",{children:e.name})]})}),s.jsx("td",{className:"text-end",children:e.sales}),s.jsxs("td",{className:"text-end",children:["$",e.revenue.toLocaleString()]})]},e.id))})]})})]})})}),s.jsx(t,{lg:6,children:s.jsx(a,{className:"shadow-sm border-0 h-100",children:s.jsxs(a.Body,{children:[s.jsx("h5",{className:"mb-3",children:"Recent Orders"}),s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover mb-0",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Order #"}),s.jsx("th",{children:"Customer"}),s.jsx("th",{className:"text-end",children:"Amount"}),s.jsx("th",{children:"Status"})]})}),s.jsx("tbody",{children:L.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.id}),s.jsx("td",{children:e.customer}),s.jsxs("td",{className:"text-end",children:["$",e.amount]}),s.jsx("td",{children:s.jsx(n,{bg:j[e.status],children:e.status})})]},e.id))})]})})]})})})]}),s.jsxs(r,{children:[s.jsx(t,{lg:6,children:s.jsx(a,{className:"shadow-sm border-0 h-100",children:s.jsxs(a.Body,{children:[s.jsx("h5",{className:"mb-3",children:"Repair Status"}),s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover mb-0",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Repair #"}),s.jsx("th",{children:"Device"}),s.jsx("th",{children:"Issue"}),s.jsx("th",{children:"Status"})]})}),s.jsx("tbody",{children:k.map(e=>s.jsxs("tr",{children:[s.jsx("td",{children:e.id}),s.jsx("td",{children:e.device}),s.jsx("td",{children:e.issue}),s.jsx("td",{children:s.jsx(n,{bg:j[e.status],children:e.status.replace("_"," ")})})]},e.id))})]})})]})})}),s.jsx(t,{lg:6,children:s.jsx(a,{className:"shadow-sm border-0 h-100",children:s.jsxs(a.Body,{children:[s.jsx("h5",{className:"mb-3",children:"Customer Acquisition"}),O.metrics.map((e,l)=>s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[s.jsx("span",{children:e.label}),s.jsxs("span",{children:[e.value,e.trend&&s.jsxs("small",{className:`text-${e.trend>0?"success":"danger"}`,children:["(",e.trend>0?"+":"",e.trend,"%)"]})]})]}),e.components?s.jsx(o,{children:e.components.map((p,P)=>s.jsx(o,{variant:p.variant,now:p.value},P))}):s.jsx(o,{now:e.percentage,variant:e.variant||"success"})]},l)),s.jsx("div",{className:"text-center mt-4",children:s.jsxs(H,{variant:"outline-primary",size:"sm",children:["View Customer Analytics"," ",s.jsx(G,{className:"ms-1"})]})})]})})})]})]})]})}export{ns as default};
