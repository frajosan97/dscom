import{r as c,j as e,$ as D,Y as d}from"./app-DDPmmEsP.js";import{F as K,a as Y,b as q,c as Q,d as U,e as b,f as A,g as J,h as V,i as X,j as Z,k as ee,l as se}from"./index-D5ijG6wD.js";import{A as ae}from"./AppLayout-BsRDCESm.js";import{A as te,S as ie}from"./SlickSlider-Bl5ntD7-.js";import{C as re,I as R,B as r}from"./Image-CfrpkxQr.js";import{B as j}from"./Breadcrumb-BSbhuDax.js";import{R as B,B as ne,I as T}from"./Footer-DHiARg5T.js";import{C as o,F as i}from"./Form-Cqgl9C35.js";import{C as n}from"./Card-BnTkWAgR.js";import{T as le}from"./Tabs-BwP3r6_Z.js";import{T as v}from"./Tab-Df_OXg6b.js";import{L as z}from"./ListGroup-BEoPwBm3.js";import{M as p}from"./Modal-CuFKoZEN.js";import"./iconBase-CZOCq8hy.js";import"./useData-DDLfDtqJ.js";/* empty css                      */import"./CloseButton-bKfF9Hr0.js";function Fe({product:s}){var k,C,_,F,$;const[x,u]=c.useState(1),[l,H]=c.useState(s.default_image),[L,M]=c.useState("description"),[N,P]=c.useState(!1),[W,w]=c.useState(!1),[ce,de]=c.useState(!1),g=a=>{a==="increment"?u(t=>t+1):a==="decrement"&&x>1&&u(t=>t-1)},f=!s.reviews||s.reviews.length===0?0:s.reviews.reduce((t,h)=>t+h.rating,0)/s.reviews.length,y=Math.floor(f),S=f%1>=.5,I=5-y-(S?1:0),G=()=>{let a=[];for(let t=0;t<y;t++)a.push(e.jsx(b,{className:"text-warning"},`full-${t}`));S&&a.push(e.jsx(se,{className:"text-warning"},"half"));for(let t=0;t<I;t++)a.push(e.jsx(A,{className:"text-warning"},`empty-${t}`));return a},O=()=>{w(!0)},m={facebook:`https://www.facebook.com/sharer/sharer.php?u=${window.location.href}`,twitter:`https://twitter.com/intent/tweet?url=${window.location.href}&text=Check out this product: ${s.name}`,pinterest:`https://pinterest.com/pin/create/button/?url=${window.location.href}&media=${l==null?void 0:l.image_path}&description=${s.name}`,whatsapp:`https://wa.me/?text=Check out this product: ${s.name} ${window.location.href}`,email:`mailto:?subject=${s.name}&body=Check out this product: ${window.location.href}`},E={slidesToShow:5,autoplay:!0,autoplaySpeed:6e3,speed:800};return e.jsxs(ae,{children:[e.jsx(D,{title:s.name.toUpperCase()}),e.jsxs(re,{className:"py-4",children:[e.jsxs(j,{className:"mb-2",children:[e.jsx(j.Item,{linkAs:d,linkProps:{href:"/"},children:"Home"}),s.category&&e.jsx(j.Item,{linkAs:d,linkProps:{href:`/categories/${s.category.slug}`},children:s.category.name}),e.jsx(j.Item,{active:!0,className:"text-capitalize",children:s.name})]}),e.jsxs(B,{children:[e.jsx(o,{md:9,children:e.jsx(n,{className:"border-0 shadow-sm mb-3",children:e.jsx(n.Body,{children:e.jsxs(B,{children:[e.jsxs(o,{md:5,children:[e.jsx("div",{className:"product-main-image mb-2",children:e.jsx(R,{src:`/storage/${l==null?void 0:l.image_path}`||"/images/default-product.png",alt:s.name,fluid:!0,className:"w-100 rounded",style:{maxHeight:"300px",objectFit:"contain"}})}),e.jsx("div",{className:"product-thumbnails d-flex flex-wrap gap-2",children:(k=s.images)==null?void 0:k.map(a=>e.jsx("div",{className:`thumbnail ${(l==null?void 0:l.id)===a.id?"active":""}`,onClick:()=>H(a),style:{cursor:"pointer",width:"80px",height:"80px"},children:e.jsx(R,{src:`/storage/${a.image_path}`,alt:s.name,fluid:!0,className:"h-100 w-100 rounded border",style:{objectFit:"cover"}})},a.id))})]}),e.jsxs(o,{md:7,children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2 border-bottom",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"h3 mb-2 text-capitalize",children:s.name}),s.brand&&e.jsxs("div",{className:"small",children:[e.jsx("span",{className:"text-muted",children:"Brand: "}),e.jsx(d,{href:`/brands/${s.brand.slug}`,children:s.brand.name})," | ",e.jsxs(d,{children:["Similar products from  ",s.brand.name]})]})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx(r,{variant:"outline-danger",size:"sm",onClick:()=>P(!N),title:N?"Remove from wishlist":"Add to wishlist",children:N?e.jsx(K,{}):e.jsx(Y,{})}),e.jsx(r,{variant:"outline-secondary",size:"sm",onClick:O,title:"Share this product",children:e.jsx(q,{})})]})]}),e.jsx("div",{className:"mb-3",children:s.is_on_sale?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"h4 text-danger me-2",children:["$",s.price]}),e.jsxs("span",{className:"text-muted text-decoration-line-through me-2",children:["$",s.compare_price]}),e.jsxs(ne,{bg:"danger",className:"align-middle",children:[s.discount_percentage,"% OFF"]})]}):e.jsxs("span",{className:"h4",children:["$",s.price]})}),e.jsx("div",{className:"mb-2",children:s.quantity>0&&s.low_stock_threshold>0&&e.jsxs("span",{className:"text-muted small",children:["Only ",s.quantity," items left"]})}),s.short_description&&e.jsx("div",{className:"mb-2",children:e.jsx("p",{className:"text-muted",children:s.short_description})}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{className:"me-2",children:G()}),e.jsxs("span",{className:"text-muted small me-2",children:[f," (",((C=s.reviews)==null?void 0:C.length)||0," reviews)"]}),e.jsx(d,{href:"#reviews",className:"small",children:"Write a review"})]}),s.has_variants&&((_=s.variants)==null?void 0:_.length)>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("h6",{className:"mb-2",children:"Options:"}),s.variants.map(a=>e.jsx(r,{variant:"outline-secondary",size:"sm",className:"me-2 mb-2",children:a.name},a.id))]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("h6",{className:"mb-0 me-3",children:"Quantity:"}),e.jsxs(T,{style:{width:"140px"},children:[e.jsx(r,{variant:"outline-secondary",onClick:()=>g("decrement"),disabled:x<=1,children:e.jsx(Q,{})}),e.jsx(i.Control,{type:"number",min:"1",value:x,onChange:a=>u(Math.max(1,parseInt(a.target.value)||1)),className:"text-center"}),e.jsx(r,{variant:"outline-secondary",onClick:()=>g("increment"),children:e.jsx(U,{})})]})]}),e.jsx(te,{product:s,quantity:x})]}),e.jsx("div",{className:"border-top pt-3",children:s.category&&e.jsxs("div",{className:"small",children:[e.jsx("span",{className:"text-muted",children:"category: "}),e.jsx(d,{href:`/categorys/${s.category.slug}`,children:s.category.name})]})})]})]})})})}),e.jsx(o,{md:3,children:e.jsxs(n,{className:"border-0 shadow-sm mb-3",children:[e.jsx(n.Header,{className:"bg-transparent h6 text-uppercase fw-semibold",children:"Delivery & Returns"}),e.jsx(n.Body,{children:e.jsx("h6",{children:"Choose your location"})})]})}),e.jsx(o,{md:12,children:e.jsx(n,{className:"border-0 shadow-sm mb-3",children:e.jsx(n.Body,{className:"p-0",children:e.jsxs(le,{activeKey:L,onSelect:a=>M(a),className:"px-3 pt-3",children:[e.jsx(v,{eventKey:"description",title:"Description",children:e.jsx("div",{className:"p-3",children:s.description?e.jsx("div",{dangerouslySetInnerHTML:{__html:s.description}}):e.jsx("p",{className:"text-muted",children:"No description available."})})}),e.jsx(v,{eventKey:"specifications",title:"Specifications",children:e.jsx("div",{className:"p-3",children:s.specifications?e.jsx(z,{variant:"flush",children:Object.entries(s.specifications).map(([a,t])=>e.jsxs(z.Item,{className:"d-flex border-0 px-0 py-2",children:[e.jsxs("span",{className:"fw-bold me-2",style:{minWidth:"150px"},children:[a,":"]}),e.jsx("span",{children:t})]},a))}):e.jsx("p",{className:"text-muted",children:"No specifications available."})})}),e.jsx(v,{eventKey:"reviews",title:`Reviews (${((F=s.reviews)==null?void 0:F.length)||0})`,children:e.jsxs("div",{className:"p-3",id:"reviews",children:[(($=s.reviews)==null?void 0:$.length)>0?e.jsx(e.Fragment,{children:s.reviews.map(a=>e.jsxs("div",{className:"mb-4 border-bottom pb-3",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("h6",{className:"mb-0",children:a.customer_name}),e.jsx("div",{className:"text-warning",children:[...Array(5)].map((t,h)=>h<a.rating?e.jsx(b,{},h):e.jsx(A,{},h))})]}),e.jsx("p",{className:"text-muted small mb-1",children:new Date(a.created_at).toLocaleDateString()}),e.jsx("p",{className:"mb-1",children:a.comment})]},a.id))}):e.jsx("p",{className:"text-muted",children:"No reviews yet. Be the first to review!"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h5",{children:"Write a Review"}),e.jsxs(i,{children:[e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Rating"}),e.jsx("div",{children:[1,2,3,4,5].map(a=>e.jsx(b,{className:"text-warning me-1",style:{cursor:"pointer"},size:24},a))})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Your Name"}),e.jsx(i.Control,{type:"text",placeholder:"Enter your name"})]}),e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Your Review"}),e.jsx(i.Control,{as:"textarea",rows:3,placeholder:"Write your review here"})]}),e.jsx(r,{variant:"primary",children:"Submit Review"})]})]})]})})]})})})}),s.related_products&&s.related_products.length>0&&e.jsx(o,{md:12,children:e.jsxs(n,{className:"border-0 rounded shadow-sm mb-3",children:[e.jsx(n.Header,{className:"border-0 h6 fw-semibold text-capitalize",children:"Related Products"}),e.jsx(n.Body,{className:"p-2",children:e.jsx(ie,{...E,children:s.related_products.map(a=>e.jsx(ProductCard,{item:a},a.id))})})]})})]})]}),e.jsxs(p,{show:W,onHide:()=>w(!1),centered:!0,children:[e.jsx(p.Header,{closeButton:!0,children:e.jsx(p.Title,{children:"Share this product"})}),e.jsxs(p.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-around mb-4",children:[e.jsxs("a",{href:m.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none",children:[e.jsx(r,{variant:"outline-primary",className:"rounded-circle p-3",children:e.jsx(J,{size:24})}),e.jsx("div",{className:"text-center mt-2 small",children:"Facebook"})]}),e.jsxs("a",{href:m.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none",children:[e.jsx(r,{variant:"outline-info",className:"rounded-circle p-3",children:e.jsx(V,{size:24})}),e.jsx("div",{className:"text-center mt-2 small",children:"Twitter"})]}),e.jsxs("a",{href:m.pinterest,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none",children:[e.jsx(r,{variant:"outline-danger",className:"rounded-circle p-3",children:e.jsx(X,{size:24})}),e.jsx("div",{className:"text-center mt-2 small",children:"Pinterest"})]}),e.jsxs("a",{href:m.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none",children:[e.jsx(r,{variant:"outline-success",className:"rounded-circle p-3",children:e.jsx(Z,{size:24})}),e.jsx("div",{className:"text-center mt-2 small",children:"WhatsApp"})]}),e.jsxs("a",{href:m.email,className:"text-decoration-none",children:[e.jsx(r,{variant:"outline-secondary",className:"rounded-circle p-3",children:e.jsx(ee,{size:24})}),e.jsx("div",{className:"text-center mt-2 small",children:"Email"})]})]}),e.jsxs(i.Group,{children:[e.jsx(i.Label,{children:"Or copy link"}),e.jsxs(T,{children:[e.jsx(i.Control,{type:"text",value:window.location.href,readOnly:!0}),e.jsx(r,{variant:"outline-secondary",onClick:()=>{navigator.clipboard.writeText(window.location.href)},children:"Copy"})]})]})]})]})]})}export{Fe as default};
