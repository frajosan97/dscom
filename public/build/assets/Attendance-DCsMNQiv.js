import{j as e,r as d,$ as Ce}from"./app-V9r-X-AE.js";import{e as we,f as E,g as Te,h as Ae,i as M,j as Se,k as D,l as P,m as Fe,n as Re,o as Be,F as Le,a as $e,b as Ee,p as Me,q as Ie,r as _e}from"./index-B3mf7D57.js";import{z as J,n as De,d as Pe,e as ze}from"./index-BwZ8nvxZ.js";import{R,y as c,I as L,D as S}from"./Footer-DzCvt54Q.js";import{S as F}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{E as Ge}from"./ErpLayout-nhBgb16w.js";import{x as y}from"./axios-ieEUQTu7.js";import{u as He}from"./useData-ByTVg8J8.js";import{C as w}from"./Card-DEhYGpAN.js";import{u as Qe}from"./useErrorToast-BDwh9umO.js";import{f as ee}from"./helpers-3eqO9XlR.js";import{M as o}from"./Modal-qrCrV0uy.js";import{T as Ye}from"./Tabs-DyUmX2jV.js";import{T as X}from"./Tab-DoO3NYS5.js";import{F as i,C as j}from"./Form-BBQmeiIu.js";import{B as u,C as Oe}from"./Image-Dv6K2MWK.js";import{A as se}from"./Alert-z_uRmixb.js";import{L as C}from"./ListGroup-CJGgD2bY.js";import{B as T}from"./Badge-B_1fX0CU.js";import{B as Z}from"./ButtonGroup-DhA5YJ4Y.js";import{T as Ue}from"./Table-DzA7Bq8n.js";import"./iconBase-DG-LLbDw.js";import"./CloseButton-CxHVE5YY.js";/* empty css                      */const qe=({title:g,value:m,subtitle:a,icon:A,color:n})=>e.jsx(w,{className:`border-0 shadow-sm hover-lift bg-${n} bg-opacity-10`,children:e.jsx(w.Body,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"text-muted mb-2",children:g}),e.jsx("h3",{className:"mb-0",children:m}),e.jsx("small",{className:`text-${n}`,children:a})]}),e.jsx("div",{className:`avatar-sm p-1 bg-${n} bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center`,children:e.jsx(A,{className:`text-${n}`,size:24})})]})})}),We=({show:g,onHide:m,settings:a,onSave:A})=>{const[n,N]=d.useState(a),b=()=>{A(n),m()};return e.jsxs(o,{show:g,onHide:m,size:"lg",children:[e.jsx(o.Header,{closeButton:!0,children:e.jsx(o.Title,{children:"Attendance Settings"})}),e.jsx(o.Body,{children:e.jsxs(Ye,{defaultActiveKey:"general",className:"mb-3",children:[e.jsx(X,{eventKey:"general",title:"General",children:e.jsx(i,{children:e.jsxs(R,{className:"g-3",children:[e.jsx(j,{md:6,children:e.jsxs(i.Group,{children:[e.jsx(i.Label,{children:"Work Start Time"}),e.jsx(i.Control,{type:"time",value:n.workStartTime,onChange:h=>N({...n,workStartTime:h.target.value})})]})}),e.jsx(j,{md:6,children:e.jsxs(i.Group,{children:[e.jsx(i.Label,{children:"Work End Time"}),e.jsx(i.Control,{type:"time",value:n.workEndTime,onChange:h=>N({...n,workEndTime:h.target.value})})]})}),e.jsx(j,{md:6,children:e.jsxs(i.Group,{children:[e.jsx(i.Label,{children:"Late Threshold (minutes)"}),e.jsx(i.Control,{type:"number",value:n.lateThreshold,onChange:h=>N({...n,lateThreshold:parseInt(h.target.value)})})]})}),e.jsx(j,{md:6,children:e.jsxs(i.Group,{children:[e.jsx(i.Label,{children:"Early Leave Threshold (minutes)"}),e.jsx(i.Control,{type:"number",value:n.earlyLeaveThreshold,onChange:h=>N({...n,earlyLeaveThreshold:parseInt(h.target.value)})})]})})]})})}),e.jsx(X,{eventKey:"advanced",title:"Advanced",children:e.jsxs(i,{children:[e.jsx(i.Check,{type:"switch",id:"enable-geo",label:"Enable Geolocation Tracking",checked:n.enableGeoLocation,onChange:h=>N({...n,enableGeoLocation:h.target.checked}),className:"mb-3"}),e.jsx(i.Check,{type:"switch",id:"require-reason",label:"Require Reason for Absence",checked:n.requireReasonForAbsence,onChange:h=>N({...n,requireReasonForAbsence:h.target.checked}),className:"mb-3"}),e.jsx(i.Check,{type:"switch",id:"auto-calculate",label:"Auto-calculate Work Hours",checked:n.autoCalculateHours,onChange:h=>N({...n,autoCalculateHours:h.target.checked}),className:"mb-3"})]})})]})}),e.jsxs(o.Footer,{children:[e.jsx(u,{variant:"secondary",onClick:m,children:"Cancel"}),e.jsx(u,{variant:"primary",onClick:b,children:"Save Changes"})]})]})},Ve=({show:g,onHide:m,date:a})=>e.jsxs(o,{show:g,onHide:m,centered:!0,children:[e.jsx(o.Header,{closeButton:!0,children:e.jsx(o.Title,{children:"Attendance QR Code"})}),e.jsxs(o.Body,{className:"text-center",children:[e.jsx("div",{className:"bg-light p-4 rounded mb-3",children:e.jsx("div",{className:"qr-placeholder bg-white p-4 d-inline-block",children:e.jsx("div",{style:{width:"200px",height:"200px",background:"linear-gradient(45deg, #f3f3f3 25%, transparent 25%, transparent 75%, #f3f3f3 75%, #f3f3f3), linear-gradient(45deg, #f3f3f3 25%, transparent 25%, transparent 75%, #f3f3f3 75%, #f3f3f3)",backgroundSize:"40px 40px",backgroundPosition:"0 0, 20px 20px"}})})}),e.jsx("p",{className:"text-muted mb-2",children:"Scan this QR code to check-in"}),e.jsxs("small",{className:"text-muted d-block mb-2",children:["Valid for: ",ee(a,"DD MMM, YYYY")]}),e.jsx("small",{className:"text-muted",children:"Expires in: 1 hour"})]}),e.jsxs(o.Footer,{className:"justify-content-center",children:[e.jsxs(u,{variant:"primary",onClick:()=>toast.info("QR code downloaded"),children:[e.jsx(we,{className:"me-2"})," Download QR"]}),e.jsx(u,{variant:"outline-primary",onClick:()=>toast.info("QR code shared"),children:"Share"})]})]}),Ke=({show:g,onHide:m})=>e.jsxs(o,{show:g,onHide:m,children:[e.jsx(o.Header,{closeButton:!0,children:e.jsx(o.Title,{children:"Location-Based Attendance"})}),e.jsxs(o.Body,{children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx(E,{size:48,className:"text-primary mb-3"}),e.jsx("h5",{children:"Enable Location Services"}),e.jsx("p",{className:"text-muted",children:"Allow location access for accurate attendance tracking. Employees must be within company premises to check-in."})]}),e.jsxs(se,{variant:"info",children:[e.jsx(E,{className:"me-2"}),e.jsx("strong",{children:"Current Location:"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("small",{children:"Latitude: 40.7128° N"}),e.jsx("br",{}),e.jsx("small",{children:"Longitude: 74.0060° W"}),e.jsx("br",{}),e.jsx("small",{children:"Accuracy: ±10 meters"})]})]}),e.jsxs(i,{children:[e.jsxs(i.Group,{className:"mb-3",children:[e.jsx(i.Label,{children:"Allowed Radius (meters)"}),e.jsx(i.Range,{min:"10",max:"500",defaultValue:"100"}),e.jsx("small",{className:"text-muted",children:"100m radius from office center"})]}),e.jsx(i.Check,{type:"switch",id:"enable-wifi",label:"Require Company WiFi",className:"mb-3"})]})]}),e.jsxs(o.Footer,{children:[e.jsx(u,{variant:"secondary",onClick:m,children:"Cancel"}),e.jsx(u,{variant:"primary",onClick:()=>{c.success("Location settings updated!"),m()},children:"Save Settings"})]})]}),Je=({show:g,onHide:m,attendanceData:a})=>{if(!a)return e.jsxs(o,{show:g,onHide:m,size:"lg",children:[e.jsx(o.Header,{closeButton:!0,children:e.jsx(o.Title,{children:"Attendance Details"})}),e.jsx(o.Body,{className:"text-center py-5",children:e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})})]});const A=n=>{const b={present:{color:"success",label:"Present"},absent:{color:"danger",label:"Absent"},late:{color:"warning",label:"Late"},on_leave:{color:"info",label:"On Leave"},half_day:{color:"secondary",label:"Half Day"}}[n]||{color:"secondary",label:"Unknown"};return e.jsx(T,{bg:b.color,children:b.label})};return e.jsxs(o,{show:g,onHide:m,size:"lg",children:[e.jsx(o.Header,{closeButton:!0,children:e.jsx(o.Title,{children:"Attendance Details"})}),e.jsxs(o.Body,{children:[e.jsxs(R,{className:"mb-4",children:[e.jsx(j,{md:8,children:e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:"avatar-lg me-3",children:e.jsx("div",{className:"avatar-title bg-primary bg-opacity-10 rounded-circle",children:e.jsx(Te,{className:"fs-3 text-primary"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-1",children:a.employee_name}),e.jsx("p",{className:"text-muted mb-0",children:a.employee_code}),e.jsx("p",{className:"text-muted mb-0",children:a.department})]})]})}),e.jsxs(j,{md:4,className:"text-end",children:[e.jsx("div",{className:"mb-2",children:A(a.status)}),e.jsxs("p",{className:"text-muted mb-0",children:[e.jsx(Ae,{className:"me-2"}),a.date]})]})]}),e.jsxs(R,{children:[e.jsxs(j,{md:6,children:[e.jsx("h6",{className:"mb-3",children:"Time Details"}),e.jsxs(C,{variant:"flush",children:[e.jsxs(C.Item,{className:"d-flex justify-content-between align-items-center px-0 py-2",children:[e.jsxs("span",{className:"text-muted",children:[e.jsx(M,{className:"me-2"})," Clock In"]}),e.jsx(T,{bg:"success",children:a.clock_in||"Not Recorded"})]}),e.jsxs(C.Item,{className:"d-flex justify-content-between align-items-center px-0 py-2",children:[e.jsxs("span",{className:"text-muted",children:[e.jsx(M,{className:"me-2"})," Clock Out"]}),e.jsx(T,{bg:"danger",children:a.clock_out||"Not Recorded"})]}),e.jsxs(C.Item,{className:"d-flex justify-content-between align-items-center px-0 py-2",children:[e.jsx("span",{className:"text-muted",children:"Hours Worked"}),e.jsxs(T,{bg:"info",children:[a.hours_worked||"0","h"]})]}),e.jsxs(C.Item,{className:"d-flex justify-content-between align-items-center px-0 py-2",children:[e.jsx("span",{className:"text-muted",children:"Overtime"}),e.jsxs(T,{bg:"warning",children:[a.overtime_hours||"0","h"]})]})]})]}),e.jsxs(j,{md:6,children:[e.jsx("h6",{className:"mb-3",children:"Additional Information"}),e.jsxs(C,{variant:"flush",children:[e.jsxs(C.Item,{className:"d-flex justify-content-between align-items-center px-0 py-2",children:[e.jsx("span",{className:"text-muted",children:"Late Arrival"}),e.jsx(T,{bg:a.is_late?"danger":"success",children:a.is_late?"Yes":"No"})]}),a.location&&e.jsxs(C.Item,{className:"d-flex align-items-center px-0 py-2",children:[e.jsx(E,{className:"me-2 text-muted"}),e.jsx("small",{className:"text-muted",children:a.location})]}),a.device&&e.jsx(C.Item,{className:"px-0 py-2",children:e.jsxs("small",{className:"text-muted",children:["Device: ",a.device]})}),a.notes&&e.jsxs(C.Item,{className:"px-0 py-2",children:[e.jsx("h6",{className:"mb-2",children:"Notes"}),e.jsx("p",{className:"text-muted mb-0",children:a.notes})]})]})]})]})]}),e.jsxs(o.Footer,{children:[e.jsx(u,{variant:"secondary",onClick:m,children:"Close"}),e.jsx(u,{variant:"primary",onClick:()=>toast.info("Printing attendance details..."),children:"Print Details"})]})]})},Xe={totalEmployees:0,presentCount:0,absentCount:0,lateCount:0,onLeaveCount:0,attendanceRate:0};function Cs(){const{showErrorToast:g}=Qe(),{departments:m}=He(),[a,A]=d.useState(""),[n,N]=d.useState("all"),[b,h]=d.useState("all"),[p,te]=d.useState(new Date().toISOString().split("T")[0]),[ae,z]=d.useState(!1),[ne,G]=d.useState(!1),[re,H]=d.useState(!1),[le,Q]=d.useState(!1),[ce,ie]=d.useState(null),[f,oe]=d.useState(Xe),[Ze,de]=d.useState([]),[v,I]=d.useState([]),[me,ue]=d.useState({workStartTime:"09:00",workEndTime:"17:00",lateThreshold:15,earlyLeaveThreshold:30,enableGeoLocation:!0,requireReasonForAbsence:!0,autoCalculateHours:!0}),B=d.useRef(!1),x=d.useRef(null),Y=d.useCallback(()=>({processing:!0,serverSide:!0,ajax:{url:route("attendance.index"),type:"GET",data:function(s){s.search=a,s.status=n!=="all"?n:"",s.department=b!=="all"?b:"",s.date=p}},columns:[{data:"employee",title:"Employee",className:"text-start"},{data:"department",title:"Department",className:"text-start"},{data:"clock_in",title:"Clock In",className:"text-center"},{data:"clock_out",title:"Clock Out",className:"text-center"},{data:"hours_worked",title:"Hours Worked",className:"text-center"},{data:"status",title:"Status",className:"text-center",width:"10%"},{data:"action",title:"Actions",className:"text-center",width:"15%",orderable:!1,searchable:!1}],drawCallback:function(){xe(),U()},initComplete:function(){B.current=!0,U(),_()},createdRow:function(s,t,r){t.is_late&&$(s).addClass("table-warning"),t.status==="absent"&&$(s).addClass("table-danger")},language:{emptyTable:'<div class="text-center py-5"><i class="bi bi-inbox display-4 text-muted"></i><p class="mt-2">No attendance records found</p></div>',zeroRecords:'<div class="text-center py-5"><i class="bi bi-search display-4 text-muted"></i><p class="mt-2">No matching records found</p></div>'},responsive:!0,order:[[0,"desc"]]}),[a,n,b,p]),xe=()=>{$(".view-btn").off("click").on("click",s=>{const t=$(s.currentTarget).data("id");je(t)}),$(".edit-btn").off("click").on("click",s=>{const t=$(s.currentTarget).data("id");fe(t)}),$(".delete-btn").off("click").on("click",s=>{const t=$(s.currentTarget).data("id");ge(t)}),$(".clock-in-btn").off("click").on("click",s=>{const t=$(s.currentTarget).data("id"),r=$(s.currentTarget).data("name");he(t,r)}),$(".clock-out-btn").off("click").on("click",s=>{const t=$(s.currentTarget).data("id"),r=$(s.currentTarget).data("name");pe(t,r)}),$(".reset-btn").off("click").on("click",s=>{const t=$(s.currentTarget).data("id"),r=$(s.currentTarget).data("name");be(t,r)})},O=d.useCallback(()=>{if(B.current)return;$.fn.DataTable.isDataTable("#attendanceTable")&&$("#attendanceTable").DataTable().destroy();const s=$("#attendanceTable").DataTable(Y());return x.current=s,s},[Y]),U=async()=>{try{const s=await y.get(route("attendance.statistics"),{params:{date:p}});s.data.success&&oe(s.data.data)}catch(s){console.error("Failed to fetch statistics:",s)}},_=async()=>{try{const s=await y.get(route("attendance.activities"));s.data.success&&de(s.data.data)}catch(s){console.error("Failed to fetch activities:",s)}};d.useEffect(()=>{B.current&&x.current&&x.current.ajax.reload()},[a,n,b,p]),d.useEffect(()=>(O(),()=>{$.fn.DataTable.isDataTable("#attendanceTable")&&($("#attendanceTable").DataTable().destroy(),B.current=!1)}),[O]);const he=async(s,t)=>{F.fire({title:`Clock In ${t}?`,text:"Add remarks (optional):",input:"textarea",inputPlaceholder:"Enter remarks...",showCancelButton:!0,confirmButtonText:"Clock In",cancelButtonText:"Cancel",confirmButtonColor:"#3085d6"}).then(async r=>{if(r.isConfirmed)try{(await y.post(route("attendance.clock-in",s),{remarks:r.value,date:p})).data.success&&(c.success(`${t} clocked in successfully`),x.current&&x.current.ajax.reload(),_())}catch(l){g(l)}})},pe=async(s,t)=>{var r,l;try{(await y.post(route("attendance.clock-out",s),{date:p})).data.success&&(c.success(`${t} clocked out successfully`),x.current&&x.current.ajax.reload(),_())}catch(k){c.error(((l=(r=k.response)==null?void 0:r.data)==null?void 0:l.message)||"Failed to clock out")}},je=async s=>{try{const t=await y.get(route("attendance.show",s));ie(t.data.data),Q(!0)}catch{c.error("Failed to load attendance details")}},fe=async s=>{try{const r=(await y.get(route("attendance.show",s))).data.data;c.info(`Editing attendance record for ${r.employee_name}`)}catch{c.error("Failed to load attendance details")}},ge=s=>{F.fire({title:"Delete Attendance Record?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel",confirmButtonColor:"#dc3545"}).then(async t=>{var r,l;if(t.isConfirmed)try{const k=await y.delete(route("attendance.destroy",s));k.data.success&&(c.success(k.data.message),x.current&&x.current.ajax.reload())}catch(k){c.error(((l=(r=k.response)==null?void 0:r.data)==null?void 0:l.message)||"Failed to delete attendance record")}})},be=async(s,t)=>{var l,k;const{value:r}=await F.fire({title:`Reset ${t}'s Attendance?`,input:"textarea",inputLabel:"Reason for reset",inputPlaceholder:"Enter reason...",showCancelButton:!0,confirmButtonText:"Yes, reset it",cancelButtonText:"Cancel",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"});if(r)try{(await y.post(route("attendance.reset",s),{reason:r})).data.success&&(c.success("Attendance record reset successfully"),x.current&&x.current.ajax.reload())}catch(K){c.error(((k=(l=K.response)==null?void 0:l.data)==null?void 0:k.message)||"Failed to reset attendance")}},q=()=>{if(v.length===0){c.warning("Please select employees first");return}F.fire({title:"Mark Selected as Present?",text:`This will mark ${v.length} employees as present`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes, mark as present",cancelButtonText:"Cancel"}).then(async s=>{var t,r;if(s.isConfirmed)try{const l=await y.post(route("attendance.bulk-present"),{employee_ids:v,date:p});l.data.success&&(c.success(l.data.message),I([]),x.current&&x.current.ajax.reload())}catch(l){c.error(((r=(t=l.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to mark as present")}})},W=()=>{if(v.length===0){c.warning("Please select employees first");return}F.fire({title:"Mark Selected as Absent?",text:`This will mark ${v.length} employees as absent`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, mark as absent",cancelButtonText:"Cancel"}).then(async s=>{var t,r;if(s.isConfirmed)try{const l=await y.post(route("attendance.bulk-absent"),{employee_ids:v,date:p});l.data.success&&(c.success(l.data.message),I([]),x.current&&x.current.ajax.reload())}catch(l){c.error(((r=(t=l.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to mark as absent")}})},ye=async()=>{try{(await y.post(route("attendance.generate-qr"),{date:p,expires_in:3600})).data.success&&(G(!0),c.success("QR Code generated successfully!"))}catch{c.error("Failed to generate QR code")}},V=async s=>{try{const t=await y.get(route("attendance.export"),{params:{date:p,format:s,search:a,status:n!=="all"?n:"",department:b!=="all"?b:""},responseType:"blob"}),r=window.URL.createObjectURL(new Blob([t.data])),l=document.createElement("a");l.href=r,l.setAttribute("download",`attendance-${p}-${s}.${s==="pdf"?"pdf":"xlsx"}`),document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(r),c.success(`Attendance exported as ${s.toUpperCase()} successfully!`)}catch{c.error(`Failed to export as ${s.toUpperCase()}`)}},Ne=()=>{x.current&&(x.current.ajax.reload(),c.success("Attendance list refreshed!"))},ve=()=>{c.info("Print feature coming soon!")},ke=[{title:"Total Employees",value:f.totalEmployees,subtitle:"Expected today",icon:Se,color:"primary"},{title:"Present",value:f.presentCount,subtitle:`${f.totalEmployees>0?(f.presentCount/f.totalEmployees*100).toFixed(1):0}%`,icon:D,color:"success"},{title:"Absent",value:f.absentCount,subtitle:`${f.totalEmployees>0?(f.absentCount/f.totalEmployees*100).toFixed(1):0}%`,icon:P,color:"danger"},{title:"Late Arrivals",value:f.lateCount,subtitle:"Today",icon:M,color:"warning"},{title:"On Leave",value:f.onLeaveCount,subtitle:"Approved",icon:J,color:"info"},{title:"Rate",value:`${f.attendanceRate.toFixed(1)}%`,subtitle:"Overall",icon:Fe,color:"purple",progress:f.attendanceRate}];return e.jsxs(Ge,{children:[e.jsx(Ce,{title:"Attendance Management"}),e.jsxs(Oe,{fluid:!0,className:"py-3",children:[e.jsx("div",{className:"page-header mb-4",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"h2 fw-bold text-primary mb-1",children:[e.jsx(M,{className:"me-2"}),"Attendance Management"]}),e.jsx("p",{className:"text-muted mb-0",children:"Track and manage employee attendance in real-time"})]}),e.jsxs(Z,{children:[e.jsxs(u,{variant:"outline-primary",onClick:()=>z(!0),className:"d-flex align-items-center",children:[e.jsx(Re,{className:"me-1"}),"Settings"]}),e.jsxs(u,{variant:"primary",onClick:()=>c.info("Adding new attendance rule"),className:"d-flex align-items-center",children:[e.jsx(De,{className:"me-1"}),"Add Rule"]})]})]})}),e.jsx(R,{className:"mb-4",children:ke.map((s,t)=>e.jsx(j,{xl:2,lg:4,md:4,sm:6,xs:6,className:"mb-3",children:e.jsx(qe,{...s})},t))}),e.jsxs(w,{className:"border-0 shadow-sm",children:[e.jsx(w.Header,{className:"bg-light py-3",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"Daily Attendance Register"}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx(T,{bg:"light",text:"dark",className:"border",children:ee(p,"DD MMM, YYYY")}),v.length>0&&e.jsxs(T,{bg:"primary",pill:!0,children:[v.length," selected"]})]})]})}),e.jsx(w.Header,{children:e.jsxs(R,{className:"g-3 align-items-end",children:[e.jsx(j,{lg:3,md:6,children:e.jsxs(L,{children:[e.jsx(L.Text,{className:"bg-light",children:e.jsx(Be,{})}),e.jsx(i.Control,{type:"text",placeholder:"Search employee...",value:a,onChange:s=>A(s.target.value),className:"border-start-0"})]})}),e.jsx(j,{lg:2,md:4,children:e.jsxs(i.Select,{value:n,onChange:s=>N(s.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"present",children:"Present"}),e.jsx("option",{value:"absent",children:"Absent"}),e.jsx("option",{value:"late",children:"Late"}),e.jsx("option",{value:"on_leave",children:"On Leave"}),e.jsx("option",{value:"half_day",children:"Half Day"})]})}),e.jsx(j,{lg:2,md:4,children:e.jsxs(i.Select,{value:b,onChange:s=>h(s.target.value),children:[e.jsx("option",{value:"all",children:"All Departments"}),m==null?void 0:m.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})}),e.jsx(j,{lg:2,md:4,children:e.jsxs(L,{children:[e.jsx(L.Text,{children:e.jsx(J,{})}),e.jsx(i.Control,{type:"date",value:p,onChange:s=>te(s.target.value)})]})}),e.jsx(j,{lg:3,md:6,children:e.jsxs(Z,{className:"d-flex gap-2",children:[e.jsxs(u,{variant:"outline-info",onClick:Ne,className:"d-flex align-items-center rounded",children:[e.jsx(Pe,{className:"me-1"}),"Refresh"]}),e.jsxs(S,{children:[e.jsxs(S.Toggle,{variant:"outline-secondary",className:"d-flex align-items-center",children:[e.jsx(ze,{className:"me-1"}),"Export"]}),e.jsxs(S.Menu,{children:[e.jsxs(S.Item,{onClick:()=>V("excel"),children:[e.jsx(Le,{className:"me-2 text-success"})," ","Excel"]}),e.jsxs(S.Item,{onClick:()=>V("pdf"),children:[e.jsx($e,{className:"me-2 text-danger"})," ","PDF"]}),e.jsxs(S.Item,{onClick:ve,children:[e.jsx(Ee,{className:"me-2 text-secondary"})," ","Print"]})]})]})]})})]})}),v.length>0&&e.jsx(w.Header,{className:"border-top",children:e.jsx(se,{variant:"info",className:"m-0 py-2",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{children:[e.jsx("strong",{children:v.length})," ","employees selected"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(u,{variant:"success",size:"sm",onClick:q,children:[e.jsx(D,{className:"me-1"})," ","Mark Present"]}),e.jsxs(u,{variant:"danger",size:"sm",onClick:W,children:[e.jsx(P,{className:"me-1"})," ","Mark Absent"]}),e.jsxs(u,{variant:"outline-secondary",size:"sm",onClick:()=>I([]),children:[e.jsx(Me,{className:"me-1"})," Clear"]})]})]})})}),e.jsx(w.Header,{className:"border-top",children:e.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[e.jsxs(u,{variant:"success",size:"sm",className:"d-flex align-items-center",onClick:q,children:[e.jsx(D,{className:"me-1"})," Mark All Present"]}),e.jsxs(u,{variant:"danger",size:"sm",className:"d-flex align-items-center",onClick:W,children:[e.jsx(P,{className:"me-1"})," Mark All Absent"]}),e.jsxs(u,{variant:"info",size:"sm",className:"d-flex align-items-center",onClick:ye,children:[e.jsx(Ie,{className:"me-1"})," Generate QR"]}),e.jsxs(u,{variant:"warning",size:"sm",className:"d-flex align-items-center",onClick:()=>H(!0),children:[e.jsx(E,{className:"me-1"})," Location Check"]}),e.jsxs(u,{variant:"primary",size:"sm",className:"d-flex align-items-center",onClick:()=>c.info("Reminder sent to absent employees"),children:[e.jsx(_e,{className:"me-1"})," Send Reminder"]})]})}),e.jsx(w.Body,{className:"p-0",children:e.jsx("div",{className:"table-responsive",children:e.jsx(Ue,{hover:!0,className:"align-middle mb-0",id:"attendanceTable"})})})]})]}),e.jsx(We,{show:ae,onHide:()=>z(!1),settings:me,onSave:s=>{ue(s),c.success("Attendance settings updated!")}}),e.jsx(Ve,{show:ne,onHide:()=>G(!1),date:p}),e.jsx(Ke,{show:re,onHide:()=>H(!1)}),e.jsx(Je,{show:le,onHide:()=>Q(!1),attendanceData:ce})]})}export{Cs as default};
