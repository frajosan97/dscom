import{r as v,R as j,j as e}from"./app-BiuRToP-.js";import{F as n,C as x}from"./Form-BA0l1WBA.js";import{P as o,I as W,R as f,B as re,y as T}from"./Footer-BFQJwEZ5.js";import{C as m}from"./Card-CQupX1hM.js";import{f as _,c as P}from"./helpers-CcF49fcK.js";import{T as ae}from"./Table-BQgD3-2Y.js";import{B as b}from"./Image---NnaHc0.js";import{T as le}from"./trash-AL2goIw4.js";import{S as w,a as ne}from"./react-select.esm-COl-_cWg.js";import{P as ie}from"./plus-circle-DYSVDrDz.js";import{T as te}from"./truck-Dn3zvkAM.js";import{u as ce,c as oe,d as z}from"./index.esm-C-wRHYDi.js";import{x as me}from"./axios-MrMjc1qv.js";import{M as O}from"./Modal-D2A1iNes.js";var de=["color","size","title","className"];function G(){return G=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},G.apply(null,arguments)}function ue(s,l){if(s==null)return{};var a,r,t=he(s,l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(r=0;r<c.length;r++)a=c[r],l.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(t[a]=s[a])}return t}function he(s,l){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(l.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var M=v.forwardRef(function(s,l){var a=s.color,r=a===void 0?"currentColor":a,t=s.size,c=t===void 0?"1em":t,d=s.title,u=d===void 0?null:d,h=s.className,p=h===void 0?"":h,g=ue(s,de);return j.createElement("svg",G({ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-calendar",p].filter(Boolean).join(" ")},g),u?j.createElement("title",null,u):null,j.createElement("path",{d:"M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5M1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4z"}))});M.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string,className:o.string};var xe=["color","size","title","className"];function k(){return k=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},k.apply(null,arguments)}function pe(s,l){if(s==null)return{};var a,r,t=je(s,l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(r=0;r<c.length;r++)a=c[r],l.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(t[a]=s[a])}return t}function je(s,l){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(l.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var q=v.forwardRef(function(s,l){var a=s.color,r=a===void 0?"currentColor":a,t=s.size,c=t===void 0?"1em":t,d=s.title,u=d===void 0?null:d,h=s.className,p=h===void 0?"":h,g=pe(s,xe);return j.createElement("svg",k({ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-credit-card",p].filter(Boolean).join(" ")},g),u?j.createElement("title",null,u):null,j.createElement("path",{d:"M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v1h14V4a1 1 0 0 0-1-1zm13 4H1v5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1z"}),j.createElement("path",{d:"M2 10a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"}))});q.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string,className:o.string};var ge=["color","size","title","className"];function I(){return I=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},I.apply(null,arguments)}function fe(s,l){if(s==null)return{};var a,r,t=be(s,l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(r=0;r<c.length;r++)a=c[r],l.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(t[a]=s[a])}return t}function be(s,l){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(l.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var U=v.forwardRef(function(s,l){var a=s.color,r=a===void 0?"currentColor":a,t=s.size,c=t===void 0?"1em":t,d=s.title,u=d===void 0?null:d,h=s.className,p=h===void 0?"":h,g=fe(s,ge);return j.createElement("svg",I({ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-geo-alt",p].filter(Boolean).join(" ")},g),u?j.createElement("title",null,u):null,j.createElement("path",{d:"M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"}),j.createElement("path",{d:"M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"}))});U.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string,className:o.string};var ve=["color","size","title","className"];function F(){return F=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},F.apply(null,arguments)}function Ne(s,l){if(s==null)return{};var a,r,t=ye(s,l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(r=0;r<c.length;r++)a=c[r],l.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(t[a]=s[a])}return t}function ye(s,l){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(l.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var Q=v.forwardRef(function(s,l){var a=s.color,r=a===void 0?"currentColor":a,t=s.size,c=t===void 0?"1em":t,d=s.title,u=d===void 0?null:d,h=s.className,p=h===void 0?"":h,g=Ne(s,ve);return j.createElement("svg",F({ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-person",p].filter(Boolean).join(" ")},g),u?j.createElement("title",null,u):null,j.createElement("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"}))});Q.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string,className:o.string};var we=["color","size","title","className"];function A(){return A=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},A.apply(null,arguments)}function _e(s,l){if(s==null)return{};var a,r,t=Ce(s,l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(r=0;r<c.length;r++)a=c[r],l.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(t[a]=s[a])}return t}function Ce(s,l){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(l.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var J=v.forwardRef(function(s,l){var a=s.color,r=a===void 0?"currentColor":a,t=s.size,c=t===void 0?"1em":t,d=s.title,u=d===void 0?null:d,h=s.className,p=h===void 0?"":h,g=_e(s,we);return j.createElement("svg",A({ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-printer",p].filter(Boolean).join(" ")},g),u?j.createElement("title",null,u):null,j.createElement("path",{d:"M2.5 8a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1"}),j.createElement("path",{d:"M5 1a2 2 0 0 0-2 2v2H2a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h1v1a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-1h1a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-1V3a2 2 0 0 0-2-2zM4 3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v2H4zm1 5a2 2 0 0 0-2 2v1H2a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v-1a2 2 0 0 0-2-2zm7 2v3a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1"}))});J.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string,className:o.string};var Pe=["color","size","title","className"];function H(){return H=Object.assign?Object.assign.bind():function(s){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},H.apply(null,arguments)}function ze(s,l){if(s==null)return{};var a,r,t=Oe(s,l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(r=0;r<c.length;r++)a=c[r],l.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(t[a]=s[a])}return t}function Oe(s,l){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(l.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var K=v.forwardRef(function(s,l){var a=s.color,r=a===void 0?"currentColor":a,t=s.size,c=t===void 0?"1em":t,d=s.title,u=d===void 0?null:d,h=s.className,p=h===void 0?"":h,g=ze(s,Pe);return j.createElement("svg",H({ref:l,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-search",p].filter(Boolean).join(" ")},g),u?j.createElement("title",null,u):null,j.createElement("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"}))});K.propTypes={color:o.string,size:o.oneOfType([o.string,o.number]),title:o.string,className:o.string};function qe({products:s,searchTerm:l,setSearchTerm:a,addProduct:r}){return e.jsxs(e.Fragment,{children:[e.jsx(n.Group,{controlId:"productSearch",className:"mb-4",children:e.jsxs(W,{children:[e.jsx(W.Text,{children:e.jsx(K,{})}),e.jsx(n.Control,{type:"search",placeholder:"Search products by name or code...",value:l,onChange:t=>a(t.target.value),className:"py-2"})]})}),e.jsx(f,{className:"products-grid",children:s.slice(0,4).map(t=>{var c;return e.jsx(x,{xs:6,md:4,lg:3,children:e.jsxs(m,{className:"product-card",style:{cursor:"pointer"},onClick:()=>r(t),children:[e.jsx(m.Img,{variant:"top",src:`/storage/${(c=t.default_image)==null?void 0:c.image_path}`}),e.jsxs(m.Body,{children:[e.jsx(m.Title,{className:"text-truncate",children:t.name}),e.jsxs(m.Text,{children:["$",t.price]}),e.jsx(re,{bg:"secondary",children:t.code})]})]})},t.id)})})]})}function Ue({selectedProducts:s,removeProduct:l,updateProductQuantity:a,updateProductPrice:r}){return e.jsxs(ae,{striped:!0,hover:!0,className:"mb-0",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{width:"5%",children:"#"}),e.jsx("th",{width:"35%",children:"Product"}),e.jsx("th",{width:"15%",children:"Price"}),e.jsx("th",{width:"15%",children:"Quantity"}),e.jsx("th",{width:"15%",children:"Total"}),e.jsx("th",{width:"15%",children:"Action"})]})}),e.jsx("tbody",{children:s.length>0?s.map((t,c)=>e.jsxs("tr",{children:[e.jsx("td",{children:c+1}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[t.image&&e.jsx("img",{src:`/storage/${t.image}`,alt:t.product_name,width:"40",className:"me-2"}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-0",children:t.product_name}),e.jsx("small",{className:"text-muted",children:t.code})]})]})}),e.jsx("td",{children:e.jsx(n.Control,{type:"number",min:"0.01",step:"0.01",value:t.price,onChange:d=>r(t.product_id,d.target.value)})}),e.jsx("td",{children:e.jsx(n.Control,{type:"number",min:"1",value:t.quantity,onChange:d=>a(t.product_id,d.target.value)})}),e.jsx("td",{children:_(t.price*t.quantity)}),e.jsx("td",{children:e.jsx(b,{variant:"outline-danger",size:"sm",onClick:()=>l(t.product_id),children:e.jsx(le,{size:14})})})]},t.product_id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center py-4 text-muted",children:"No products added yet"})})})]})}function Qe({data:s,setData:l,errors:a,processing:r,customers:t,warehouses:c,paymentMethods:d,shippingMethods:u,statusOptions:h,paymentStatusOptions:p,fulfillmentStatusOptions:g,discountType:N,setDiscountType:$,paymentDate:X,setPaymentDate:Y,handleSubmit:Z,setShowCustomerModal:D,isEdit:V,order:Se}){console.log(s);const S=v.useMemo(()=>t==null?void 0:t.map(i=>({value:i.id,label:`${P(i.first_name)} ${P(i.last_name)}`})),[t]),B=v.useMemo(()=>d==null?void 0:d.map(i=>({value:i.id,label:P(i.name)})),[d]),E=v.useMemo(()=>c==null?void 0:c.map(i=>({value:i.id,label:P(i.name)})),[c]),L=v.useMemo(()=>u==null?void 0:u.map(i=>({value:i.id,label:P(i.name)})),[u]),R=i=>i?e.jsxs(e.Fragment,{children:[i.street&&e.jsx("div",{children:i.street}),i.city&&e.jsxs("div",{children:[i.city,", ",i.state," ",i.postal_code]}),i.country&&e.jsx("div",{children:i.country})]}):"N/A",ee=s.tax_type==="percentage"?s.tax_percentage||0:s.tax||0,se=N==="percentage"?s.discount_percentage||0:s.discount||0;return e.jsxs(m,{className:"mb-4",children:[e.jsx(m.Header,{className:"bg-white  py-3",children:e.jsx("h5",{className:"mb-0 fw-semibold",children:"Order Summary"})}),e.jsxs(m.Body,{className:"p-3",children:[e.jsxs(m,{className:"mb-3",children:[e.jsxs(m.Header,{className:"bg-light d-flex align-items-center py-2",children:[e.jsx(Q,{size:18,className:"me-2 text-primary"}),e.jsx("span",{className:"fw-semibold",children:"Customer Information"})]}),e.jsxs(m.Body,{children:[e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Customer"}),e.jsxs("div",{className:"d-flex",children:[e.jsx(w,{options:S,value:S==null?void 0:S.find(i=>i.value===s.customer_id),onChange:i=>l("customer_id",i?i.value:null),placeholder:"Select customer...",className:"flex-grow-1 me-2",classNamePrefix:"select",isClearable:!0}),e.jsx(b,{variant:"outline-primary",onClick:()=>D(!0),className:"px-3",children:e.jsx(ie,{size:16})})]}),a.customer_id&&e.jsx(n.Text,{className:"text-danger",children:a.customer_id})]}),s.customer_id&&e.jsxs("div",{className:"border-top pt-3",children:[e.jsxs(f,{children:[e.jsxs(x,{md:6,className:"mb-2",children:[e.jsx("div",{className:"small text-muted mb-1",children:"Email"}),e.jsx("div",{className:"fw-medium",children:s.customer_email||"N/A"})]}),e.jsxs(x,{md:6,className:"mb-2",children:[e.jsx("div",{className:"small text-muted mb-1",children:"Phone"}),e.jsx("div",{className:"fw-medium",children:s.customer_phone||"N/A"})]})]}),s.customer_company&&e.jsx(f,{className:"mt-2",children:e.jsxs(x,{children:[e.jsx("div",{className:"small text-muted mb-1",children:"Company"}),e.jsx("div",{className:"fw-medium",children:s.customer_company})]})}),s.customer_tax_number&&e.jsx(f,{className:"mt-2",children:e.jsxs(x,{children:[e.jsx("div",{className:"small text-muted mb-1",children:"Tax Number"}),e.jsx("div",{className:"fw-medium",children:s.customer_tax_number})]})})]})]})]}),e.jsxs(m,{className:"mb-3",children:[e.jsxs(m.Header,{className:"bg-light d-flex align-items-center py-2",children:[e.jsx(M,{size:18,className:"me-2 text-primary"}),e.jsx("span",{className:"fw-semibold",children:"Order Information"})]}),e.jsxs(m.Body,{children:[e.jsxs(f,{children:[e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Order Date"}),e.jsx(n.Control,{type:"date",value:s.date,onChange:i=>l("date",i.target.value),className:"py-2"})]})}),e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Warehouse"}),e.jsx(w,{options:E,value:E==null?void 0:E.find(i=>i.value===s.warehouse_id),onChange:i=>l("warehouse_id",i?i.value:null),placeholder:"Select warehouse...",classNamePrefix:"select"}),a.warehouse_id&&e.jsx(n.Text,{className:"text-danger",children:a.warehouse_id})]})})]}),e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Reference"}),e.jsx(n.Control,{type:"text",value:s.reference,onChange:i=>l("reference",i.target.value),readOnly:V,className:"py-2"})]}),e.jsxs(f,{children:[e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Status"}),e.jsx(w,{options:h,value:h==null?void 0:h.find(i=>i.value===s.status),onChange:i=>l("status",i.value),classNamePrefix:"select"})]})}),e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Fulfillment Status"}),e.jsx(w,{options:g,value:g==null?void 0:g.find(i=>i.value===s.fulfillment_status),onChange:i=>l("fulfillment_status",i.value),classNamePrefix:"select"})]})})]})]})]}),e.jsxs(m,{className:"mb-3",children:[e.jsx(m.Header,{className:"bg-light py-2",children:e.jsx("span",{className:"fw-semibold",children:"Pricing Summary"})}),e.jsxs(m.Body,{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Subtotal:"}),e.jsx("span",{className:"fw-medium",children:_(s.subtotal)})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Tax:"}),e.jsx("span",{className:"fw-medium",children:_(s.tax)})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[e.jsx("span",{className:"text-muted",children:"Discount:"}),e.jsxs("span",{className:"fw-medium text-danger",children:["-",_(s.discount)]})]}),e.jsxs("div",{className:"d-flex justify-content-between mb-3",children:[e.jsx("span",{className:"text-muted",children:"Shipping:"}),e.jsx("span",{className:"fw-medium",children:_(s.shipping_cost)})]}),e.jsxs("div",{className:"d-flex justify-content-between fw-bold fs-5 border-top pt-3",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:_(s.total)})]})]}),e.jsxs(f,{children:[e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Tax Type"}),e.jsxs("div",{className:"d-flex",children:[e.jsx(b,{variant:s.tax_type==="percentage"?"primary":"outline-primary",className:"me-2",onClick:()=>l("tax_type","percentage"),size:"sm",children:"%"}),e.jsx(b,{variant:s.tax_type==="fixed"?"primary":"outline-primary",onClick:()=>l("tax_type","fixed"),size:"sm",children:"Fixed"})]})]})}),e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:s.tax_type==="percentage"?"Percentage":"Amount"}),e.jsx(n.Control,{type:"number",min:"0",step:s.tax_type==="percentage"?"1":"0.01",value:ee,onChange:i=>{const y=parseFloat(i.target.value)||0;if(s.tax_type==="percentage"){const C=y>100?100:y;l("tax_percentage",C),l("tax",s.subtotal*C/100)}else l("tax",y)},className:"py-2"})]})})]}),e.jsxs(f,{children:[e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Discount Type"}),e.jsxs("div",{className:"d-flex",children:[e.jsx(b,{variant:N==="percentage"?"primary":"outline-primary",className:"me-2",onClick:()=>$("percentage"),size:"sm",children:"%"}),e.jsx(b,{variant:N==="fixed"?"primary":"outline-primary",onClick:()=>$("fixed"),size:"sm",children:"Fixed"})]})]})}),e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:N==="percentage"?"Percentage":"Amount"}),e.jsx(n.Control,{type:"number",min:"0",step:N==="percentage"?"1":"0.01",value:se,onChange:i=>{const y=parseFloat(i.target.value)||0;if(N==="percentage"){const C=y>100?100:y;l("discount_percentage",C),l("discount",s.subtotal*C/100)}else l("discount",y)},className:"py-2"})]})})]}),e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Shipping Amount"}),e.jsx(n.Control,{type:"number",min:"0",step:"0.01",value:s.shipping_cost,onChange:i=>l("shipping_cost",parseFloat(i.target.value)||0),className:"py-2"})]})]})]}),e.jsxs(m,{className:"mb-3",children:[e.jsxs(m.Header,{className:"bg-light d-flex align-items-center py-2",children:[e.jsx(q,{size:18,className:"me-2 text-primary"}),e.jsx("span",{className:"fw-semibold",children:"Payment Information"})]}),e.jsxs(m.Body,{children:[e.jsxs(f,{children:[e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Payment Status"}),e.jsx(w,{options:p,value:p==null?void 0:p.find(i=>i.value===s.payment_status),onChange:i=>l("payment_status",i.value),classNamePrefix:"select"})]})}),e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Payment Method"}),e.jsx(w,{options:B,value:B==null?void 0:B.find(i=>i.value===s.payment_method_id),onChange:i=>l("payment_method_id",i.value),classNamePrefix:"select"})]})})]}),e.jsxs(f,{children:[e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Paid Amount"}),e.jsx(n.Control,{type:"number",min:"0",step:"0.01",value:s.total_paid,onChange:i=>l("total_paid",parseFloat(i.target.value)||0),className:"py-2"})]})}),e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Payment Date"}),e.jsx(n.Control,{type:"date",value:X,onChange:i=>Y(i.target.value),className:"py-2"})]})})]}),s.payment_reference&&e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Payment Reference"}),e.jsx(n.Control,{type:"text",value:s.payment_reference,onChange:i=>l("payment_reference",i.target.value),className:"py-2"})]})]})]}),e.jsxs(m,{className:"mb-3",children:[e.jsxs(m.Header,{className:"bg-light d-flex align-items-center py-2",children:[e.jsx(te,{size:18,className:"me-2 text-primary"}),e.jsx("span",{className:"fw-semibold",children:"Shipping Information"})]}),e.jsxs(m.Body,{children:[e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Shipping Method"}),e.jsx(w,{options:L,value:L==null?void 0:L.find(i=>i.value===s.shipping_method_id),onChange:i=>l("shipping_method_id",i.value),placeholder:"Select shipping method...",classNamePrefix:"select"})]}),s.shipping_method_id&&e.jsxs(e.Fragment,{children:[e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Tracking Number"}),e.jsx(n.Control,{type:"text",value:s.tracking_number,onChange:i=>l("tracking_number",i.target.value),className:"py-2"})]}),e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Tracking URL"}),e.jsx(n.Control,{type:"text",value:s.tracking_url,onChange:i=>l("tracking_url",i.target.value),placeholder:"https://",className:"py-2"})]})]})]})]}),e.jsxs(m,{className:"mb-3",children:[e.jsxs(m.Header,{className:"bg-light d-flex align-items-center py-2",children:[e.jsx(U,{size:18,className:"me-2 text-primary"}),e.jsx("span",{className:"fw-semibold",children:"Address Information"})]}),e.jsxs(m.Body,{children:[e.jsxs(f,{children:[e.jsxs(x,{md:6,className:"mb-3",children:[e.jsx("h6",{className:"mb-2 fw-medium",children:"Billing Address"}),e.jsx("div",{className:"p-3 bg-light rounded",children:R(s.billing_address)})]}),e.jsxs(x,{md:6,className:"mb-3",children:[e.jsx("h6",{className:"mb-2 fw-medium",children:"Shipping Address"}),e.jsx("div",{className:"p-3 bg-light rounded",children:s.shipping_same_as_billing?e.jsx("span",{className:"text-muted",children:"Same as billing address"}):R(s.shipping_address)})]})]}),e.jsx(n.Check,{type:"checkbox",label:"Shipping same as billing",checked:s.shipping_same_as_billing,onChange:i=>l("shipping_same_as_billing",i.target.checked),className:"mt-2"})]})]}),e.jsxs(m,{className:"mb-3",children:[e.jsx(m.Header,{className:"bg-light py-2",children:e.jsx("span",{className:"fw-semibold",children:"Notes"})}),e.jsxs(m.Body,{children:[e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{className:"fw-medium",children:"Customer Note"}),e.jsx(n.Control,{as:"textarea",rows:3,value:s.customer_note,onChange:i=>l("customer_note",i.target.value),placeholder:"Visible to customer...",className:"py-2"})]}),e.jsxs(n.Group,{children:[e.jsx(n.Label,{className:"fw-medium",children:"Private Notes"}),e.jsx(n.Control,{as:"textarea",rows:3,value:s.private_notes,onChange:i=>l("private_notes",i.target.value),placeholder:"Internal notes only...",className:"py-2"})]})]})]}),e.jsxs("div",{className:"d-grid gap-3",children:[e.jsxs(b,{variant:"primary",type:"submit",disabled:r||s.total===0,onClick:Z,size:"lg",className:"py-2",children:[e.jsx(ne,{className:"me-2",size:18}),r?"Processing...":V?"Update Order":"Create Order"]}),e.jsxs(b,{variant:"outline-secondary",size:"lg",className:"py-2",children:[e.jsx(J,{className:"me-2",size:18}),"Save & Print"]})]})]})]})}const $e=oe().shape({name:z().required("Customer name is required").max(255,"Customer name must not exceed 255 characters"),email:z().email("Invalid email address").max(255,"Email must not exceed 255 characters"),phone:z().max(20,"Phone number must not exceed 20 characters"),tax_number:z().max(50,"Tax number must not exceed 50 characters"),address:z().max(500,"Address must not exceed 500 characters")});function Je({show:s,onClose:l,onCustomerAdded:a}){const r=ce({initialValues:{name:"",email:"",phone:"",tax_number:"",address:""},validationSchema:$e,onSubmit:async(t,{setSubmitting:c,resetForm:d})=>{var u,h;try{(await me.post(route("customers.store"),t)).data.success&&(T.success("Customer added successfully."),d(),l(),a())}catch(p){p.response&&p.response.data.errors?Object.entries(p.response.data.errors).forEach(([g,N])=>{N.forEach($=>{T.error(`${g}: ${$}`)})}):T.error(((h=(u=p.response)==null?void 0:u.data)==null?void 0:h.message)||"An error occurred while adding the customer")}finally{c(!1)}}});return e.jsxs(O,{show:s,onHide:l,size:"lg",centered:!0,children:[e.jsx(O.Header,{closeButton:!0,className:"border-bottom-0",children:e.jsx(O.Title,{className:"h5",children:"Add New Customer"})}),e.jsxs(n,{onSubmit:r.handleSubmit,noValidate:!0,children:[e.jsx(O.Body,{className:"pt-0",children:e.jsxs(f,{children:[e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsxs(n.Label,{children:["Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(n.Control,{type:"text",name:"name",placeholder:"Customer name",value:r.values.name,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:r.touched.name&&!!r.errors.name,required:!0}),e.jsx(n.Control.Feedback,{type:"invalid",children:r.errors.name})]})}),e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{children:"Email"}),e.jsx(n.Control,{type:"email",name:"email",placeholder:"Customer email",value:r.values.email,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:r.touched.email&&!!r.errors.email}),e.jsx(n.Control.Feedback,{type:"invalid",children:r.errors.email})]})}),e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{children:"Phone"}),e.jsx(n.Control,{type:"text",name:"phone",placeholder:"Phone number",value:r.values.phone,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:r.touched.phone&&!!r.errors.phone}),e.jsx(n.Control.Feedback,{type:"invalid",children:r.errors.phone})]})}),e.jsx(x,{md:6,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{children:"Tax Number"}),e.jsx(n.Control,{type:"text",name:"tax_number",placeholder:"Tax identification number",value:r.values.tax_number,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:r.touched.tax_number&&!!r.errors.tax_number}),e.jsx(n.Control.Feedback,{type:"invalid",children:r.errors.tax_number})]})}),e.jsx(x,{md:12,children:e.jsxs(n.Group,{className:"mb-3",children:[e.jsx(n.Label,{children:"Address"}),e.jsx(n.Control,{as:"textarea",rows:3,name:"address",placeholder:"Full address",value:r.values.address,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:r.touched.address&&!!r.errors.address}),e.jsx(n.Control.Feedback,{type:"invalid",children:r.errors.address})]})})]})}),e.jsxs(O.Footer,{className:"border-top-0",children:[e.jsx(b,{variant:"outline-secondary",onClick:l,children:"Cancel"}),e.jsx(b,{variant:"primary",type:"submit",disabled:r.isSubmitting,children:r.isSubmitting?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):"Save Customer"})]})]})]})}export{Je as C,qe as P,Ue as S,Qe as a};
