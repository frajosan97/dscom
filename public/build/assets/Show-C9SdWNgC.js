import{j as s,r as b,$ as E}from"./app-C8okO_FY.js";import{d as u}from"./helpers-DTZMUUc8.js";import{R as I,N as y}from"./Footer-DnT14h8L.js";import{C as c}from"./Form-WKlbRvmM.js";import{C as e}from"./Card-CMRoatnC.js";import{B}from"./Badge-yBwFbVhl.js";import{I as P,B as D}from"./Image-eY5NvQ05.js";import{E as T}from"./ErpLayout-enYR1Bf_.js";import{T as N}from"./Tab-Hgb5Jy1w.js";import"./CloseButton-B9TEQAOu.js";/* empty css                      */const R=({order:n})=>{var l,d,t,j,m,o,p,a,h,g,r,_,A,k,w,C,v;return console.log(n),s.jsxs(I,{className:"g-2",children:[s.jsx(c,{md:3,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Job Brief"}),s.jsxs(e.Body,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Job No:"})," ",n==null?void 0:n.order_number]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Entry Date:"})," ",u(n==null?void 0:n.created_at)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Re-entry Job No:"})," ",n==null?void 0:n.id]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Entering Staff:"})," ",((l=n==null?void 0:n.creator)==null?void 0:l.full_name)||((d=n==null?void 0:n.creator)==null?void 0:d.name)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Due Date:"})," ",u(n==null?void 0:n.completion_date)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Entry Warranty:"})," ",s.jsx(B,{bg:((t=n==null?void 0:n.custom_fields)==null?void 0:t.warranty_status)==="on"?"success":"danger",children:((j=n==null?void 0:n.custom_fields)==null?void 0:j.warranty_status)||"off"})]})]})]})}),s.jsx(c,{md:3,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Customer Details"}),s.jsxs(e.Body,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",((m=n==null?void 0:n.customer)==null?void 0:m.full_name)||((o=n==null?void 0:n.customer)==null?void 0:o.name)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone Number:"})," ",((p=n==null?void 0:n.customer)==null?void 0:p.phone)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Place:"})," ",((a=n==null?void 0:n.customer)==null?void 0:a.country)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",((h=n==null?void 0:n.customer)==null?void 0:h.address)||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Account Id:"})," ",((g=n==null?void 0:n.customer)==null?void 0:g.id)||"N/A"]})]})]})}),s.jsx(c,{md:3,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Device Information"}),s.jsx(e.Body,{children:(n==null?void 0:n.device_metadata)&&Object.entries(n.device_metadata).map(([i,x],f)=>s.jsxs("p",{children:[s.jsxs("strong",{children:[i,":"]})," ",x]},f))})]})}),s.jsx(c,{md:3,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Technician Details"}),s.jsxs(e.Body,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Technician:"})," ",((r=n==null?void 0:n.technician)==null?void 0:r.full_name)||((_=n==null?void 0:n.technician)==null?void 0:_.name)||"Not Assigned"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone Number:"})," ",((A=n==null?void 0:n.technician)==null?void 0:A.phone)||"Not Assigned"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Address:"})," ",((k=n==null?void 0:n.technician)==null?void 0:k.address)||"Not Assigned"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Photo:"})," ",(w=n==null?void 0:n.technician)!=null&&w.profile_image?s.jsx(P,{src:n.technician.profile_image,alt:"Technician",width:50,height:50}):"Not Assigned"]})]})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Complaint Details"}),s.jsxs(e.Body,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Complaints:"})," ",((C=n==null?void 0:n.complaint)==null?void 0:C.complaint)||"No complaints recorded"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Other Remarks:"})," ",((v=n==null?void 0:n.complaint)==null?void 0:v.remarks)||"No remarks"]})]})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Initial Checks Information"}),s.jsx(e.Body,{children:(n==null?void 0:n.initial_check_metadata)&&Object.entries(n.initial_check_metadata).map(([i,x],f)=>s.jsxs("div",{children:[s.jsxs("strong",{children:[i,":"]})," ",typeof x=="object"&&x!==null?s.jsx("ul",{className:"ms-3",children:Object.entries(x).map(([$,S],H)=>s.jsxs("li",{children:[$,":"," ",String(S)]},H))}):s.jsx("span",{children:String(x)})]},f))})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Physical Conditions"}),s.jsx(e.Body,{children:n!=null&&n.physicalConditions?s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Screen Condition:"})," ",n.physicalConditions.screen_condition||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Body Condition:"})," ",n.physicalConditions.body_condition||"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Accessories Included:"})," ",n.physicalConditions.accessories_included||"None"]})]}):s.jsx("p",{children:"No Data"})})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Risk Agreed By Customer"}),s.jsx(e.Body,{children:n!=null&&n.riskAgreements?s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Data Loss:"})," ",n.riskAgreements.data_loss_accepted?"Accepted":"Not Accepted"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Further Damage:"})," ",n.riskAgreements.further_damage_accepted?"Accepted":"Not Accepted"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Signed Date:"})," ",u(n.riskAgreements.signed_at)]})]}):s.jsx("p",{children:"No Data"})})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Accessories"}),s.jsx(e.Body,{children:n!=null&&n.accessories&&n.accessories.length>0?n.accessories.map(i=>s.jsxs("p",{children:[s.jsxs("strong",{children:[i.name,":"]})," ",i.quantity," ",i.condition&&`(${i.condition})`]},i.id)):s.jsx("p",{children:"No Data"})})]})}),s.jsx(c,{md:4,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Payment Info"}),s.jsxs(e.Body,{children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Estimated Cost:"})," ",n!=null&&n.estimated_cost?`$${n.estimated_cost}`:"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Final Cost:"})," ",n!=null&&n.final_cost?`$${n.final_cost}`:"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Amount Paid:"})," ",n!=null&&n.amount_paid?`$${n.amount_paid}`:"N/A"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Balance Due:"})," ",n!=null&&n.balance_due?`$${n.balance_due}`:"N/A"]})]})]})}),s.jsx(c,{md:12,children:s.jsxs(e,{className:"border-0 rounded-0 shadow-sm h-100",children:[s.jsx(e.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:"Transaction Details"}),s.jsx(e.Body,{children:n!=null&&n.payments&&n.payments.length>0?s.jsxs("table",{className:"table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Amount"}),s.jsx("th",{children:"Method"}),s.jsx("th",{children:"Type"}),s.jsx("th",{children:"Status"})]})}),s.jsx("tbody",{children:n.payments.map(i=>s.jsxs("tr",{children:[s.jsx("td",{children:u(i.payment_date)}),s.jsxs("td",{children:["$",i.amount]}),s.jsx("td",{children:i.payment_method}),s.jsx("td",{children:i.payment_type}),s.jsx("td",{children:s.jsx(B,{bg:i.status==="completed"?"success":i.status==="pending"?"warning":i.status==="failed"?"danger":"secondary",children:i.status})})]},i.id))})]}):s.jsx("p",{children:"No payment records found"})})]})})]})},U=({order:n=null})=>{const[l,d]=b.useState("job-entry-info"),t=b.useMemo(()=>[{key:"job-entry-info",label:"Job Entry Info",icon:"bi-person"},{key:"service-info",label:"Service Info",icon:"bi-gear"},{key:"delivery-info",label:"Delivery Info",icon:"bi-truck"},{key:"ret-outside-service",label:"Ret Outside Service",icon:"bi-arrow-left-right"},{key:"call-info",label:"Call Info",icon:"bi-telephone"},{key:"refund-loss",label:"Refund & Loss",icon:"bi-currency-dollar"},{key:"feedback",label:"Feedback",icon:"bi-chat"}],[]),j=b.useCallback(()=>{const a=t.findIndex(h=>h.key===l);a<t.length-1&&d(t[a+1].key)},[l,t]),m=b.useCallback(()=>{const a=t.findIndex(h=>h.key===l);a>0&&d(t[a-1].key)},[l,t]),o=l===t[0].key,p=l===t[t.length-1].key;return s.jsxs(T,{children:[s.jsx(E,{title:"Service Job Details"}),s.jsx(N.Container,{activeKey:l,onSelect:d,children:s.jsxs(I,{children:[s.jsx(c,{sm:3,md:2,className:"border-end bg-light",children:s.jsx(y,{variant:"pills",className:"flex-column",children:t.map(({key:a,label:h,icon:g})=>s.jsx(y.Item,{className:"mb-2",children:s.jsxs(y.Link,{eventKey:a,className:"d-flex align-items-center",children:[s.jsx("i",{className:`${g} me-2`}),s.jsx("span",{className:"d-none d-md-inline",children:h})]})},a))})}),s.jsxs(c,{sm:9,md:10,children:[s.jsx(N.Content,{children:s.jsx(N.Pane,{eventKey:"job-entry-info",children:s.jsx(R,{order:n})})}),s.jsxs("div",{className:"d-flex justify-content-between mt-4",children:[s.jsx(D,{variant:"outline-primary",onClick:m,disabled:o,children:"Previous"}),s.jsx(D,{variant:"primary",onClick:j,disabled:p,children:"Next"})]})]})]})})]})};export{U as default};
