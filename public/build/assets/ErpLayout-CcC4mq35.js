import{q as g,j as b}from"./app-D_CKxB3x.js";import{a as k,L as H,T as I,F as P}from"./Footer-4j-U2EsI.js";/* empty css                      */import{C as A}from"./Image-BD4Nolsn.js";const E=()=>{const{auth:o}=g().props;return{hasRole:u=>{var c,r;return(r=(c=o==null?void 0:o.user)==null?void 0:c.roles)==null?void 0:r.some(a=>a.name===u)},hasPermission:u=>{var c,r,a,n;return((r=(c=o==null?void 0:o.user)==null?void 0:c.permissions)==null?void 0:r.some(t=>t.name===u))||((n=(a=o==null?void 0:o.user)==null?void 0:a.roles)==null?void 0:n.some(t=>{var l;return(l=t.permissions)==null?void 0:l.some(p=>p.name===u)}))}}};function L(){const{auth:o}=g().props,{hasRole:s,hasPermission:h}=E(),u=s("director"),c=s("admin"),r=s("hr"),a=s("finance"),n=s("sales"),t=s("receptionist"),l=s("technician"),p=s("customer"),e=u||c,R=e||l||h("view services"),S=e||n||t||h("view store"),j=e||a||h("view accounts"),C=e||r||h("view hr");e||h("view reports");const M=e,d=r&&!e,w=a&&!e,y=n||t,m=[{path:route("dashboard"),icon:"bi bi-speedometer2",label:"Dashboard",show:!0}],v=[{path:route("customers.index"),icon:"bi bi-people",label:"Customer",show:!p},{path:route("customers.create"),icon:"bi bi-person-plus",label:"New Customer",show:!p},{path:route("promotion.index"),icon:"bi bi-bullseye",label:"Campaigns & Promotions",show:!0},{path:route("feedback.index"),icon:"bi bi-chat-dots",label:"Feedback",show:!0},{path:route("ticket.index"),icon:"bi bi-headset",label:"Support Tickets",show:!0}].filter(i=>i.show),f=[{label:"Store",icon:"bi bi-cart3",show:(S||e)&&!d&&!w,children:[{path:route("product.index"),icon:"bi bi-boxes",label:"Items Register",show:!0},{path:route("product.create"),icon:"bi bi-plus-square",label:"New Item",show:!n&&!t},{path:route("sales.index"),icon:"bi bi-receipt",label:"Sales List",show:!0},{path:route("sales.create"),icon:"bi bi-cart-plus",label:"New Sale",show:n||t||e},{path:route("barcode.index"),icon:"bi bi-upc-scan",label:"Barcode Printing",show:!n&&!t}].filter(i=>i.show)},{label:"Services",icon:"bi bi-tools",show:(R||e)&&!d&&!w,children:[{path:route("device-type.index"),icon:"bi bi-hdd-stack",label:"Device Types",show:l||e},{path:route("repair-service.index"),icon:"bi bi-wrench-adjustable",label:"Repair Services",show:l||e},{path:route("repair-orders.create"),icon:"bi bi-clipboard-plus",label:"Service Job Entry",show:t||l||e},{path:route("repair-orders.index"),icon:"bi bi-clipboard-data",label:"Jobs List & Status",show:!0},{path:route("repair-orders.assign-technician"),icon:"bi bi-person-badge",label:"Assign Technician",show:e||t}].filter(i=>i.show)},{label:"CRM",icon:"bi bi-people-fill",show:!d&&!w&&!y,children:v},{label:"HRM",icon:"bi bi-people-fill",show:C||e,children:[{path:route("employee.index"),icon:"bi bi-person-gear",label:"Employee Mgnt",show:!0},{path:route("employee.create"),icon:"bi bi-person-plus",label:"New Employee",show:e||r},{path:route("attendance.index"),icon:"bi bi-clock-history",label:"Attendance Mgnt",show:!0},{path:route("salary.index"),icon:"bi bi-cash-coin",label:"Salaries Mgnt",show:e||r||a}].filter(i=>i.show)},{label:"Accounts",icon:"bi bi-journal-arrow-down",show:j||e,children:[{path:route("finance.reports"),icon:"bi bi-graph-up",label:"Financial Reports",show:!0},{path:route("finance.chart-of-accounts"),icon:"bi bi-journal-text",label:"Chart of Accounts",show:a||e},{path:route("finance.transactions"),icon:"bi bi-arrow-left-right",label:"Transactions",show:!0},{path:route("finance.invoices"),icon:"bi bi-receipt-cutoff",label:"Invoices",show:!0},{path:route("finance.payments"),icon:"bi bi-currency-dollar",label:"Payments",show:!0},{path:route("finance.bank-reconciliation"),icon:"bi bi-bank",label:"Bank Reconciliation",show:a||e}].filter(i=>i.show)},{label:"Settings",icon:"bi bi-gear-fill",show:M||e,children:[{path:route("slider.index"),icon:"bi bi-images",label:"Slides Management",show:!0},{path:route("branch.index"),icon:"bi bi-building",label:"Branches",show:!0},{path:route("warehouse.index"),icon:"bi bi-house-gear",label:"Ware Houses",show:!0},{path:route("payment-method.index"),icon:"bi bi-credit-card",label:"Payment Methods",show:!0},{path:route("category.index"),icon:"bi bi-tags",label:"Catalogues List",show:!0},{path:route("brand.index"),icon:"bi bi-tag",label:"Brands List",show:!0}].filter(i=>i.show)}];let x=[...m,...f.filter(i=>i.show&&i.children.length>0)];return d&&!e&&(x=[...m,...f.filter(i=>i.label==="HRM")]),w&&!e&&(x=[...m,...f.filter(i=>i.label==="Accounts")]),b.jsx(k,{variant:"erp",NavItems:x,horizontalCRMItems:y?v:[]})}function V({children:o}){const{auth:s}=g().props;return b.jsxs("div",{className:"erp-layout",children:[b.jsx(H,{position:"top-center",autoClose:2e3,hideProgressBar:!1}),b.jsx(I,{}),b.jsx(L,{}),b.jsx(A,{fluid:!0,className:"erp-main py-3",children:o}),b.jsx(P,{})]})}export{V as E};
