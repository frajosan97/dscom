import{r as f,R as y,q as ce,j as e,$ as oe}from"./app-DdIX6d_6.js";import{E as de}from"./ErpLayout-CCrlVePp.js";import{A as me}from"./Alert-cp0THEGg.js";import{P as d,R as O,I as Y,D as P}from"./Footer-BYsUKS50.js";import{C as h,F as l}from"./Form-D_I3dj_K.js";import{B as _}from"./Image-C4wVi4fk.js";import{P as ue}from"./plus-circle-Dr18y6-P.js";import{C as g}from"./Card-Dcy67VlY.js";import{C as K}from"./clock-BbVQoMp0.js";import{S as he}from"./search-C8CaLqwl.js";import{T as pe}from"./Tabs-CL2sZw1I.js";import{T as B}from"./Tab-I84LwWR5.js";import{T as xe}from"./Table-wPH_v57Z.js";import{E as je}from"./eye-DTiHGqN6.js";import{P as fe}from"./pencil-C9nNcyQ-.js";import{D as ye}from"./download-CoXBLwgD.js";import{T as ve}from"./trash-Be6b6vKk.js";import{M as w}from"./Modal-DvRX44EJ.js";import{B as b}from"./Badge-DEFb8C68.js";import{X as ge,C as be}from"./x-circle-bYrGqvuX.js";import{B as X}from"./bank-BrI9rVGl.js";import{C as q}from"./credit-card-OUBxJbyD.js";import{R as Ne}from"./receipt-C_hb9-Sq.js";/* empty css                      */import"./CloseButton-DjMRf_Ll.js";var we=["color","size","title","className"];function A(){return A=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},A.apply(null,arguments)}function Pe(s,n){if(s==null)return{};var a,r,o=Ce(s,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(r=0;r<c.length;r++)a=c[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(o[a]=s[a])}return o}function Ce(s,n){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(n.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var k=f.forwardRef(function(s,n){var a=s.color,r=a===void 0?"currentColor":a,o=s.size,c=o===void 0?"1em":o,p=s.title,u=p===void 0?null:p,x=s.className,v=x===void 0?"":x,N=Pe(s,we);return y.createElement("svg",A({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-arrow-down-circle",v].filter(Boolean).join(" ")},N),u?y.createElement("title",null,u):null,y.createElement("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.5 4.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"}))});k.propTypes={color:d.string,size:d.oneOfType([d.string,d.number]),title:d.string,className:d.string};var Se=["color","size","title","className"];function I(){return I=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},I.apply(null,arguments)}function Oe(s,n){if(s==null)return{};var a,r,o=ze(s,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(r=0;r<c.length;r++)a=c[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(o[a]=s[a])}return o}function ze(s,n){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(n.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var R=f.forwardRef(function(s,n){var a=s.color,r=a===void 0?"currentColor":a,o=s.size,c=o===void 0?"1em":o,p=s.title,u=p===void 0?null:p,x=s.className,v=x===void 0?"":x,N=Oe(s,Se);return y.createElement("svg",I({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-arrow-up-circle",v].filter(Boolean).join(" ")},N),u?y.createElement("title",null,u):null,y.createElement("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707z"}))});R.propTypes={color:d.string,size:d.oneOfType([d.string,d.number]),title:d.string,className:d.string};var Te=["color","size","title","className"];function D(){return D=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},D.apply(null,arguments)}function _e(s,n){if(s==null)return{};var a,r,o=Be(s,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(r=0;r<c.length;r++)a=c[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(o[a]=s[a])}return o}function Be(s,n){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(n.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var V=f.forwardRef(function(s,n){var a=s.color,r=a===void 0?"currentColor":a,o=s.size,c=o===void 0?"1em":o,p=s.title,u=p===void 0?null:p,x=s.className,v=x===void 0?"":x,N=_e(s,Te);return y.createElement("svg",D({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-cash",v].filter(Boolean).join(" ")},N),u?y.createElement("title",null,u):null,y.createElement("path",{d:"M8 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4"}),y.createElement("path",{d:"M0 4a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1zm3 0a2 2 0 0 1-2 2v4a2 2 0 0 1 2 2h10a2 2 0 0 1 2-2V6a2 2 0 0 1-2-2z"}))});V.propTypes={color:d.string,size:d.oneOfType([d.string,d.number]),title:d.string,className:d.string};var $e=["color","size","title","className"];function G(){return G=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(s[r]=a[r])}return s},G.apply(null,arguments)}function Ee(s,n){if(s==null)return{};var a,r,o=Le(s,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(r=0;r<c.length;r++)a=c[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(s,a)&&(o[a]=s[a])}return o}function Le(s,n){if(s==null)return{};var a={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(n.indexOf(r)!==-1)continue;a[r]=s[r]}return a}var z=f.forwardRef(function(s,n){var a=s.color,r=a===void 0?"currentColor":a,o=s.size,c=o===void 0?"1em":o,p=s.title,u=p===void 0?null:p,x=s.className,v=x===void 0?"":x,N=Ee(s,$e);return y.createElement("svg",G({ref:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:c,height:c,fill:r,className:["bi","bi-currency-dollar",v].filter(Boolean).join(" ")},N),u?y.createElement("title",null,u):null,y.createElement("path",{d:"M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z"}))});z.propTypes={color:d.string,size:d.oneOfType([d.string,d.number]),title:d.string,className:d.string};function it(){const{flash:s}=ce().props,[n,a]=f.useState(!1),[r,o]=f.useState(!1),[c,p]=f.useState(""),[u,x]=f.useState("all"),[v,N]=f.useState(null),[T,$]=f.useState(null),H=[{id:1,name:"Acme Corporation",type:"customer",email:"acme@example.com"},{id:2,name:"Global Tech Solutions",type:"customer",email:"tech@example.com"},{id:3,name:"Paper Supplies Ltd",type:"vendor",email:"paper@example.com"},{id:4,name:"Office Equipment Co",type:"vendor",email:"office@example.com"}],Q=[{id:"INV-2025-001",party:"Acme Corporation",amount:1320,due_date:"2025-10-15",type:"sales"},{id:"INV-2025-003",party:"Global Tech Solutions",amount:3025,due_date:"2025-10-25",type:"sales"},{id:"INV-2025-002",party:"Paper Supplies Ltd",amount:495,due_date:"2025-10-20",type:"purchase"}],[C,E]=f.useState([{id:"PAY-2025-001",date:"2025-10-02",party:"Acme Corporation",partyEmail:"acme@example.com",method:"card",amount:1320,type:"receipt",reference:"CHQ-45892",status:"completed",invoice:"INV-2025-001",notes:"Payment for website development",bank_account:"Main Business Account",transaction_id:"TXN-789456"},{id:"PAY-2025-002",date:"2025-10-06",party:"Paper Supplies Ltd",partyEmail:"paper@example.com",method:"bank_transfer",amount:495,type:"payment",reference:"BT-784512",status:"completed",invoice:"INV-2025-002",notes:"Monthly office supplies payment",bank_account:"Vendor Account",transaction_id:"BT-784512"},{id:"PAY-2025-003",date:"2025-10-08",party:"Global Tech Solutions",partyEmail:"tech@example.com",method:"mpesa",amount:1500,type:"receipt",reference:"MP-458793",status:"pending",invoice:"INV-2025-003",notes:"Partial payment for e-commerce platform",bank_account:"M-Pesa Business",transaction_id:"MP4587932025"},{id:"PAY-2025-004",date:"2025-10-10",party:"Office Equipment Co",partyEmail:"office@example.com",method:"cash",amount:850,type:"payment",reference:"CSH-001",status:"completed",invoice:null,notes:"Office chair purchase",bank_account:"Cash",transaction_id:null},{id:"PAY-2025-005",date:"2025-10-12",party:"Acme Corporation",partyEmail:"acme@example.com",method:"card",amount:2e3,type:"receipt",reference:"CHQ-45901",status:"failed",invoice:null,notes:"Card payment declined",bank_account:"Main Business Account",transaction_id:"TXN-DECLINED"}]),[i,j]=f.useState({date:new Date().toISOString().split("T")[0],party:"",partyEmail:"",method:"cash",amount:"",type:"receipt",reference:"",status:"pending",invoice:"",notes:"",bank_account:"Main Business Account",transaction_id:""}),F=f.useMemo(()=>C.filter(t=>{var W;const m=t.id.toLowerCase().includes(c.toLowerCase())||t.party.toLowerCase().includes(c.toLowerCase())||t.reference.toLowerCase().includes(c.toLowerCase())||((W=t.transaction_id)==null?void 0:W.toLowerCase().includes(c.toLowerCase())),M=u==="all"||u==="receipts"&&t.type==="receipt"||u==="payments"&&t.type==="payment"||u===t.status;return m&&M}),[C,c,u]),U=()=>{const t=`PAY-${new Date().getFullYear()}-${String(C.length+1).padStart(3,"0")}`,m={...i,id:t,amount:parseFloat(i.amount)||0};E([m,...C]),a(!1),L()},J=()=>{const t={...T,...i,amount:parseFloat(i.amount)||0};E(C.map(m=>m.id===T.id?t:m)),a(!1),$(null),L()},Z=t=>{$(t),j({...t,amount:t.amount.toString()}),a(!0)},ee=t=>{N(t),o(!0)},te=()=>{E(C.filter(t=>t.id!==v.id)),o(!1),N(null)},L=()=>{j({date:new Date().toISOString().split("T")[0],party:"",partyEmail:"",method:"cash",amount:"",type:"receipt",reference:"",status:"pending",invoice:"",notes:"",bank_account:"Main Business Account",transaction_id:""})},se=t=>{const m=H.find(M=>M.name===t);j({...i,party:t,partyEmail:(m==null?void 0:m.email)||"",type:(m==null?void 0:m.type)==="customer"?"receipt":"payment"})},ae=t=>{switch(t){case"completed":return e.jsxs(b,{bg:"success",children:[e.jsx(be,{className:"me-1",size:12})," Completed"]});case"pending":return e.jsxs(b,{bg:"warning",text:"dark",children:[e.jsx(K,{className:"me-1",size:12})," Pending"]});case"failed":return e.jsxs(b,{bg:"danger",children:[e.jsx(ge,{className:"me-1",size:12})," Failed"]});case"cancelled":return e.jsx(b,{bg:"secondary",children:"Cancelled"});default:return e.jsx(b,{bg:"secondary",children:t})}},re=t=>{switch(t){case"card":return e.jsxs(b,{bg:"primary",children:[e.jsx(q,{className:"me-1",size:12})," Card"]});case"bank_transfer":return e.jsxs(b,{bg:"info",children:[e.jsx(X,{className:"me-1",size:12})," Bank Transfer"]});case"cash":return e.jsxs(b,{bg:"success",children:[e.jsx(V,{className:"me-1",size:12})," Cash"]});case"mpesa":return e.jsx(b,{bg:"success",style:{backgroundColor:"#0cb74b"},children:"M-Pesa"});case"paypal":return e.jsx(b,{bg:"primary",children:"PayPal"});default:return e.jsx(b,{bg:"secondary",children:t})}},ne=t=>t==="receipt"?e.jsx(k,{className:"text-success",size:16}):e.jsx(R,{className:"text-danger",size:16}),S=C.reduce((t,m)=>(m.status==="completed"?m.type==="receipt"?t.totalReceipts+=m.amount:t.totalPayments+=m.amount:m.status==="pending"&&(t.totalPending+=m.amount),t),{totalReceipts:0,totalPayments:0,totalPending:0}),le=[{value:"cash",label:"Cash",icon:e.jsx(V,{className:"me-2"})},{value:"card",label:"Credit/Debit Card",icon:e.jsx(q,{className:"me-2"})},{value:"bank_transfer",label:"Bank Transfer",icon:e.jsx(X,{className:"me-2"})},{value:"mpesa",label:"M-Pesa",icon:e.jsx(z,{className:"me-2"})},{value:"paypal",label:"PayPal",icon:e.jsx(z,{className:"me-2"})},{value:"check",label:"Check",icon:e.jsx(Ne,{className:"me-2"})}],ie=["Main Business Account","Vendor Account","M-Pesa Business","PayPal Business","Cash"];return e.jsxs(de,{children:[e.jsx(oe,{title:"Payments Management"}),s.success&&e.jsx(me,{variant:"success",className:"mb-3",children:s.success}),e.jsxs(O,{className:"mb-4",children:[e.jsx(h,{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(z,{className:"me-3 text-primary",size:32}),e.jsxs("div",{children:[e.jsx("h4",{className:"fw-semibold mb-1",children:"Payments Management"}),e.jsx("p",{className:"text-muted mb-0",children:"Track customer receipts and vendor payments with complete audit trail"})]})]})}),e.jsx(h,{className:"text-end",children:e.jsxs(_,{variant:"primary",className:"px-4",onClick:()=>{$(null),L(),a(!0)},children:[e.jsx(ue,{className:"me-2"})," New Payment"]})})]}),e.jsxs(O,{className:"mb-4",children:[e.jsx(h,{md:3,children:e.jsx(g,{className:"border-0 bg-success bg-opacity-10",children:e.jsx(g.Body,{className:"py-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(k,{className:"text-success me-3",size:24}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Total Receipts"}),e.jsxs("div",{className:"h5 fw-bold text-success mb-0",children:["$",S.totalReceipts.toLocaleString()]})]})]})})})}),e.jsx(h,{md:3,children:e.jsx(g,{className:"border-0 bg-danger bg-opacity-10",children:e.jsx(g.Body,{className:"py-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(R,{className:"text-danger me-3",size:24}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Total Payments"}),e.jsxs("div",{className:"h5 fw-bold text-danger mb-0",children:["$",S.totalPayments.toLocaleString()]})]})]})})})}),e.jsx(h,{md:3,children:e.jsx(g,{className:"border-0 bg-warning bg-opacity-10",children:e.jsx(g.Body,{className:"py-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(K,{className:"text-warning me-3",size:24}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Pending"}),e.jsxs("div",{className:"h5 fw-bold text-warning mb-0",children:["$",S.totalPending.toLocaleString()]})]})]})})})}),e.jsx(h,{md:3,children:e.jsx(g,{className:"border-0 bg-primary bg-opacity-10",children:e.jsx(g.Body,{className:"py-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(z,{className:"text-primary me-3",size:24}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted small",children:"Net Cash Flow"}),e.jsxs("div",{className:`h5 fw-bold ${S.totalReceipts-S.totalPayments>=0?"text-success":"text-danger"} mb-0`,children:["$",(S.totalReceipts-S.totalPayments).toLocaleString()]})]})]})})})})]}),e.jsx(g,{className:"shadow-sm border-0 mb-4",children:e.jsx(g.Body,{children:e.jsxs(O,{children:[e.jsx(h,{md:6,children:e.jsxs(Y,{children:[e.jsx(Y.Text,{children:e.jsx(he,{})}),e.jsx(l.Control,{placeholder:"Search by payment ID, party, reference...",value:c,onChange:t=>p(t.target.value)})]})}),e.jsx(h,{md:6,children:e.jsxs(pe,{activeKey:u,onSelect:t=>x(t),className:"mb-0",children:[e.jsx(B,{eventKey:"all",title:"All Payments"}),e.jsx(B,{eventKey:"receipts",title:"Receipts"}),e.jsx(B,{eventKey:"payments",title:"Payments"}),e.jsx(B,{eventKey:"pending",title:"Pending"}),e.jsx(B,{eventKey:"completed",title:"Completed"})]})})]})})}),e.jsx(g,{className:"shadow-sm border-0",children:e.jsx(g.Body,{children:e.jsx("div",{className:"table-responsive",children:e.jsxs(xe,{hover:!0,className:"align-middle",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"Payment ID"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Party"}),e.jsx("th",{children:"Method"}),e.jsx("th",{className:"text-end",children:"Amount"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Reference"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:F.length>0?F.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[ne(t.type),e.jsxs("div",{className:"ms-2",children:[e.jsx("div",{className:"fw-semibold",children:t.id}),e.jsx("small",{className:"text-muted text-capitalize",children:t.type})]})]})}),e.jsx("td",{className:"fw-semibold",children:t.date}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{children:t.party}),e.jsx("small",{className:"text-muted",children:t.partyEmail})]})}),e.jsx("td",{children:re(t.method)}),e.jsxs("td",{className:"text-end",children:[e.jsxs("div",{className:`fw-semibold ${t.type==="receipt"?"text-success":"text-danger"}`,children:[t.type==="receipt"?"+":"-","$",t.amount.toLocaleString()]}),e.jsx("small",{className:"text-muted",children:t.bank_account})]}),e.jsx("td",{children:ae(t.status)}),e.jsxs("td",{children:[e.jsx("div",{children:t.reference}),t.transaction_id&&e.jsx("small",{className:"text-muted",children:t.transaction_id})]}),e.jsx("td",{className:"text-center",children:e.jsxs(P,{children:[e.jsx(P.Toggle,{variant:"outline-primary",size:"sm",id:"dropdown-basic",children:"Actions"}),e.jsxs(P.Menu,{children:[e.jsxs(P.Item,{children:[e.jsx(je,{className:"me-2",size:14}),"View Details"]}),e.jsxs(P.Item,{onClick:()=>Z(t),children:[e.jsx(fe,{className:"me-2",size:14}),"Edit"]}),e.jsxs(P.Item,{children:[e.jsx(ye,{className:"me-2",size:14}),"Receipt"]}),e.jsx(P.Divider,{}),e.jsxs(P.Item,{className:"text-danger",onClick:()=>ee(t),children:[e.jsx(ve,{className:"me-2",size:14}),"Delete"]})]})]})})]},t.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"8",className:"text-center text-muted py-4",children:[e.jsx(z,{size:48,className:"mb-2"}),e.jsx("div",{children:"No payments found"}),e.jsx("small",{children:"Try adjusting your search or create a new payment"})]})})})]})})})}),e.jsxs(w,{show:n,onHide:()=>a(!1),centered:!0,size:"lg",children:[e.jsx(w.Header,{closeButton:!0,children:e.jsx(w.Title,{children:T?"Edit Payment":"Record New Payment"})}),e.jsx(w.Body,{style:{maxHeight:"70vh",overflowY:"auto"},children:e.jsxs(l,{children:[e.jsxs(O,{children:[e.jsx(h,{md:6,children:e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:"Payment Type *"}),e.jsxs(l.Select,{value:i.type,onChange:t=>j({...i,type:t.target.value}),children:[e.jsx("option",{value:"receipt",children:"Customer Receipt (Money In)"}),e.jsx("option",{value:"payment",children:"Vendor Payment (Money Out)"})]})]})}),e.jsx(h,{md:6,children:e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:"Status *"}),e.jsxs(l.Select,{value:i.status,onChange:t=>j({...i,status:t.target.value}),children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"failed",children:"Failed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})})]}),e.jsxs(O,{children:[e.jsx(h,{md:6,children:e.jsxs(l.Group,{className:"mb-3",children:[e.jsxs(l.Label,{children:[i.type==="receipt"?"Customer":"Vendor"," ","*"]}),e.jsxs(l.Select,{value:i.party,onChange:t=>se(t.target.value),children:[e.jsxs("option",{value:"",children:["Select"," ",i.type==="receipt"?"Customer":"Vendor"]}),H.filter(t=>t.type===(i.type==="receipt"?"customer":"vendor")).map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))]})]})}),e.jsx(h,{md:6,children:e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:"Payment Date *"}),e.jsx(l.Control,{type:"date",value:i.date,onChange:t=>j({...i,date:t.target.value})})]})})]}),e.jsxs(O,{children:[e.jsx(h,{md:6,children:e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:"Payment Method *"}),e.jsx(l.Select,{value:i.method,onChange:t=>j({...i,method:t.target.value}),children:le.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})}),e.jsx(h,{md:6,children:e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:"Bank Account *"}),e.jsx(l.Select,{value:i.bank_account,onChange:t=>j({...i,bank_account:t.target.value}),children:ie.map(t=>e.jsx("option",{value:t,children:t},t))})]})})]}),e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:"Amount *"}),e.jsx(l.Control,{type:"number",step:"0.01",value:i.amount,onChange:t=>j({...i,amount:t.target.value}),placeholder:"0.00"})]}),e.jsxs(O,{children:[e.jsx(h,{md:6,children:e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:"Reference Number"}),e.jsx(l.Control,{value:i.reference,onChange:t=>j({...i,reference:t.target.value}),placeholder:"e.g., CHQ-001, BT-458792"})]})}),e.jsx(h,{md:6,children:e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:"Transaction ID"}),e.jsx(l.Control,{value:i.transaction_id,onChange:t=>j({...i,transaction_id:t.target.value}),placeholder:"Bank/M-Pesa transaction ID"})]})})]}),e.jsxs(l.Group,{className:"mb-3",children:[e.jsx(l.Label,{children:"Related Invoice"}),e.jsxs(l.Select,{value:i.invoice,onChange:t=>j({...i,invoice:t.target.value}),children:[e.jsx("option",{value:"",children:"Select Invoice (Optional)"}),Q.filter(t=>i.type==="receipt"&&t.type==="sales"||i.type==="payment"&&t.type==="purchase").map(t=>e.jsxs("option",{value:t.id,children:[t.id," - ",t.party," ($",t.amount,")"]},t.id))]})]}),e.jsxs(l.Group,{children:[e.jsx(l.Label,{children:"Notes"}),e.jsx(l.Control,{as:"textarea",rows:3,value:i.notes,onChange:t=>j({...i,notes:t.target.value}),placeholder:"Payment notes or description..."})]})]})}),e.jsxs(w.Footer,{children:[e.jsx(_,{variant:"secondary",onClick:()=>a(!1),children:"Cancel"}),e.jsx(_,{variant:"primary",onClick:T?J:U,children:T?"Update Payment":"Record Payment"})]})]}),e.jsxs(w,{show:r,onHide:()=>o(!1),centered:!0,children:[e.jsx(w.Header,{closeButton:!0,children:e.jsx(w.Title,{children:"Confirm Delete"})}),e.jsxs(w.Body,{children:["Are you sure you want to delete payment"," ",e.jsx("strong",{children:v==null?void 0:v.id}),"?",e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:"This action cannot be undone and will remove the payment record permanently."})]}),e.jsxs(w.Footer,{children:[e.jsx(_,{variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),e.jsx(_,{variant:"danger",onClick:te,children:"Delete Payment"})]})]})]})}export{it as default};
