import{r as t,j as e,$ as u}from"./app-CXGUi3Ii.js";import{E as b}from"./ErpLayout-C_Yzu-j7.js";import{C as p}from"./CustomerModal-DiTTYKUZ.js";import{C as i}from"./Card-CfBFK9Wm.js";import{B as f}from"./ButtonGroup-BX4ADmeu.js";import{B as o}from"./Image-5TVfYuAD.js";import{T as x}from"./Table-BqJjxIz3.js";import"./Footer-C1n_XnQr.js";import"./CloseButton-BG--uyn6.js";import"./Form-XjuXZqOk.js";/* empty css                      */import"./formik.esm-CpXjc-UR.js";import"./hoist-non-react-statics.cjs-C-Qo8PK8.js";import"./index.esm-C6HOpLtu.js";import"./useErrorToast-DvKgSG3a.js";import"./axios-DRIjC2mC.js";import"./Modal-MA4UI1jI.js";function A(){const[c,a]=t.useState(!1),s=t.useRef(!1),m=t.useRef(null),l=t.useCallback(()=>{if(s.current)return;$.fn.DataTable.isDataTable("#customerTable")&&$("#customerTable").DataTable().destroy();const n=$("#customerTable").DataTable({processing:!0,serverSide:!0,ajax:{url:route("customers.index"),type:"GET"},columns:[{data:"DT_RowIndex",name:"DT_RowIndex",title:"#",className:"text-center",width:"1%",orderable:!1,searchable:!1},{data:"name",title:"Name",className:"text-start"},{data:"email",title:"email",className:"text-start"},{data:"phone",title:"Phone",className:"text-start"},{data:"role",title:"Type",className:"text-start",width:"15%"},{data:"status",title:"Status",className:"text-center",width:"10%"},{data:"balance",title:"Balance",className:"text-end"},{data:"action",title:"Actions",className:"text-center",orderable:!1,searchable:!1}],drawCallback:function(){$(".edit-btn").off("click").on("click",function(){const r=$(this).data("id");editEmployee(r)}),$(".delete-btn").off("click").on("click",function(){const r=$(this).data("id");deleteEmployee(r)})},initComplete:function(){s.current=!0}});return m.current=n,n});t.useEffect(()=>(l(),()=>{$.fn.DataTable.isDataTable("#customerTable")&&($("#customerTable").DataTable().destroy(),s.current=!1)}),[l]);const d=t.useCallback(()=>{a(!0)},[]);return e.jsxs(b,{children:[e.jsx(u,{title:"Customer Management"}),e.jsxs(i,{className:"border-0 rounded-0 shadow-sm",children:[e.jsxs(i.Header,{className:"d-flex justify-content-between align-items-center bg-transparent",children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"bi bi-people-fill me-2"}),"Customer Management"]}),e.jsxs(f,{children:[e.jsxs(o,{variant:"primary",size:"sm",onClick:d,children:[e.jsx("i",{className:"bi bi-person-plus me-1"})," Add Customer"]}),e.jsxs(o,{variant:"outline-secondary",size:"sm",children:[e.jsx("i",{className:"bi bi-download me-1"})," Export"]}),e.jsx(o,{variant:"outline-secondary",size:"sm",children:e.jsx("i",{className:"bi bi-arrow-clockwise"})})]})]}),e.jsx(i.Body,{className:"px-0",children:e.jsx(x,{size:"sm",bordered:!0,hover:!0,striped:!0,responsive:!0,id:"customerTable"})})]}),e.jsx(p,{show:c,onHide:()=>a(!1),onClose:()=>a(!1)})]})}export{A as default};
