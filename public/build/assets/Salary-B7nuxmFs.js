import{r as P,j as e,d as Ee,$ as Pe}from"./app-Dad_-i9_.js";import{I as Ae,r as ke,z as $e,n as Ce,D as Me,J as Ie,K as Be,L as Re,f as Le,M as Oe,N as He,B as qe,A as ze,b as Ge,d as Ue,e as We}from"./index-BoQ2QOGq.js";import{S as je}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{R as Z,I as he,y as ne,D as xe}from"./Footer-DlTkX6Mv.js";import{E as Ye}from"./ErpLayout-DMTrf_ot.js";import{x as ye}from"./axios-DzhX8CW2.js";import{u as Je}from"./useData-DenqEmem.js";import{M as re}from"./Modal-CgW4CF6b.js";import{F as d,C as _}from"./Form-U4ModQtX.js";import{C as T}from"./Card-Bgz6RJOm.js";import{B as oe,C as Ve}from"./Image-BqRrxf8V.js";import{u as Xe}from"./useErrorToast-CH9_Lp_Y.js";import{F as Ke,a as Qe,b as Ze}from"./index-DVp0WoSw.js";import{B as fe}from"./ButtonGroup-XXJqaYCs.js";import{T as De}from"./Table-CKJkyCIB.js";import"./iconBase-Iw_lzYxk.js";import"./CloseButton-BfcxKKqK.js";/* empty css                      */const le=(S,v)=>{const r=["January","February","March","April","May","June","July","August","September","October","November","December"].indexOf(S);return r===-1?31:new Date(v,r+1,0).getDate()},Te=(S,v=0,r=-1/0,t=1/0)=>{const c=parseFloat(S);return isNaN(c)?v:Math.max(r,Math.min(t,c))},_e=(S,v=0,r=0,t=31)=>{const c=parseInt(S);return isNaN(c)?v:Math.max(r,Math.min(t,c))},et=({field:S,index:v,onUpdate:r,onRemove:t})=>e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx(d.Control,{type:"text",placeholder:"Description",value:S.description,onChange:c=>r(v,"description",c.target.value),className:"me-2 flex-grow-1",size:"sm"}),e.jsxs(he,{size:"sm",className:"me-2",style:{width:"150px"},children:[e.jsx(he.Text,{children:"$"}),e.jsx(d.Control,{type:"number",placeholder:"Amount",value:S.amount===0?"":S.amount,onChange:c=>r(v,"amount",Te(c.target.value,0,0)),step:"0.01",min:"0",onBlur:c=>{c.target.value===""&&r(v,"amount",0)}})]}),e.jsx(oe,{variant:"outline-danger",size:"sm",onClick:()=>t(v),className:"flex-shrink-0",children:e.jsx(Me,{})})]}),ve=({title:S,fields:v,fieldType:r,onAdd:t,onUpdate:c,onRemove:A,color:L="primary"})=>e.jsxs(T,{className:`border-${L} h-100`,children:[e.jsxs(T.Header,{className:`bg-${L} text-white d-flex justify-content-between align-items-center py-2`,children:[e.jsx("h6",{className:"mb-0",children:S}),e.jsx(oe,{variant:"light",size:"sm",onClick:()=>t(r),className:"px-2 py-1",children:e.jsx(Ce,{size:14})})]}),e.jsx(T.Body,{className:"p-3",style:{maxHeight:"300px",overflowY:"auto"},children:v.length===0?e.jsx("div",{className:"text-center text-muted py-3",children:e.jsxs("small",{children:["No ",S.toLowerCase()," added yet"]})}):v.map((D,W)=>e.jsx(et,{field:D,index:W,onUpdate:(F,ee,M)=>c(r,F,ee,M),onRemove:F=>A(r,F)},W))})]}),be=({title:S,amount:v,color:r="primary",prefix:t="$",size:c="h5"})=>e.jsxs("div",{className:`text-center p-3 border rounded border-${r} bg-white`,children:[e.jsx("small",{className:"text-muted d-block",children:S}),e.jsxs("div",{className:`text-${r} mb-0 ${c==="h5"?"h5":"h4"}`,children:[t,v.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),tt=({show:S,onHide:v,onSubmit:r,formData:t,setFormData:c,selectedSalary:A,employees:L,months:D,years:W})=>{const[F,ee]=P.useState(null),[M,Y]=P.useState(!1),[ce,te]=P.useState(null),p=(()=>{parseFloat(t.basic_salary);const n=parseFloat(t.daily_rate)||0,a=parseInt(t.days_present)||0,i=n*a,m=t.allowances.reduce((b,f)=>b+(parseFloat(f.amount)||0),0),x=parseFloat(t.bonus)||0,k=parseFloat(t.quality_bonus)||0,O=(parseFloat(t.overtime_hours)||0)*(parseFloat(t.overtime_rate)||0),G=parseFloat(t.regularization)||0,J=t.other_allowances.reduce((b,f)=>b+(parseFloat(f.amount)||0),0),Q=m+x+k+O+G+J,de=i+Q,ae=t.deductions.reduce((b,f)=>b+(parseFloat(f.amount)||0),0),ue=parseFloat(t.transport_deduction)||0,V=parseFloat(t.advance_salary)||0,U=n*(parseInt(t.days_absent)||0),X=t.disciplinary_deductions.reduce((b,f)=>b+(parseFloat(f.amount)||0),0),pe=parseFloat(t.product_loss)||0,y=t.other_deductions.reduce((b,f)=>b+(parseFloat(f.amount)||0),0),C=ae+ue+V+U+X+pe+y,H=Math.max(0,de-C),s=parseFloat(t.exchange_rate)||1,g=t.currency==="CDF"?H/s:H,R=t.currency==="USD"?H*s:H;return{real_salary:i,gross_salary:de,net_salary:H,net_in_usd:g,net_in_cdf:R,total_allowances:Q,total_deductions:C,days_deduction:U}})(),N=n=>{const{name:a,value:i,type:m}=n.target;let x=i;m==="number"&&(x=Te(i,0)),c(k=>({...k,[a]:x}))};P.useEffect(()=>{if(t.month&&t.year){const n=le(t.month,t.year);parseInt(t.total_days),c(M?a=>{const i=parseInt(a.days_present)||0,m=parseInt(a.total_days)||n,x=Math.min(i,m);return{...a,days_present:x,days_absent:m-x}}:a=>{const i=parseInt(a.days_present)||0,m=Math.min(i,n);return{...a,total_days:n,days_present:m,days_absent:n-m}})}},[t.month,t.year]);const o=n=>{const a=L.find(i=>i.id===parseInt(n));if(a){ee(a);let i;M&&t.total_days?i=parseInt(t.total_days):i=t.month&&t.year?le(t.month,t.year):26;const m=a.salary&&i>0?parseFloat((a.salary/i).toFixed(6)):0;c(x=>({...x,employee_id:n,employee_code:a.code||`EMP-${n}`,basic_salary:a.salary||0,daily_rate:m,daily_transport_rate:8.27,total_days:i}))}},l=n=>{const a={description:"",amount:0};c(i=>({...i,[n]:[...i[n],a]}))},h=(n,a,i,m)=>{c(x=>{const k=[...x[n]];return k[a]={...k[a],[i]:m},{...x,[n]:k}})},E=(n,a)=>{c(i=>({...i,[n]:i[n].filter((m,x)=>x!==a)}))},I=(n,a)=>{if(n==="total_days"){const i=_e(a,0,1,31),m=parseInt(t.days_present)||0;if(M||Y(!0),c(x=>({...x,total_days:i,days_present:Math.min(m,i),days_absent:i-Math.min(m,i)})),t.basic_salary&&i>0){const x=parseFloat((t.basic_salary/i).toFixed(6));c(k=>({...k,daily_rate:x}))}}else if(n==="days_present"){const i=parseInt(t.total_days)||(t.month&&t.year?le(t.month,t.year):26),m=_e(a,0,0,i);c(x=>({...x,days_present:m,days_absent:i-m}))}};return P.useEffect(()=>{if(t.basic_salary&&t.total_days&&t.total_days>0){const n=parseFloat((t.basic_salary/t.total_days).toFixed(6));Math.abs(n-(t.daily_rate||0))>1e-6&&c(a=>({...a,daily_rate:n}))}},[t.basic_salary,t.total_days]),P.useEffect(()=>{if(S&&(Y(!1),A&&t.total_days&&Y(!0),!t.total_days&&t.month&&t.year)){const n=le(t.month,t.year);c(a=>({...a,total_days:n,days_present:a.days_present||0,days_absent:n-(a.days_present||0)}))}},[S,t.month,t.year]),e.jsxs(re,{show:S,onHide:v,size:"xl",centered:!0,dialogClassName:"modal-fullscreen-lg-down",children:[e.jsx(re.Header,{closeButton:!0,className:"bg-primary text-white",children:e.jsxs(re.Title,{children:[e.jsx(Ae,{className:"me-2"}),A?"Edit Payroll Record":"Create New Payroll"]})}),e.jsx(re.Body,{className:"p-0",style:{maxHeight:"80vh",overflowY:"auto"},children:e.jsx(d,{onSubmit:n=>{n.preventDefault(),r()},children:e.jsxs("div",{className:"p-4",children:[e.jsxs(Z,{className:"mb-4",children:[e.jsx(_,{md:6,children:e.jsxs(d.Group,{children:[e.jsxs(d.Label,{className:"fw-semibold",children:[e.jsx(ke,{className:"me-1"}),"Select Employee *"]}),e.jsxs(d.Select,{name:"employee_id",value:t.employee_id,onChange:n=>o(n.target.value),required:!0,className:"border-primary",children:[e.jsx("option",{value:"",children:"Choose employee..."}),L.map(n=>e.jsxs("option",{value:n.id,children:[n.name," -"," ",n.code||`EMP-${n.id}`,n.salary&&` ($${n.salary.toLocaleString()})`]},n.id))]})]})}),e.jsx(_,{md:6,children:e.jsxs(d.Group,{children:[e.jsx(d.Label,{className:"fw-semibold",children:"Employee Code"}),e.jsx(d.Control,{type:"text",name:"employee_code",value:t.employee_code,readOnly:!0,className:"bg-light"})]})})]}),e.jsxs(T,{className:"mb-4",children:[e.jsx(T.Header,{className:"bg-light",children:e.jsx("h6",{className:"mb-0",children:"Period & Basic Information"})}),e.jsx(T.Body,{children:e.jsxs(Z,{className:"g-3",children:[e.jsx(_,{md:3,children:e.jsxs(d.Group,{children:[e.jsx(d.Label,{children:"Month *"}),e.jsx(d.Select,{name:"month",value:t.month,onChange:N,required:!0,children:D.map(n=>e.jsx("option",{value:n,children:n},n))})]})}),e.jsx(_,{md:3,children:e.jsxs(d.Group,{children:[e.jsx(d.Label,{children:"Year *"}),e.jsx(d.Select,{name:"year",value:t.year,onChange:N,required:!0,children:W.map(n=>e.jsx("option",{value:n,children:n},n))})]})}),e.jsx(_,{md:3,children:e.jsxs(d.Group,{children:[e.jsx(d.Label,{children:"Currency"}),e.jsxs(d.Select,{name:"currency",value:t.currency,onChange:N,children:[e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"CDF",children:"CDF (FC)"})]})]})}),e.jsx(_,{md:3,children:e.jsxs(d.Group,{children:[e.jsx(d.Label,{children:"Status"}),e.jsxs(d.Select,{name:"status",value:t.status,onChange:N,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"paid",children:"Paid"})]})]})})]})})]}),e.jsxs(Z,{className:"mb-4",children:[e.jsx(_,{md:8,children:e.jsxs(T,{className:"h-100",children:[e.jsxs(T.Header,{className:"bg-light",children:[e.jsx("h6",{className:"mb-0",children:"Salary Calculation"}),e.jsx("small",{className:"text-muted",children:"Using full precision for accurate calculations"})]}),e.jsx(T.Body,{children:e.jsxs(Z,{className:"g-3",children:[e.jsx(_,{md:6,children:e.jsxs(d.Group,{children:[e.jsx(d.Label,{children:"Basic Salary"}),e.jsxs(he,{children:[e.jsx(he.Text,{children:"$"}),e.jsx(d.Control,{type:"number",name:"basic_salary",value:t.basic_salary===0?"":t.basic_salary,onChange:N,step:"0.01",min:"0",onBlur:n=>{n.target.value===""&&c(a=>({...a,basic_salary:0}))}})]}),e.jsx(d.Text,{className:"text-muted",children:"Monthly salary"})]})}),e.jsx(_,{md:6,children:e.jsxs(d.Group,{children:[e.jsx(d.Label,{children:"Daily Rate"}),e.jsxs(he,{children:[e.jsx(he.Text,{children:"$"}),e.jsx(d.Control,{type:"number",name:"daily_rate",value:t.daily_rate===0?"":parseFloat(t.daily_rate).toFixed(6),onChange:N,step:"0.000001",min:"0",onBlur:n=>{n.target.value===""&&c(a=>({...a,daily_rate:0}))}})]}),e.jsxs(d.Text,{className:"text-muted",children:["$",t.basic_salary||0," ","รท"," ",t.total_days||"--"," ","days",e.jsx("br",{}),"Precise: $",(t.daily_rate||0).toFixed(6)," ","per day"]})]})})]})})]})}),e.jsx(_,{md:4,children:e.jsxs(T,{className:"h-100",children:[e.jsxs(T.Header,{className:"bg-light",children:[e.jsxs("h6",{className:"mb-0",children:[e.jsx($e,{className:"me-1"}),"Attendance"]}),e.jsxs("small",{className:"text-muted",children:["Month has:"," ",le(t.month,t.year)," ","days",M&&e.jsx("span",{className:"text-warning ms-1",children:"(Custom)"})]})]}),e.jsx(T.Body,{children:e.jsxs(Z,{className:"g-2",children:[e.jsx(_,{md:6,children:e.jsxs(d.Group,{children:[e.jsx(d.Label,{children:"Total Days *"}),e.jsx(d.Control,{type:"number",value:t.total_days,onChange:n=>I("total_days",n.target.value),min:"1",max:"31",required:!0,onBlur:n=>{if(!n.target.value||parseInt(n.target.value)<1){const a=le(t.month,t.year);c(i=>({...i,total_days:a,days_absent:a-(i.days_present||0)})),Y(!1)}}}),e.jsxs(d.Text,{className:"text-muted",children:["Working days this month",M&&" (manually set)"]})]})}),e.jsx(_,{md:6,children:e.jsxs(d.Group,{children:[e.jsx(d.Label,{children:"Present"}),e.jsx(d.Control,{type:"number",value:t.days_present,onChange:n=>I("days_present",n.target.value),min:"0",max:t.total_days||le(t.month,t.year),required:!0,onBlur:n=>{(!n.target.value||parseInt(n.target.value)<0)&&c(a=>({...a,days_present:0,days_absent:a.total_days||le(t.month,t.year)}))}})]})}),e.jsx(_,{md:12,children:e.jsxs(d.Group,{children:[e.jsx(d.Label,{children:"Absent"}),e.jsx(d.Control,{type:"number",value:t.days_absent,readOnly:!0,className:"bg-light"}),e.jsxs(d.Text,{className:"text-muted",children:["Daily rate deduction: $",(t.daily_rate||0)*(t.days_absent||0)]})]})})]})})]})})]}),e.jsxs(Z,{className:"mb-4",children:[e.jsx(_,{md:6,children:e.jsx(ve,{title:"Allowances",fields:t.allowances,fieldType:"allowances",onAdd:l,onUpdate:h,onRemove:E,color:"success"})}),e.jsx(_,{md:6,children:e.jsx(ve,{title:"Deductions",fields:t.deductions,fieldType:"deductions",onAdd:l,onUpdate:h,onRemove:E,color:"danger"})})]}),e.jsxs(T,{className:"mb-4 border-primary",children:[e.jsx(T.Header,{className:"bg-primary text-white",children:e.jsx("h6",{className:"mb-0",children:"Salary Summary"})}),e.jsx(T.Body,{children:e.jsxs(Z,{className:"g-3",children:[e.jsx(_,{md:3,children:e.jsx(be,{title:"Real Salary",amount:p.real_salary,color:"info",prefix:"$"})}),e.jsx(_,{md:3,children:e.jsx(be,{title:"Total Allowances",amount:p.total_allowances,color:"success",prefix:"+$"})}),e.jsx(_,{md:3,children:e.jsx(be,{title:"Total Deductions",amount:p.total_deductions,color:"danger",prefix:"-$"})}),e.jsx(_,{md:3,children:e.jsxs("div",{className:"text-center p-3 border rounded border-primary bg-white",children:[e.jsx("small",{className:"text-muted d-block",children:"Net Salary"}),e.jsxs("h4",{className:"text-primary mb-1",children:["$",p.net_salary.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:6})]}),e.jsxs("small",{className:"text-muted",children:["CDF:"," ",p.net_in_cdf.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})})]}),e.jsxs(T,{children:[e.jsx(T.Header,{className:"bg-light",children:e.jsx("h6",{className:"mb-0",children:"Additional Information"})}),e.jsx(T.Body,{children:e.jsx(Z,{children:e.jsx(_,{md:12,children:e.jsxs(d.Group,{children:[e.jsx(d.Label,{children:"Notes"}),e.jsx(d.Control,{as:"textarea",rows:2,name:"notes",value:t.notes,onChange:N,placeholder:"Additional notes or comments..."})]})})})})]})]})})}),e.jsxs(re.Footer,{className:"bg-light",children:[e.jsx(oe,{variant:"secondary",onClick:v,children:"Cancel"}),e.jsx(oe,{variant:"primary",type:"submit",onClick:()=>r(),children:A?"Update Payroll":"Save Payroll"}),M&&e.jsx(oe,{variant:"outline-warning",size:"sm",onClick:()=>{const n=le(t.month,t.year);c(a=>({...a,total_days:n,days_present:Math.min(a.days_present||0,n),days_absent:n-Math.min(a.days_present||0,n)})),Y(!1)},children:"Reset to Month Default"})]})]})};var ge={exports:{}},st=ge.exports,Ne;function nt(){return Ne||(Ne=1,function(S,v){(function(r,t){S.exports=t(Ee())})(typeof self<"u"?self:st,function(r){return function(){var t={155:function(o){o.exports=r}},c={};function A(o){var l=c[o];if(l!==void 0)return l.exports;var h=c[o]={exports:{}};return t[o](h,h.exports,A),h.exports}A.d=function(o,l){for(var h in l)A.o(l,h)&&!A.o(o,h)&&Object.defineProperty(o,h,{enumerable:!0,get:l[h]})},A.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},A.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var L={};A.r(L),A.d(L,{useReactToPrint:function(){return N}});var D=A(155);const W="printWindow";function F({level:o="error",messages:l,suppressErrors:h=!1}){h||(o==="error"?console.error(l):o==="warning"?console.warn(l):console.debug(l))}function ee(o,l){if(l||!o){const h=document.getElementById(W);h&&document.body.removeChild(h)}}function M(o){return o instanceof Error?o:new Error("Unknown Error")}function Y(o,l){const{documentTitle:h,onAfterPrint:E,onPrintError:I,preserveAfterPrint:n,print:a,suppressErrors:i}=l;setTimeout(()=>{var m,x;if(o.contentWindow){let k=function(){E==null||E(),ee(n)};if(o.contentWindow.focus(),a)a(o).then(k).catch(O=>{I?I("print",M(O)):F({messages:["An error was thrown by the specified `print` function"],suppressErrors:i})});else{if(o.contentWindow.print){const O=(x=(m=o.contentDocument)===null||m===void 0?void 0:m.title)!==null&&x!==void 0?x:"",G=o.ownerDocument.title;h&&(o.ownerDocument.title=h,o.contentDocument&&(o.contentDocument.title=h)),o.contentWindow.print(),h&&(o.ownerDocument.title=G,o.contentDocument&&(o.contentDocument.title=O))}else F({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:i});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(O=>{var G,J;return((J=(G=navigator.userAgent)!==null&&G!==void 0?G:navigator.vendor)!==null&&J!==void 0?J:"opera"in window&&window.opera).match(O)})?setTimeout(k,500):k()}}else F({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:i})},500)}function ce(o){const l=[],h=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,null);let E=h.nextNode();for(;E;)l.push(E),E=h.nextNode();return l}function te(o,l,h){const E=ce(o),I=ce(l);if(E.length===I.length)for(let n=0;n<E.length;n++){const a=E[n],i=I[n],m=a.shadowRoot;if(m!==null){const x=i.attachShadow({mode:m.mode});x.innerHTML=m.innerHTML,te(m,x,h)}}else F({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",o,l],suppressErrors:h})}const me=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function p(o,l,h,E){var I,n,a,i,m;const{contentNode:x,clonedContentNode:k,clonedImgNodes:O,clonedVideoNodes:G,numResourcesToLoad:J,originalCanvasNodes:Q}=h,{bodyClass:de,fonts:ae,ignoreGlobalStyles:ue,pageStyle:V,nonce:U,suppressErrors:X,copyShadowRoots:pe}=E;o.onload=null;const y=(I=o.contentDocument)!==null&&I!==void 0?I:(n=o.contentWindow)===null||n===void 0?void 0:n.document;if(y){const C=y.body.appendChild(k);pe&&te(x,C,!!X),ae&&(!((a=o.contentDocument)===null||a===void 0)&&a.fonts&&(!((i=o.contentWindow)===null||i===void 0)&&i.FontFace)?ae.forEach(j=>{const u=new FontFace(j.family,j.source,{weight:j.weight,style:j.style});o.contentDocument.fonts.add(u),u.loaded.then(()=>{l(u)}).catch(q=>{l(u,["Failed loading the font:",u,"Load error:",M(q)])})}):(ae.forEach(j=>{l(j)}),F({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:X})));const H=V??me,s=y.createElement("style");U&&(s.setAttribute("nonce",U),y.head.setAttribute("nonce",U)),s.appendChild(y.createTextNode(H)),y.head.appendChild(s),de&&y.body.classList.add(...de.split(" "));const g=y.querySelectorAll("canvas");for(let j=0;j<Q.length;++j){const u=Q[j],q=g[j];if(q===void 0){F({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",u],suppressErrors:X});continue}const w=q.getContext("2d");w&&w.drawImage(u,0,0)}for(let j=0;j<O.length;j++){const u=O[j],q=u.getAttribute("src");if(q){const w=new Image;w.onload=()=>{l(u)},w.onerror=(B,z,se,K,ie)=>{l(u,["Error loading <img>",u,"Error",ie])},w.src=q}else l(u,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',u])}for(let j=0;j<G.length;j++){const u=G[j];u.preload="auto";const q=u.getAttribute("poster");if(q){const w=new Image;w.onload=()=>{l(u)},w.onerror=(B,z,se,K,ie)=>{l(u,["Error loading video poster",q,"for video",u,"Error:",ie])},w.src=q}else u.readyState>=2?l(u):u.src?(u.onloadeddata=()=>{l(u)},u.onerror=(w,B,z,se,K)=>{l(u,["Error loading video",u,"Error",K])},u.onstalled=()=>{l(u,["Loading video stalled, skipping",u])}):l(u,["Error loading video, `src` is empty",u])}const R="select",b=x.querySelectorAll(R),f=y.querySelectorAll(R);for(let j=0;j<b.length;j++)f[j].value=b[j].value;if(!ue){const j=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let u=0,q=j.length;u<q;++u){const w=j[u];if(w.tagName.toLowerCase()==="style"){const B=y.createElement(w.tagName),z=w.sheet;if(z){let se="";try{const K=z.cssRules.length;for(let ie=0;ie<K;++ie)typeof z.cssRules[ie].cssText=="string"&&(se+=`${z.cssRules[ie].cssText}\r
`)}catch(K){F({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",w,`Original error: ${M(K).message}`],level:"warning"})}B.setAttribute("id",`react-to-print-${u}`),U&&B.setAttribute("nonce",U),B.appendChild(y.createTextNode(se)),y.head.appendChild(B)}}else if(w.getAttribute("href"))if(w.hasAttribute("disabled"))F({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",w],level:"warning"}),l(w);else{const B=y.createElement(w.tagName);for(let z=0,se=w.attributes.length;z<se;++z){const K=w.attributes[z];K&&B.setAttribute(K.nodeName,(m=K.nodeValue)!==null&&m!==void 0?m:"")}B.onload=()=>{l(B)},B.onerror=(z,se,K,ie,Fe)=>{l(B,["Failed to load",B,"Error:",Fe])},U&&B.setAttribute("nonce",U),y.head.appendChild(B)}else F({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",w],level:"warning"}),l(w)}}}J===0&&Y(o,E)}function N({bodyClass:o,contentRef:l,copyShadowRoots:h,documentTitle:E,fonts:I,ignoreGlobalStyles:n,nonce:a,onAfterPrint:i,onBeforePrint:m,onPrintError:x,pageStyle:k,preserveAfterPrint:O,print:G,printIframeProps:J,suppressErrors:Q}){return(0,D.useCallback)(ae=>{function ue(){const V={bodyClass:o,contentRef:l,copyShadowRoots:h,documentTitle:E,fonts:I,ignoreGlobalStyles:n,nonce:a,onAfterPrint:i,onPrintError:x,pageStyle:k,preserveAfterPrint:O,print:G,suppressErrors:Q},U=function(y){const C=document.createElement("iframe");return C.width=`${document.documentElement.clientWidth}px`,C.height=`${document.documentElement.clientHeight}px`,C.style.position="absolute",C.style.top=`-${document.documentElement.clientHeight+100}px`,C.style.left=`-${document.documentElement.clientWidth+100}px`,C.id=W,C.srcdoc="<!DOCTYPE html>",y&&(y.allow&&(C.allow=y.allow),y.referrerPolicy!==void 0&&(C.referrerPolicy=y.referrerPolicy),y.sandbox!==void 0&&(C.sandbox=y.sandbox)),C}(J),X=function(y,C){const{contentRef:H,fonts:s,ignoreGlobalStyles:g,suppressErrors:R}=C,b=function({contentRef:B,optionalContent:z,suppressErrors:se}){return z&&typeof z=="function"?(B&&F({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),z()):B?B.current:void F({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:se})}({contentRef:H,optionalContent:y,suppressErrors:R});if(!b)return;const f=b.cloneNode(!0),j=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),u=f.querySelectorAll("img"),q=f.querySelectorAll("video"),w=s?s.length:0;return{contentNode:b,clonedContentNode:f,clonedImgNodes:u,clonedVideoNodes:q,numResourcesToLoad:(g?0:j.length)+u.length+q.length+w,originalCanvasNodes:b.querySelectorAll("canvas")}}(ae,V);if(!X)return void F({messages:["There is nothing to print"],suppressErrors:Q});const pe=function(y,C,H){const{suppressErrors:s}=y,g=[],R=[];return function(b,f){g.includes(b)?F({level:"debug",messages:["Tried to mark a resource that has already been handled",b],suppressErrors:s}):(f?(F({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...f],suppressErrors:s}),R.push(b)):g.push(b),g.length+R.length===C&&Y(H,y))}}(V,X.numResourcesToLoad,U);(function(y,C,H,s){y.onload=()=>{p(y,C,H,s)},document.body.appendChild(y)})(U,pe,X,V)}ee(O,!0),m?m().then(()=>{ue()}).catch(V=>{x==null||x("onBeforePrint",M(V))}):ue()},[o,l,h,E,I,n,a,i,m,x,k,O,G,Q])}return L}()})}(ge)),ge.exports}var rt=nt();const ot=({show:S,onHide:v,salaryData:r,employee:t})=>{const c=P.useRef(null),A=rt.useReactToPrint({contentRef:c,documentTitle:`Payslip_${(t==null?void 0:t.name)||"Employee"}_${(r==null?void 0:r.month)||""}_${(r==null?void 0:r.year)||""}`}),L=()=>{let p=0;return r!=null&&r.basic_salary&&(p+=parseFloat(r.basic_salary)),r!=null&&r.allowances&&r.allowances.forEach(N=>{p+=parseFloat(N.amount||0)}),p},D=()=>{let p=0;return r!=null&&r.deductions&&r.deductions.forEach(N=>{p+=parseFloat(N.amount||0)}),p},W=()=>{const p=(r==null?void 0:r.gross_salary)||L(),N=(r==null?void 0:r.total_deductions)||D();return p-N},F=()=>{var N;const p=[];return r!=null&&r.basic_salary&&p.push({description:"Basic Salary",amount:parseFloat(r.basic_salary)}),r!=null&&r.real_salary&&p.push({description:"Worked Days Salary",amount:parseFloat(r.real_salary),details:r.days_present?`${r.days_present} days ร $${parseFloat(r.real_salary/r.days_present||0).toFixed(2)}`:null}),(N=r==null?void 0:r.allowances)!=null&&N.length&&r.allowances.forEach((o,l)=>{p.push({description:o.description||`Allowance ${l+1}`,amount:parseFloat(o.amount||0)})}),p},ee=()=>{var N;const p=[];return(N=r==null?void 0:r.deductions)!=null&&N.length&&r.deductions.forEach((o,l)=>{p.push({description:o.description||`Deduction ${l+1}`,amount:parseFloat(o.amount||0)})}),p};if(!r)return null;const M=F(),Y=ee(),ce=L(),te=D(),me=W();return e.jsxs(re,{show:S,onHide:v,size:"lg",centered:!0,children:[e.jsx(re.Header,{closeButton:!0,children:e.jsxs(re.Title,{children:[e.jsx(Ie,{className:"me-2"}),t==null?void 0:t.name," Payslip (",r.month," ",r.year,")"]})}),e.jsx(re.Body,{style:{maxHeight:"70vh",overflowY:"auto"},children:e.jsxs("div",{id:"printable-content",ref:c,children:[e.jsx("style",{children:`
                        @media print {
                            body * { visibility: hidden; }
                            #printable-content, #printable-content * {
                                visibility: visible;
                            }
                            #printable-content {
                                position: absolute;
                                left: 0;
                                top: 0;
                                width: 60%;
                                padding: 2px;
                                margin: 20px;
                                background: #fff;
                                border: 1px dashed #000;
                            }
                            .main-payslip{ 
                                width: 100%;
                                padding: 10px;
                                background: #fff;
                                border: 1px solid #000;
                            }
                            .no-print { display: none !important; }
                        }

                        .table { width: 100%; border-collapse: collapse; }
                        .table td, .table th { border: none; padding: 5px 0; }
                        .logo-td { width: 30%; }
                        .company-logo { max-width: 150px; }
                        .company-name { font-weight: bold; font-size: 1.5rem; }
                        .payslip-period { font-style: italic; }
                        .employee-name-td { width: 70%; }
                        .border-3 { padding-bottom: 1px; }
                        `}),e.jsxs("div",{className:"main-payslip",children:[e.jsx("table",{className:"table",children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"logo-td",children:e.jsx("img",{src:"/storage/images/logos/logo.png",className:"company-logo",alt:"Company Logo"})}),e.jsxs("td",{children:[e.jsx("h5",{className:"company-name m-0",children:"DSCOM Technologies"}),e.jsxs("small",{className:"payslip-period",children:["Pay Slip Copy (",r.month,"-",r.year,")"]})]})]})})}),e.jsxs("div",{className:"my-3",children:[e.jsx("div",{className:"border-top border-3 border-dark"}),e.jsx("div",{className:"border-top border-1 border-dark"})]}),e.jsx("table",{className:"table",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Name:"}),e.jsx("td",{className:"employee-name-td",children:(t==null?void 0:t.name)||"Employee Name"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Employee ID:"}),e.jsx("td",{children:r.employee_code||(t==null?void 0:t.employee_code)||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Designation:"}),e.jsx("td",{children:(t==null?void 0:t.designation)||r.designation||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Department:"}),e.jsx("td",{children:(t==null?void 0:t.department)||r.department||"N/A"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Tax PIN:"}),e.jsx("td",{children:(t==null?void 0:t.tax_pin)||"N/A"})]})]})}),e.jsx("div",{className:"text-center fw-bold mb-2",children:"Cash Transfer | No Bank Account"}),e.jsx("table",{className:"table mb-0",children:e.jsxs("tbody",{children:[M.map((p,N)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[p.description,p.details&&e.jsx("div",{className:"text-muted small",children:p.details})]}),e.jsxs("td",{className:"text-end",children:[r.currency==="CDF"?"CDF ":"$",p.amount.toLocaleString("en-US",{minimumFractionDigits:2})]})]},`earnings-${N}`)),e.jsxs("tr",{className:"fw-bold",children:[e.jsx("td",{children:"TOTAL EARNINGS"}),e.jsxs("td",{className:"text-end",children:[r.currency==="CDF"?"CDF ":"$",ce.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),Y.map((p,N)=>e.jsxs("tr",{children:[e.jsx("td",{children:p.description}),e.jsxs("td",{className:"text-end",children:[r.currency==="CDF"?"CDF ":"$",p.amount.toLocaleString("en-US",{minimumFractionDigits:2})]})]},`deductions-${N}`)),e.jsxs("tr",{className:"fw-bold",children:[e.jsx("td",{children:"TOTAL DEDUCTIONS"}),e.jsxs("td",{className:"text-end",children:[r.currency==="CDF"?"CDF ":"$",te.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),e.jsxs("tr",{className:"fw-bold",children:[e.jsxs("td",{children:["NET PAY: ",r.month," ",r.year]}),e.jsxs("td",{className:"text-end",children:[r.currency==="CDF"?"CDF ":"$",me.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})}),e.jsxs("div",{className:"border-top border-dark mt-3 pt-2 text-center text-muted",children:[e.jsxs("small",{children:["Status: ",r.status]}),e.jsx("span",{className:"mx-2",children:"|"}),e.jsxs("small",{children:["Date Printed: ",new Date().toLocaleDateString()]})]})]})]})}),e.jsx(re.Footer,{className:"no-print bg-light",children:e.jsxs("div",{className:"d-flex justify-content-between w-100",children:[e.jsxs(oe,{variant:"outline-primary",onClick:A,children:[e.jsx(Be,{className:"me-1"})," Print Payslip"]}),e.jsx(oe,{variant:"secondary",onClick:v,children:"Close"})]})})]})},at=({title:S,value:v,subtitle:r,icon:t,color:c,trend:A})=>e.jsx(T,{className:`border-0 shadow-sm hover-lift bg-${c} bg-opacity-10`,children:e.jsx(T.Body,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"text-muted mb-2",children:S}),e.jsx("h3",{className:"mb-0",children:v}),e.jsx("small",{className:`text-${A}`,children:r})]}),e.jsx("div",{className:`avatar-sm p-1 bg-${c} bg-opacity-10 rounded-circle d-flex align-items-center justify-content-center`,children:e.jsx(t,{className:`text-${c}`,size:24})})]})})}),we=["January","February","March","April","May","June","July","August","September","October","November","December"],Se={employee_id:"",employee_code:"",month:new Date().toLocaleString("default",{month:"long"}),year:new Date().getFullYear(),basic_salary:0,daily_rate:0,daily_transport_rate:8.27,total_days:26,days_present:26,days_absent:0,allowances:[],bonus:0,quality_bonus:0,overtime_hours:0,overtime_rate:0,regularization:0,other_allowances:[],deductions:[],transport_deduction:0,advance_salary:0,disciplinary_deductions:[],product_loss:0,other_deductions:[],status:"pending",payment_date:"",notes:"",currency:"USD",exchange_rate:1,real_salary:0,gross_salary:0,net_salary:0,net_in_usd:0,net_in_cdf:0},it={total:0,paid:0,processing:0,pending:0,totalAmount:0,avgSalary:0};function Ct(){var H;const{showErrorToast:S}=Xe(),{employees:v}=Je(),[r,t]=P.useState(""),[c,A]=P.useState("all"),[L,D]=P.useState("all"),[W,F]=P.useState(new Date().getFullYear().toString()),[ee,M]=P.useState(!1),[Y,ce]=P.useState(!1),[te,me]=P.useState(null),[p,N]=P.useState(null),[o,l]=P.useState(it),[h,E]=P.useState(Se),I=P.useRef(!1),n=P.useRef(null),a=new Date().getFullYear(),i=Array.from({length:11},(s,g)=>a-5+g),m=P.useCallback(()=>({processing:!0,serverSide:!0,ajax:{url:route("salary.index"),type:"GET",data:function(s){s.search=r,s.status=c!=="all"?c:"",s.month=L!=="all"?L:"",s.year=W}},columns:[{data:"DT_RowIndex",title:"#",className:"text-center",width:"1%",orderable:!1,searchable:!1},{data:"employee",title:"Employee",className:"text-start"},{data:"period",title:"Period",className:"text-start"},{data:"real_salary",title:"Real Salary",className:"text-end"},{data:"gross_salary",title:"Gross Salary",className:"text-end"},{data:"net_salary",title:"Net Salary",className:"text-end"},{data:"status",title:"Status",className:"text-center",width:"10%"},{data:"action",title:"Actions",className:"text-center",width:"15%",orderable:!1,searchable:!1}],drawCallback:function(){x(),O()},initComplete:function(){I.current=!0,O()},language:{emptyTable:'<div class="text-center py-5"><i class="bi bi-inbox display-4 text-muted"></i><p class="mt-2">No salary records found</p></div>',zeroRecords:'<div class="text-center py-5"><i class="bi bi-search display-4 text-muted"></i><p class="mt-2">No matching records found</p></div>'},responsive:!0,order:[[0,"desc"]]}),[r,c,L,W]),x=()=>{$(".edit-btn").off("click").on("click",s=>{const g=$(s.currentTarget).data("id");Q(g)}),$(".view-btn").off("click").on("click",s=>{const g=$(s.currentTarget).data("id");de(g)}),$(".pay-btn").off("click").on("click",s=>{const g=$(s.currentTarget).data("id");ae(g)}),$(".delete-btn").off("click").on("click",s=>{const g=$(s.currentTarget).data("id");ue(g)})},k=P.useCallback(()=>{if(I.current)return;$.fn.DataTable.isDataTable("#salaryTable")&&$("#salaryTable").DataTable().destroy();const s=$("#salaryTable").DataTable(m());return n.current=s,s},[m]),O=async()=>{try{const s=await ye.get(route("salary.statistics"));s.data.success&&l(s.data.data)}catch(s){console.error("Failed to fetch statistics:",s)}};P.useEffect(()=>{I.current&&n.current&&n.current.ajax.reload()},[r,c,L,W]),P.useEffect(()=>(k(),()=>{$.fn.DataTable.isDataTable("#salaryTable")&&($("#salaryTable").DataTable().destroy(),I.current=!1)}),[k]);const G=async()=>{try{const s={...h,allowances:JSON.stringify(h.allowances),other_allowances:JSON.stringify(h.other_allowances),deductions:JSON.stringify(h.deductions),disciplinary_deductions:JSON.stringify(h.disciplinary_deductions),other_deductions:JSON.stringify(h.other_deductions)},g=te?route("salary.update",te.id):route("salary.store"),b=await ye[te?"put":"post"](g,s);b.data.success&&(ne.success(b.data.message),M(!1),J(),n.current&&n.current.ajax.reload())}catch(s){S(s)}},J=()=>{E(Se),me(null)},Q=async s=>{try{const R=(await ye.get(route("salary.show",s))).data.data;me(R),E(V(R)),M(!0)}catch(g){ne.error("Failed to load salary details"),console.error(g)}},de=async s=>{try{const g=await ye.get(route("salary.show",s));N(g.data.data),ce(!0)}catch{ne.error("Failed to load salary details")}},ae=s=>{je.fire({title:"Mark as Paid?",text:"Are you sure you want to mark this salary as paid?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, mark as paid",cancelButtonText:"Cancel"}).then(async g=>{var R,b;if(g.isConfirmed)try{const f=await ye.post(route("salary.mark-paid",s));f.data.success&&(ne.success(f.data.message),n.current&&n.current.ajax.reload())}catch(f){ne.error(((b=(R=f.response)==null?void 0:R.data)==null?void 0:b.message)||"Failed to mark as paid")}})},ue=s=>{je.fire({title:"Delete Salary Record?",text:"This action cannot be undone!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it",cancelButtonText:"Cancel",confirmButtonColor:"#dc3545"}).then(async g=>{var R,b;if(g.isConfirmed)try{const f=await ye.delete(route("salary.destroy",s));f.data.success&&(ne.success(f.data.message),n.current&&n.current.ajax.reload())}catch(f){ne.error(((b=(R=f.response)==null?void 0:R.data)==null?void 0:b.message)||"Failed to delete salary")}})},V=s=>({employee_id:s.user_id,employee_code:s.employee_code||`EMP-${s.user_id}`,month:s.month,year:s.year,basic_salary:s.basic_salary||0,daily_rate:s.daily_rate||0,daily_transport_rate:s.daily_transport_rate||8.27,total_days:s.total_days||26,days_present:s.days_present||26,days_absent:s.days_absent||0,allowances:s.allowances||[],bonus:s.bonus||0,quality_bonus:s.quality_bonus||0,overtime_hours:s.overtime_hours||0,overtime_rate:s.overtime_rate||0,regularization:s.regularization||0,other_allowances:s.other_allowances||[],deductions:s.deductions||[],transport_deduction:s.transport_deduction||0,advance_salary:s.advance_salary||0,disciplinary_deductions:s.disciplinary_deductions||[],product_loss:s.product_loss||0,other_deductions:s.other_deductions||[],status:s.status,payment_date:s.payment_date||"",notes:s.notes||"",currency:s.currency||"USD",exchange_rate:s.exchange_rate||1,real_salary:s.real_salary||0,gross_salary:s.gross_salary||0,net_salary:s.net_salary||0,net_in_usd:s.net_in_usd||0,net_in_cdf:s.net_in_cdf||0}),U=()=>{n.current&&(n.current.ajax.reload(),ne.success("Salary list refreshed!"))},X=()=>{ne.info("Export feature coming soon!")},pe=()=>{ne.info("Print feature coming soon!")},y=()=>{M(!1),J()},C=[{title:"Total Payroll",value:`$${(H=o==null?void 0:o.totalAmount)==null?void 0:H.toLocaleString()}`,subtitle:`${o.total} records`,icon:Re,color:"primary",trend:"up"},{title:"Paid Salaries",value:o.paid,subtitle:"Completed",icon:Le,color:"success",trend:"success"},{title:"Processing",value:o.processing,subtitle:"In Progress",icon:Oe,color:"warning",trend:"warning"},{title:"Pending",value:o.pending,subtitle:"Awaiting",icon:He,color:"danger",trend:"danger"}];return e.jsxs(Ye,{children:[e.jsx(Pe,{title:"Payroll Management"}),e.jsxs(Ve,{fluid:!0,className:"py-3",children:[e.jsxs(Z,{className:"mb-4 align-items-center",children:[e.jsxs(_,{md:6,children:[e.jsxs("h3",{className:"fw-bold text-primary mb-2",children:[e.jsx(qe,{className:"me-2"}),"Payroll Management"]}),e.jsx("p",{className:"text-muted mb-0",children:"Manage employee salaries, allowances, deductions, and generate payroll reports"})]}),e.jsx(_,{md:6,className:"text-md-end",children:e.jsxs(fe,{className:"mb-2 mb-md-0",children:[e.jsxs(oe,{variant:"outline-primary",onClick:()=>M(!0),className:"d-flex align-items-center",children:[e.jsx(Ce,{className:"me-1"}),"New Payroll"]}),e.jsxs(oe,{variant:"primary",className:"d-flex align-items-center",children:[e.jsx(ze,{className:"me-1"}),"Import Excel"]})]})})]}),e.jsx(Z,{className:"mb-4",children:C.map((s,g)=>e.jsx(_,{xl:3,lg:6,md:6,sm:12,className:"mb-3",children:e.jsx(at,{...s})},g))}),e.jsxs(T,{className:"border-0 shadow-sm",children:[e.jsx(T.Header,{className:"bg-light py-3",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:"Payroll Records"}),e.jsxs("small",{className:"text-muted",children:["Showing ",o.total," records"]})]})}),e.jsx(T.Header,{children:e.jsxs(Z,{className:"g-3 align-items-end",children:[e.jsx(_,{lg:3,md:6,children:e.jsxs(he,{children:[e.jsx(he.Text,{className:"bg-light",children:e.jsx(Ge,{})}),e.jsx(d.Control,{type:"text",placeholder:"Search employee...",value:r,onChange:s=>t(s.target.value),className:"border-start-0"})]})}),e.jsx(_,{lg:2,md:4,children:e.jsxs(d.Select,{value:c,onChange:s=>A(s.target.value),children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"pending",children:"Pending"})]})}),e.jsx(_,{lg:2,md:4,children:e.jsxs(d.Select,{value:L,onChange:s=>D(s.target.value),children:[e.jsx("option",{value:"all",children:"All Months"}),we.map(s=>e.jsx("option",{value:s,children:s},s))]})}),e.jsx(_,{lg:2,md:4,children:e.jsx(d.Select,{value:W,onChange:s=>F(s.target.value),children:i.map(s=>e.jsx("option",{value:s,children:s},s))})}),e.jsx(_,{lg:3,md:6,children:e.jsxs(fe,{className:"d-flex gap-2",children:[e.jsxs(oe,{variant:"outline-info",onClick:U,className:"d-flex align-items-center rounded",children:[e.jsx(Ue,{className:"me-1"}),"Refresh"]}),e.jsxs(xe,{children:[e.jsxs(xe.Toggle,{variant:"outline-secondary",className:"d-flex align-items-center",children:[e.jsx(We,{className:"me-1"}),"Export"]}),e.jsxs(xe.Menu,{children:[e.jsxs(xe.Item,{onClick:()=>X(),children:[e.jsx(Ke,{className:"me-2 text-success"})," ","Excel"]}),e.jsxs(xe.Item,{onClick:()=>X(),children:[e.jsx(Qe,{className:"me-2 text-danger"})," ","PDF"]}),e.jsxs(xe.Item,{onClick:pe,children:[e.jsx(Ze,{className:"me-2 text-secondary"})," ","Print"]})]})]})]})})]})}),e.jsx(T.Body,{className:"p-0",children:e.jsx("div",{className:"table-responsive",children:e.jsx(De,{hover:!0,className:"align-middle mb-0",id:"salaryTable"})})})]})]}),e.jsx(tt,{show:ee,onHide:y,onSubmit:G,formData:h,setFormData:E,selectedSalary:te,employees:v,months:we,years:i}),e.jsx(ot,{show:Y,onHide:()=>ce(!1),salaryData:p,employee:v.find(s=>s.id===(p==null?void 0:p.user_id))})]})}export{Ct as default};
