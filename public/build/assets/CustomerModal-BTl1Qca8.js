import{j as e,m as h}from"./app-D3iqUWwb.js";import{u as x}from"./formik.esm-CYfCehtm.js";import{c as p,a as s}from"./index.esm-BrprmfEZ.js";import{R as b,y as j}from"./Footer-DbC6yI14.js";import{u as C}from"./useErrorToast-Dmep0Zzn.js";import{x as v}from"./axios-CEv2nlh7.js";import{M as n}from"./Modal-Cmg1lugE.js";import{F as a,C as o}from"./Form-K45sZDdk.js";import{B as d}from"./Image-C5Bjh-OB.js";const y=p().shape({name:s().required("Customer name is required").max(255,"Customer name must not exceed 255 characters"),email:s().email("Invalid email address").max(255,"Email must not exceed 255 characters"),phone:s().max(20,"Phone number must not exceed 20 characters"),tax_number:s().max(50,"Tax number must not exceed 50 characters"),address:s().max(500,"Address must not exceed 500 characters")});function w({show:i,onClose:l}){const{showErrorToast:m}=C(),r=x({initialValues:{name:"",email:"",phone:"",tax_number:"",address:""},validationSchema:y,onSubmit:async(c,{setSubmitting:u,resetForm:f})=>{try{(await v.post(route("customers.store"),c)).data.success&&(j.success("Customer added successfully."),l(),h.reload())}catch(t){m(t)}finally{u(!1)}}});return e.jsxs(n,{show:i,onHide:l,size:"lg",centered:!0,children:[e.jsx(n.Header,{closeButton:!0,className:"border-bottom-0",children:e.jsx(n.Title,{className:"h5",children:"Add New Customer"})}),e.jsxs(a,{onSubmit:r.handleSubmit,noValidate:!0,children:[e.jsx(n.Body,{className:"pt-0",children:e.jsxs(b,{children:[e.jsx(o,{md:6,children:e.jsxs(a.Group,{className:"mb-3",children:[e.jsxs(a.Label,{children:["Name ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsx(a.Control,{type:"text",name:"name",placeholder:"Customer name",value:r.values.name,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:r.touched.name&&!!r.errors.name,required:!0}),e.jsx(a.Control.Feedback,{type:"invalid",children:r.errors.name})]})}),e.jsx(o,{md:6,children:e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Email"}),e.jsx(a.Control,{type:"email",name:"email",placeholder:"Customer email",value:r.values.email,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:r.touched.email&&!!r.errors.email}),e.jsx(a.Control.Feedback,{type:"invalid",children:r.errors.email})]})}),e.jsx(o,{md:6,children:e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Phone"}),e.jsx(a.Control,{type:"text",name:"phone",placeholder:"Phone number",value:r.values.phone,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:r.touched.phone&&!!r.errors.phone}),e.jsx(a.Control.Feedback,{type:"invalid",children:r.errors.phone})]})}),e.jsx(o,{md:6,children:e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Tax Number"}),e.jsx(a.Control,{type:"text",name:"tax_number",placeholder:"Tax identification number",value:r.values.tax_number,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:r.touched.tax_number&&!!r.errors.tax_number}),e.jsx(a.Control.Feedback,{type:"invalid",children:r.errors.tax_number})]})}),e.jsx(o,{md:12,children:e.jsxs(a.Group,{className:"mb-3",children:[e.jsx(a.Label,{children:"Address"}),e.jsx(a.Control,{as:"textarea",rows:3,name:"address",placeholder:"Full address",value:r.values.address,onChange:r.handleChange,onBlur:r.handleBlur,isInvalid:r.touched.address&&!!r.errors.address}),e.jsx(a.Control.Feedback,{type:"invalid",children:r.errors.address})]})})]})}),e.jsxs(n.Footer,{className:"border-top-0",children:[e.jsx(d,{variant:"outline-secondary",onClick:l,children:"Cancel"}),e.jsx(d,{variant:"primary",type:"submit",disabled:r.isSubmitting,children:r.isSubmitting?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Saving..."]}):"Save Customer"})]})]})]})}export{w as C};
